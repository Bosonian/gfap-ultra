var rd=Object.defineProperty;var id=(e,t,n)=>t in e?rd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Cr=(e,t,n)=>id(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();class od{constructor(){this.state={currentScreen:"triage1",results:null,sessionId:null,startTime:null,formData:{},validationErrors:{},screenHistory:[]},this.listeners=new Set,this.initialize()}initialize(){this.state.sessionId=this.generateSessionId(),this.state.startTime=Date.now(),console.log("Store initialized with session:",this.state.sessionId)}generateSessionId(){return"session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}subscribe(t){return this.listeners.add(t),()=>this.listeners.delete(t)}notify(){this.listeners.forEach(t=>t(this.state))}getState(){return{...this.state}}setState(t){this.state={...this.state,...t},this.notify()}navigate(t){console.log(`Navigating from ${this.state.currentScreen} to ${t}`);const n=[...this.state.screenHistory];this.state.currentScreen!==t&&!n.includes(this.state.currentScreen)&&n.push(this.state.currentScreen),this.setState({currentScreen:t,screenHistory:n})}goBack(){const t=[...this.state.screenHistory];if(console.log("goBack() - current history:",t),console.log("goBack() - current screen:",this.state.currentScreen),t.length>0){const n=t.pop();return console.log("goBack() - navigating to:",n),this.setState({currentScreen:n,screenHistory:t}),!0}return console.log("goBack() - no history available"),!1}goHome(){this.setState({currentScreen:"triage1",screenHistory:[]})}setFormData(t,n){const r={...this.state.formData};r[t]={...n},this.setState({formData:r})}getFormData(t){return this.state.formData[t]||{}}setValidationErrors(t){this.setState({validationErrors:t})}clearValidationErrors(){this.setState({validationErrors:{}})}setResults(t){this.setState({results:t})}hasUnsavedData(){return Object.keys(this.state.formData).length>0&&!this.state.results}reset(){const t={currentScreen:"triage1",results:null,sessionId:this.generateSessionId(),startTime:Date.now(),formData:{},validationErrors:{},screenHistory:[]};this.setState(t),console.log("Store reset with new session:",t.sessionId)}logEvent(t,n={}){const r={timestamp:Date.now(),session:this.state.sessionId,event:t,data:n};console.log("Event:",r)}getSessionDuration(){return Date.now()-this.state.startTime}}const I=new od;function Ht(e){const t=[{id:1,label:"Triage"},{id:2,label:"Assessment"},{id:3,label:"Results"}];let n='<div class="progress-indicator">';return t.forEach((r,i)=>{const o=r.id===e,s=r.id<e;n+=`
      <div class="progress-step ${o?"active":""} ${s?"completed":""}">
        ${s?"":r.id}
      </div>
    `,i<t.length-1&&(n+=`<div class="progress-line ${s?"completed":""}"></div>`)}),n+="</div>",n}const ml={en:{appTitle:"iGFAP",emergencyBadge:"Emergency Tool",helpButton:"Help and Instructions",darkModeButton:"Toggle dark mode",languageToggle:"Language",step1:"Initial Assessment",step2:"Data Collection",step3:"Results",comaModuleTitle:"Coma Module",limitedDataModuleTitle:"Limited Data Module",fullStrokeModuleTitle:"Full Stroke Module",triage1Title:"Patient Assessment",triage1Question:"Is the patient comatose?",triage1Help:"Glasgow Coma Scale < 8",triage1Yes:"YES - Comatose",triage1No:"NO - Conscious",triage2Title:"Examination Capability",triage2Question:"Can the patient be reliably examined?",triage2Help:"Patient is not aphasic, confused, or uncooperative",triage2Yes:"YES - Full Exam Possible",triage2No:"NO - Limited Exam Only",ageLabel:"Age (years)",ageHelp:"Patient age in years",systolicLabel:"Systolic BP (mmHg)",systolicHelp:"Systolic blood pressure",diastolicLabel:"Diastolic BP (mmHg)",diastolicHelp:"Diastolic blood pressure",gfapLabel:"GFAP Value (pg/mL)",gfapHelp:"GFAP biomarker level",fastEdLabel:"FAST-ED Score",fastEdHelp:"FAST-ED assessment score (0-9)",headacheLabel:"Headache",vigilanzLabel:"Reduced consciousness",armPareseLabel:"Arm weakness",beinPareseLabel:"Leg weakness",eyeDeviationLabel:"Eye deviation",atrialFibLabel:"Atrial fibrillation",anticoagLabel:"Anticoagulated (NOAK)",antiplateletsLabel:"Antiplatelets",analyzeButton:"Analyze",analyzing:"Analyzing...",printResults:"Print Results",newAssessment:"Start New Assessment",startOver:"Start Over",goBack:"Go Back",goHome:"Go Home",basicInformation:"Basic Information",biomarkersScores:"Biomarkers & Scores",clinicalSymptoms:"Clinical Symptoms",medicalHistory:"Medical History",ageYearsLabel:"Age (years)",systolicBpLabel:"Systolic BP (mmHg)",diastolicBpLabel:"Diastolic BP (mmHg)",gfapValueLabel:"GFAP Value (pg/mL)",fastEdScoreLabel:"FAST-ED Score",ageYearsHelp:"Patient's age in years",systolicBpHelp:"Normal: 90-140 mmHg",diastolicBpHelp:"Normal: 60-90 mmHg",gfapTooltip:"Brain injury biomarker",gfapTooltipLong:"Glial Fibrillary Acidic Protein - Brain injury biomarker",gfapRange:"Range: {min} - {max} pg/mL",fastEdTooltip:"0-9 scale for LVO screening",analyzeIchRisk:"Analyze ICH Risk",analyzeStrokeRisk:"Analyze Stroke Risk",criticalPatient:"Critical Patient",comaAlert:"Patient is comatose (GCS < 8). Rapid assessment required.",vigilanceReduction:"Vigilance Reduction (Decreased alertness)",armParesis:"Arm Paresis",legParesis:"Leg Paresis",eyeDeviation:"Eye Deviation",atrialFibrillation:"Atrial Fibrillation",onNoacDoac:"On NOAC/DOAC",onAntiplatelets:"On Antiplatelets",resultsTitle:"Assessment Results",bleedingRiskAssessment:"Bleeding Risk Assessment",ichProbability:"ICH Probability",lvoProbability:"LVO Probability",lvoMayBePossible:"Large vessel occlusion possible - further evaluation recommended",riskFactorsTitle:"Main Risk Factors",increasingRisk:"Increasing Risk",decreasingRisk:"Decreasing Risk",noFactors:"No factors",riskLevel:"Risk Level",lowRisk:"Low Risk",mediumRisk:"Medium Risk",highRisk:"High Risk",riskLow:"Low",riskMedium:"Medium",riskHigh:"High",riskFactorsAnalysis:"Risk Factors",contributingFactors:"Contributing factors to the assessment",riskFactors:"Risk Factors",increaseRisk:"INCREASE",decreaseRisk:"DECREASE",noPositiveFactors:"No increasing factors",noNegativeFactors:"No decreasing factors",ichRiskFactors:"ICH Risk Factors",lvoRiskFactors:"LVO Risk Factors",criticalAlertTitle:"CRITICAL RISK DETECTED",criticalAlertMessage:"High probability of intracerebral hemorrhage detected.",immediateActionsRequired:"Immediate actions required",initiateStrokeProtocol:"Initiate stroke protocol immediately",urgentCtImaging:"Urgent CT imaging required",considerBpManagement:"Consider blood pressure management",prepareNeurosurgicalConsult:"Prepare for potential neurosurgical consultation",helpTitle:"Quick Reference Guide",gcsTitle:"Glasgow Coma Scale (GCS)",gcsLow:"GCS < 8: Comatose patient - use Coma Module",gcsMod:"GCS 8-12: Moderate impairment",gcsHigh:"GCS 13-15: Mild impairment",fastEdTitle:"FAST-ED Score Components",fastEdFacial:"Facial Palsy: 0-1 points",fastEdArm:"Arm Weakness: 0-2 points",fastEdSpeech:"Speech Changes: 0-2 points",fastEdTime:"Time: Critical factor",fastEdEye:"Eye Deviation: 0-2 points",fastEdDenial:"Denial/Neglect: 0-2 points",criticalValuesTitle:"Critical Values",criticalBp:"Systolic BP > 180: Increased ICH risk",criticalGfap:"GFAP > 500 pg/mL: Significant marker",criticalFastEd:"FAST-ED ‚â• 4: Consider LVO",fastEdCalculatorTitle:"FAST-ED Score Calculator",fastEdCalculatorSubtitle:"Click to calculate FAST-ED score components",facialPalsyTitle:"Facial Palsy",facialPalsyNormal:"Normal (0)",facialPalsyMild:"Present (1)",armWeaknessTitle:"Arm Weakness",armWeaknessNormal:"Normal (0)",armWeaknessMild:"Mild weakness or drift (1)",armWeaknessSevere:"Severe weakness or falls immediately (2)",speechChangesTitle:"Speech Abnormalities",speechChangesNormal:"Normal (0)",speechChangesMild:"Mild dysarthria or aphasia (1)",speechChangesSevere:"Severe dysarthria or aphasia (2)",eyeDeviationTitle:"Eye Deviation",eyeDeviationNormal:"Normal (0)",eyeDeviationPartial:"Partial gaze deviation (1)",eyeDeviationForced:"Forced gaze deviation (2)",denialNeglectTitle:"Denial/Neglect",denialNeglectNormal:"Normal (0)",denialNeglectPartial:"Partial neglect (1)",denialNeglectComplete:"Complete neglect (2)",totalScoreTitle:"Total FAST-ED Score",riskLevel:"Risk Level",riskLevelLow:"LOW (Score <4)",riskLevelHigh:"HIGH (Score ‚â•4 - Consider LVO)",applyScore:"Apply Score",cancel:"Cancel",riskAnalysis:"Risk Analysis",riskAnalysisSubtitle:"Clinical factors in this assessment",contributingFactors:"Contributing factors",factorsShown:"shown",positiveFactors:"Positive factors",negativeFactors:"Negative factors",clinicalInformation:"Clinical Information",clinicalRecommendations:"Clinical Recommendations",clinicalRec1:"Consider immediate imaging if ICH risk is high",clinicalRec2:"Activate stroke team for LVO scores ‚â• 50%",clinicalRec3:"Monitor blood pressure closely",clinicalRec4:"Document all findings thoroughly",noDriverData:"No driver data available",driverAnalysisUnavailable:"Driver analysis unavailable",driverInfoNotAvailable:"Driver information not available from this prediction model",driverAnalysisNotAvailable:"Driver analysis not available for this prediction",lvoNotPossible:"LVO assessment not possible with limited data",fullExamRequired:"Full neurological examination required for LVO screening",limitedAssessment:"Limited Assessment",disclaimer:"Clinical Disclaimer",disclaimerText:"This tool is for clinical decision support only. Always use clinical judgment and follow local protocols. Not a replacement for physician assessment.",importantNote:"Important",importantText:"These results are for clinical decision support only. Always use clinical judgment and follow institutional protocols.",predictedMortality:"Predicted 30-day mortality",ichVolumeLabel:"ICH Volume",references:"References",inputSummaryTitle:"Input Summary",inputSummarySubtitle:"Values used for this analysis",privacyLink:"Privacy Policy",disclaimerLink:"Medical Disclaimer",versionLink:"Version 2.1.0 - Research Preview",privacyPolicy:"Privacy Policy: This tool processes data locally. No patient data is stored or transmitted.",medicalDisclaimer:"Medical Disclaimer: This tool is for clinical decision support only. Always use clinical judgment and follow local protocols.",networkError:"Network error - please check your connection and try again",requestTimeout:"Request timeout - please try again",apiError:"Failed to get results",validationError:"Please check your input values",sessionTimeout:"Your session has been idle for 30 minutes. Would you like to continue?",unsavedData:"You have unsaved data. Are you sure you want to leave?",nearestCentersTitle:"Nearest Stroke Centers",useCurrentLocation:"Use Current Location",enterLocationPlaceholder:"Enter city or address...",enterManually:"Enter Location Manually",search:"Search",yourLocation:"Your Location",recommendedCenters:"Recommended Centers",alternativeCenters:"Alternative Centers",noCentersFound:"No stroke centers found in this area",gettingLocation:"Getting your location",searchingLocation:"Searching location",locationError:"Unable to get your location",locationPermissionDenied:"Location access denied. Please allow location access and try again.",locationUnavailable:"Location information is unavailable",locationTimeout:"Location request timed out",geolocationNotSupported:"Geolocation is not supported by this browser",geocodingNotImplemented:"Location search not available. Please use GPS or enter coordinates manually.",tryManualEntry:"Try entering your location manually or use GPS.",distanceNote:"Distances are calculated as straight-line distances. Actual travel times may vary.",travelTimeNote:"Travel times calculated for emergency vehicles with sirens and priority routing.",calculatingTravelTimes:"Calculating travel times",minutes:"min",poweredByOrs:"Travel times powered by OpenRoute Service",comprehensiveCenter:"Comprehensive Stroke Center",primaryCenter:"Primary Stroke Center",telemetryCenter:"Telemedicine Center",thrombectomy:"Thrombectomy",neurosurgery:"Neurosurgery",icu:"Intensive Care",telemedicine:"Telemedicine",stroke_unit:"Stroke Unit",call:"Call",directions:"Directions",emergency:"Emergency",certified:"Certified",prerequisitesTitle:"Prerequisites for Stroke Triage",prerequisitesIntro:"Please confirm that all of the following prerequisites are met:",prerequisitesWarning:"All prerequisites must be met to continue",continue:"Continue",acute_deficit:"Acute (severe) neurological deficit present",symptom_onset:"Symptom onset within 6 hours",no_preexisting:"No pre-existing severe neurological deficits",no_trauma:"No traumatic brain injury present",differentialDiagnoses:"Differential Diagnoses",reconfirmTimeWindow:"Please reconfirm time window!",unclearTimeWindow:"With unclear/extended time window, early demarcated brain infarction is also possible",rareDiagnoses:"Rare diagnoses such as glioblastoma are also possible"},de:{appTitle:"iGFAP",emergencyBadge:"Notfall-Tool",helpButton:"Hilfe und Anweisungen",darkModeButton:"Dunklen Modus umschalten",languageToggle:"Sprache",step1:"Erstbeurteilung",step2:"Datenerhebung",step3:"Ergebnisse",comaModuleTitle:"Koma-Modul",limitedDataModuleTitle:"Begrenzte Daten Modul",fullStrokeModuleTitle:"Vollst√§ndiges Schlaganfall-Modul",triage1Title:"Patientenbeurteilung",triage1Question:"Ist der Patient komat√∂s?",triage1Help:"Glasgow Coma Scale < 8",triage1Yes:"JA - Komat√∂s",triage1No:"NEIN - Bei Bewusstsein",triage2Title:"Untersuchungsf√§higkeit",triage2Question:"Kann der Patient zuverl√§ssig untersucht werden?",triage2Help:"Patient ist nicht aphasisch, verwirrt oder unkooperativ",triage2Yes:"JA - Vollst√§ndige Untersuchung m√∂glich",triage2No:"NEIN - Nur begrenzte Untersuchung",ageLabel:"Alter (Jahre)",ageHelp:"Patientenalter in Jahren",systolicLabel:"Systolischer RR (mmHg)",systolicHelp:"Systolischer Blutdruck",diastolicLabel:"Diastolischer RR (mmHg)",diastolicHelp:"Diastolischer Blutdruck",gfapLabel:"GFAP-Wert (pg/mL)",gfapHelp:"GFAP-Biomarker-Wert",fastEdLabel:"FAST-ED-Score",fastEdHelp:"FAST-ED-Bewertungsscore (0-9)",headacheLabel:"Kopfschmerzen",vigilanzLabel:"Bewusstseinstr√ºbung",armPareseLabel:"Armschw√§che",beinPareseLabel:"Beinschw√§che",eyeDeviationLabel:"Blickdeviation",atrialFibLabel:"Vorhofflimmern",anticoagLabel:"Antikoaguliert (NOAK)",antiplateletsLabel:"Thrombozytenaggregationshemmer",analyzeButton:"Analysieren",analyzing:"Analysiere...",printResults:"Ergebnisse drucken",newAssessment:"Neue Bewertung starten",startOver:"Von vorn beginnen",goBack:"Zur√ºck",goHome:"Zur Startseite",basicInformation:"Grundinformationen",biomarkersScores:"Biomarker & Scores",clinicalSymptoms:"Klinische Symptome",medicalHistory:"Anamnese",ageYearsLabel:"Alter (Jahre)",systolicBpLabel:"Systolischer RR (mmHg)",diastolicBpLabel:"Diastolischer RR (mmHg)",gfapValueLabel:"GFAP-Wert (pg/mL)",fastEdScoreLabel:"FAST-ED-Score",ageYearsHelp:"Patientenalter in Jahren",systolicBpHelp:"Normal: 90-140 mmHg",diastolicBpHelp:"Normal: 60-90 mmHg",gfapTooltip:"Hirnverletzungs-Biomarker",gfapTooltipLong:"Glial Fibrillary Acidic Protein - Hirnverletzungs-Biomarker",gfapRange:"Bereich: {min} - {max} pg/mL",fastEdTooltip:"0-9 Skala f√ºr LVO-Screening",analyzeIchRisk:"ICB-Risiko analysieren",analyzeStrokeRisk:"Schlaganfall-Risiko analysieren",criticalPatient:"Kritischer Patient",comaAlert:"Patient ist komat√∂s (GCS < 8). Schnelle Beurteilung erforderlich.",vigilanceReduction:"Vigilanzminderung (Verminderte Wachheit)",armParesis:"Armparese",legParesis:"Beinparese",eyeDeviation:"Blickdeviation",atrialFibrillation:"Vorhofflimmern",onNoacDoac:"NOAK/DOAK-Therapie",onAntiplatelets:"Thrombozytenaggregationshemmer",resultsTitle:"Bewertungsergebnisse",bleedingRiskAssessment:"Blutungsrisiko-Bewertung",ichProbability:"ICB-Wahrscheinlichkeit",lvoProbability:"LVO-Wahrscheinlichkeit",lvoMayBePossible:"Gro√ügef√§√üverschluss m√∂glich - weitere Abkl√§rung empfohlen",riskFactorsTitle:"Hauptrisikofaktoren",increasingRisk:"Risikoerh√∂hend",decreasingRisk:"Risikomindernd",noFactors:"Keine Faktoren",riskLevel:"Risikostufe",lowRisk:"Niedriges Risiko",mediumRisk:"Mittleres Risiko",highRisk:"Hohes Risiko",riskLow:"Niedrig",riskMedium:"Mittel",riskHigh:"Hoch",riskFactorsAnalysis:"Risikofaktoren",contributingFactors:"Beitragende Faktoren zur Bewertung",riskFactors:"Risikofaktoren",increaseRisk:"ERH√ñHEN",decreaseRisk:"VERRINGERN",noPositiveFactors:"Keine erh√∂henden Faktoren",noNegativeFactors:"Keine verringernden Faktoren",ichRiskFactors:"ICB-Risikofaktoren",lvoRiskFactors:"LVO-Risikofaktoren",criticalAlertTitle:"KRITISCHES RISIKO ERKANNT",criticalAlertMessage:"Hohe Wahrscheinlichkeit einer intrazerebralen Blutung erkannt.",immediateActionsRequired:"Sofortige Ma√ünahmen erforderlich",initiateStrokeProtocol:"Schlaganfall-Protokoll sofort einleiten",urgentCtImaging:"Dringende CT-Bildgebung erforderlich",considerBpManagement:"Blutdruckmanagement erw√§gen",prepareNeurosurgicalConsult:"Neurochirurgische Konsultation vorbereiten",helpTitle:"Kurzreferenzleitfaden",gcsTitle:"Glasgow Coma Scale (GCS)",gcsLow:"GCS < 8: Komat√∂ser Patient - Koma-Modul verwenden",gcsMod:"GCS 8-12: M√§√üige Beeintr√§chtigung",gcsHigh:"GCS 13-15: Leichte Beeintr√§chtigung",fastEdTitle:"FAST-ED-Score-Komponenten",fastEdFacial:"Faziale Parese: 0-1 Punkte",fastEdArm:"Armschw√§che: 0-2 Punkte",fastEdSpeech:"Sprachver√§nderungen: 0-2 Punkte",fastEdTime:"Zeit: Kritischer Faktor",fastEdEye:"Blickdeviation: 0-2 Punkte",fastEdDenial:"Verneinung/Neglect: 0-2 Punkte",criticalValuesTitle:"Kritische Werte",criticalBp:"Systolischer RR > 180: Erh√∂htes ICB-Risiko",criticalGfap:"GFAP > 500 pg/mL: Signifikanter Marker",criticalFastEd:"FAST-ED ‚â• 4: LVO in Betracht ziehen",fastEdCalculatorTitle:"FAST-ED-Score-Rechner",fastEdCalculatorSubtitle:"Klicken Sie, um FAST-ED-Score-Komponenten zu berechnen",facialPalsyTitle:"Fazialisparese",facialPalsyNormal:"Normal (0)",facialPalsyMild:"Vorhanden (1)",armWeaknessTitle:"Armschw√§che",armWeaknessNormal:"Normal (0)",armWeaknessMild:"Leichte Schw√§che oder Absinken (1)",armWeaknessSevere:"Schwere Schw√§che oder f√§llt sofort ab (2)",speechChangesTitle:"Sprachst√∂rungen",speechChangesNormal:"Normal (0)",speechChangesMild:"Leichte Dysarthrie oder Aphasie (1)",speechChangesSevere:"Schwere Dysarthrie oder Aphasie (2)",eyeDeviationTitle:"Blickdeviation",eyeDeviationNormal:"Normal (0)",eyeDeviationPartial:"Partielle Blickdeviation (1)",eyeDeviationForced:"Forcierte Blickdeviation (2)",denialNeglectTitle:"Verneinung/Neglect",denialNeglectNormal:"Normal (0)",denialNeglectPartial:"Partieller Neglect (1)",denialNeglectComplete:"Kompletter Neglect (2)",totalScoreTitle:"Gesamt-FAST-ED-Score",riskLevel:"Risikostufe",riskLevelLow:"NIEDRIG (Score <4)",riskLevelHigh:"HOCH (Score ‚â•4 - LVO erw√§gen)",applyScore:"Score Anwenden",cancel:"Abbrechen",riskAnalysis:"Risikoanalyse",riskAnalysisSubtitle:"Klinische Faktoren in dieser Bewertung",contributingFactors:"Beitragende Faktoren",factorsShown:"angezeigt",positiveFactors:"Positive Faktoren",negativeFactors:"Negative Faktoren",clinicalInformation:"Klinische Informationen",clinicalRecommendations:"Klinische Empfehlungen",clinicalRec1:"Sofortige Bildgebung erw√§gen bei hohem ICB-Risiko",clinicalRec2:"Stroke-Team aktivieren bei LVO-Score ‚â• 50%",clinicalRec3:"Blutdruck engmaschig √ºberwachen",clinicalRec4:"Alle Befunde gr√ºndlich dokumentieren",noDriverData:"Keine Treiberdaten verf√ºgbar",driverAnalysisUnavailable:"Treiberanalyse nicht verf√ºgbar",driverInfoNotAvailable:"Treiberinformationen von diesem Vorhersagemodell nicht verf√ºgbar",driverAnalysisNotAvailable:"Treiberanalyse f√ºr diese Vorhersage nicht verf√ºgbar",lvoNotPossible:"LVO-Bewertung mit begrenzten Daten nicht m√∂glich",fullExamRequired:"Vollst√§ndige neurologische Untersuchung f√ºr LVO-Screening erforderlich",limitedAssessment:"Begrenzte Bewertung",disclaimer:"Klinischer Haftungsausschluss",disclaimerText:"Dieses Tool dient nur zur klinischen Entscheidungsunterst√ºtzung. Verwenden Sie immer klinisches Urteilsverm√∂gen und befolgen Sie lokale Protokolle. Kein Ersatz f√ºr √§rztliche Beurteilung.",importantNote:"Wichtig",importantText:"Diese Ergebnisse dienen nur zur klinischen Entscheidungsunterst√ºtzung. Verwenden Sie immer klinisches Urteilsverm√∂gen und befolgen Sie institutionelle Protokolle.",predictedMortality:"Vorhergesagte 30-Tage-Mortalit√§t",ichVolumeLabel:"ICB-Volumen",references:"Referenzen",inputSummaryTitle:"Eingabezusammenfassung",inputSummarySubtitle:"F√ºr diese Analyse verwendete Werte",privacyLink:"Datenschutzrichtlinie",disclaimerLink:"Medizinischer Haftungsausschluss",versionLink:"Version 2.1.0 - Research Preview",privacyPolicy:"Datenschutzrichtlinie: Dieses Tool verarbeitet Daten lokal. Keine Patientendaten werden gespeichert oder √ºbertragen.",medicalDisclaimer:"Medizinischer Haftungsausschluss: Dieses Tool dient nur zur klinischen Entscheidungsunterst√ºtzung. Verwenden Sie immer klinisches Urteilsverm√∂gen und befolgen Sie lokale Protokolle.",networkError:"Netzwerkfehler - bitte √ºberpr√ºfen Sie Ihre Verbindung und versuchen Sie es erneut",requestTimeout:"Anfrage-Timeout - bitte versuchen Sie es erneut",apiError:"Ergebnisse konnten nicht abgerufen werden",validationError:"Bitte √ºberpr√ºfen Sie Ihre Eingabewerte",sessionTimeout:"Ihre Sitzung war 30 Minuten lang inaktiv. M√∂chten Sie fortfahren?",unsavedData:"Sie haben ungespeicherte Daten. Sind Sie sicher, dass Sie verlassen m√∂chten?",nearestCentersTitle:"N√§chstgelegene Schlaganfall-Zentren",useCurrentLocation:"Aktuellen Standort verwenden",enterLocationPlaceholder:"Stadt oder Adresse eingeben...",enterManually:"Standort manuell eingeben",search:"Suchen",yourLocation:"Ihr Standort",recommendedCenters:"Empfohlene Zentren",alternativeCenters:"Alternative Zentren",noCentersFound:"Keine Schlaganfall-Zentren in diesem Bereich gefunden",gettingLocation:"Standort wird ermittelt",searchingLocation:"Standort wird gesucht",locationError:"Standort konnte nicht ermittelt werden",locationPermissionDenied:"Standortzugriff verweigert. Bitte erlauben Sie Standortzugriff und versuchen Sie es erneut.",locationUnavailable:"Standortinformationen sind nicht verf√ºgbar",locationTimeout:"Standortanfrage ist abgelaufen",geolocationNotSupported:"Geolokalisierung wird von diesem Browser nicht unterst√ºtzt",geocodingNotImplemented:"Standortsuche nicht verf√ºgbar. Bitte verwenden Sie GPS oder geben Sie Koordinaten manuell ein.",tryManualEntry:"Versuchen Sie, Ihren Standort manuell einzugeben oder GPS zu verwenden.",distanceNote:"Entfernungen werden als Luftlinie berechnet. Tats√§chliche Fahrzeiten k√∂nnen variieren.",travelTimeNote:"Fahrzeiten berechnet f√ºr Rettungsfahrzeuge mit Sondersignalen und Vorfahrtsberechtigung.",calculatingTravelTimes:"Fahrzeiten werden berechnet",minutes:"Min",poweredByOrs:"Fahrzeiten bereitgestellt von OpenRoute Service",comprehensiveCenter:"√úberregionales Schlaganfall-Zentrum",primaryCenter:"Regionales Schlaganfall-Zentrum",telemetryCenter:"Telemedizin-Zentrum",thrombectomy:"Thrombektomie",neurosurgery:"Neurochirurgie",icu:"Intensivstation",telemedicine:"Telemedizin",stroke_unit:"Stroke Unit",call:"Anrufen",directions:"Wegbeschreibung",emergency:"Notfall",certified:"Zertifiziert",prerequisitesTitle:"Voraussetzungen f√ºr Schlaganfall-Triage",prerequisitesIntro:"Bitte best√§tigen Sie, dass alle folgenden Voraussetzungen erf√ºllt sind:",prerequisitesWarning:"Alle Voraussetzungen m√ºssen erf√ºllt sein, um fortzufahren",continue:"Weiter",acute_deficit:"Akutes (schweres) neurologisches Defizit vorhanden",symptom_onset:"Symptombeginn innerhalb 6h",no_preexisting:"Keine vorbestehende schwere neurologische Defizite",no_trauma:"Kein Sch√§delhirntrauma vorhanden",differentialDiagnoses:"Differentialdiagnosen",reconfirmTimeWindow:"Bitte Zeitfenster rekonfirmieren!",unclearTimeWindow:"Bei unklarem/erweitertem Zeitfenster ist auch ein beginnend demarkierter Hirninfarkt m√∂glich",rareDiagnoses:"Seltene Diagnosen wie ein Glioblastom sind auch m√∂glich"}};class sd{constructor(){this.supportedLanguages=["en","de"],this.currentLanguage=this.detectLanguage()}detectLanguage(){const t=localStorage.getItem("language");return t&&this.supportedLanguages.includes(t)?t:(navigator.language||navigator.userLanguage).substring(0,2).toLowerCase()==="de"?"de":"en"}getCurrentLanguage(){return this.currentLanguage}setLanguage(t){return this.supportedLanguages.includes(t)?(this.currentLanguage=t,localStorage.setItem("language",t),window.dispatchEvent(new CustomEvent("languageChanged",{detail:{language:t}})),!0):!1}getSupportedLanguages(){return[...this.supportedLanguages]}t(t){return(ml[this.currentLanguage]||ml.en)[t]||t}toggleLanguage(){const t=this.currentLanguage==="en"?"de":"en";return this.setLanguage(t)}getLanguageDisplayName(t=null){const n=t||this.currentLanguage;return{en:"English",de:"Deutsch"}[n]||n}formatDateTime(t){const n=this.currentLanguage==="de"?"de-DE":"en-US";return new Intl.DateTimeFormat(n,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(t)}formatTime(t){const n=this.currentLanguage==="de"?"de-DE":"en-US";return new Intl.DateTimeFormat(n,{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(t)}}const xt=new sd,m=e=>xt.t(e);function hl(){return`
    <div class="container">
      ${Ht(1)}
      <h2>${m("triage1Title")}</h2>
      <div class="triage-question">
        ${m("triage1Question")}
        <small>${m("triage1Help")}</small>
      </div>
      <div class="triage-buttons">
        <button class="yes-btn" data-action="triage1" data-value="true">${m("triage1Yes")}</button>
        <button class="no-btn" data-action="triage1" data-value="false">${m("triage1No")}</button>
      </div>
    </div>
  `}function ld(){return`
    <div class="container">
      ${Ht(1)}
      <h2>${m("triage2Title")}</h2>
      <div class="triage-question">
        ${m("triage2Question")}
        <small>${m("triage2Help")}</small>
      </div>
      <div class="triage-buttons">
        <button class="yes-btn" data-action="triage2" data-value="true">${m("triage2Yes")}</button>
        <button class="no-btn" data-action="triage2" data-value="false">${m("triage2No")}</button>
      </div>
    </div>
  `}const At={COMA_ICH:"https://europe-west3-igfap-452720.cloudfunctions.net/predict_coma_ich",LDM_ICH:"https://europe-west3-igfap-452720.cloudfunctions.net/predict_limited_data_ich",FULL_STROKE:"https://europe-west3-igfap-452720.cloudfunctions.net/predict_full_stroke"},Aa={ich:{medium:25,high:50},lvo:{medium:25,high:50}},He={min:29,max:10001},So={autoSaveInterval:18e4,sessionTimeout:30*60*1e3,requestTimeout:1e4},ad={age_years:{required:!0,min:0,max:120},systolic_bp:{required:!0,min:60,max:300},diastolic_bp:{required:!0,min:30,max:200},gfap_value:{required:!0,min:He.min,max:He.max},fast_ed_score:{required:!0,min:0,max:9}};function ud(){return`
    <div class="container">
      ${Ht(2)}
      <h2>${m("comaModuleTitle")||"Coma Module"}</h2>
      <form data-module="coma">
        <div class="input-grid">
          <div class="input-group">
            <label for="gfap_value">
              ${m("gfapValueLabel")}
              <span class="tooltip">‚ÑπÔ∏è
                <span class="tooltiptext">${m("gfapTooltipLong")}</span>
              </span>
            </label>
            <input type="number" id="gfap_value" name="gfap_value" min="${He.min}" max="${He.max}" step="0.1" required aria-describedby="gfap-help">
            <div id="gfap-help" class="input-help">
              ${m("gfapRange").replace("{min}",He.min).replace("{max}",He.max)}
            </div>
          </div>
        </div>
        <button type="submit" class="primary">${m("analyzeIchRisk")}</button>
        <button type="button" class="secondary" data-action="reset">${m("startOver")}</button>
      </form>
    </div>
  `}function cd(){return`
    <div class="container">
      ${Ht(2)}
      <h2>${m("limitedDataModuleTitle")||"Limited Data Module"}</h2>
      <form data-module="limited">
        <div class="input-grid">
          <div class="input-group">
            <label for="age_years">${m("ageYearsLabel")}</label>
            <input type="number" name="age_years" id="age_years" min="0" max="120" required aria-describedby="age-help">
            <div id="age-help" class="input-help">${m("ageYearsHelp")}</div>
          </div>
          <div class="input-group">
            <label for="systolic_bp">${m("systolicBpLabel")}</label>
            <div class="input-with-unit">
              <input type="number" name="systolic_bp" id="systolic_bp" min="60" max="300" required aria-describedby="sbp-help" inputmode="numeric">
              <span class="unit">mmHg</span>
            </div>
            <div id="sbp-help" class="input-help">${m("systolicBpHelp")}</div>
          </div>
          <div class="input-group">
            <label for="diastolic_bp">${m("diastolicBpLabel")}</label>
            <div class="input-with-unit">
              <input type="number" name="diastolic_bp" id="diastolic_bp" min="30" max="200" required aria-describedby="dbp-help" inputmode="numeric">
              <span class="unit">mmHg</span>
            </div>
            <div id="dbp-help" class="input-help">${m("diastolicBpHelp")}</div>
          </div>
          <div class="input-group">
            <label for="gfap_value">
              ${m("gfapValueLabel")}
              <span class="tooltip">‚ÑπÔ∏è
                <span class="tooltiptext">${m("gfapTooltipLong")}</span>
              </span>
            </label>
            <div class="input-with-unit">
              <input type="number" name="gfap_value" id="gfap_value" min="${He.min}" max="${He.max}" step="0.1" required inputmode="decimal">
              <span class="unit">pg/mL</span>
            </div>
          </div>
        </div>
        <div class="checkbox-group">
          <label class="checkbox-wrapper">
            <input type="checkbox" name="vigilanzminderung" id="vigilanzminderung">
            <span class="checkbox-label">${m("vigilanceReduction")}</span>
          </label>
        </div>
        <button type="submit" class="primary">${m("analyzeIchRisk")}</button>
        <button type="button" class="secondary" data-action="reset">${m("startOver")}</button>
      </form>
    </div>
  `}function dd(){return`
    <div class="container">
      ${Ht(2)}
      <h2>${m("fullStrokeModuleTitle")||"Full Stroke Module"}</h2>
      <form data-module="full">
        <h3>${m("basicInformation")}</h3>
        <div class="input-grid">
          <div class="input-group">
            <label for="age_years">${m("ageYearsLabel")}</label>
            <input type="number" name="age_years" id="age_years" min="0" max="120" required>
          </div>
          <div class="input-group">
            <label for="systolic_bp">${m("systolicBpLabel")}</label>
            <div class="input-with-unit">
              <input type="number" name="systolic_bp" id="systolic_bp" min="60" max="300" required inputmode="numeric">
              <span class="unit">mmHg</span>
            </div>
          </div>
          <div class="input-group">
            <label for="diastolic_bp">${m("diastolicBpLabel")}</label>
            <div class="input-with-unit">
              <input type="number" name="diastolic_bp" id="diastolic_bp" min="30" max="200" required inputmode="numeric">
              <span class="unit">mmHg</span>
            </div>
          </div>
        </div>

        <h3>${m("biomarkersScores")}</h3>
        <div class="input-grid">
          <div class="input-group">
            <label for="gfap_value">
              ${m("gfapValueLabel")}
              <span class="tooltip">‚ÑπÔ∏è
                <span class="tooltiptext">${m("gfapTooltip")}</span>
              </span>
            </label>
            <div class="input-with-unit">
              <input type="number" name="gfap_value" id="gfap_value" min="${He.min}" max="${He.max}" step="0.1" required inputmode="decimal">
              <span class="unit">pg/mL</span>
            </div>
          </div>
          <div class="input-group">
            <label for="fast_ed_score">
              ${m("fastEdScoreLabel")}
              <span class="tooltip">‚ÑπÔ∏è
                <span class="tooltiptext">${m("fastEdCalculatorSubtitle")}</span>
              </span>
            </label>
            <input type="number" name="fast_ed_score" id="fast_ed_score" min="0" max="9" required readonly placeholder="${m("fastEdCalculatorSubtitle")}" style="cursor: pointer;">
            <input type="hidden" name="armparese" id="armparese_hidden" value="false">
            <input type="hidden" name="eye_deviation" id="eye_deviation_hidden" value="false">
          </div>
        </div>

        <h3>${m("clinicalSymptoms")}</h3>
        <div class="input-grid">
          <div class="checkbox-group">
            <label class="checkbox-wrapper">
              <input type="checkbox" name="headache" id="headache">
              <span class="checkbox-label">${m("headacheLabel")}</span>
            </label>
            <label class="checkbox-wrapper">
              <input type="checkbox" name="vigilanzminderung" id="vigilanzminderung">
              <span class="checkbox-label">${m("vigilanzLabel")}</span>
            </label>
          </div>
          <div class="checkbox-group">
            <label class="checkbox-wrapper">
              <input type="checkbox" name="beinparese" id="beinparese">
              <span class="checkbox-label">${m("legParesis")}</span>
            </label>
          </div>
        </div>

        <h3>${m("medicalHistory")}</h3>
        <div class="input-grid">
          <div class="checkbox-group">
            <label class="checkbox-wrapper">
              <input type="checkbox" name="atrial_fibrillation" id="atrial_fibrillation">
              <span class="checkbox-label">${m("atrialFibrillation")}</span>
            </label>
          </div>
          <div class="checkbox-group">
            <label class="checkbox-wrapper">
              <input type="checkbox" name="anticoagulated_noak" id="anticoagulated_noak">
              <span class="checkbox-label">${m("onNoacDoac")}</span>
            </label>
          </div>
          <div class="checkbox-group">
            <label class="checkbox-wrapper">
              <input type="checkbox" name="antiplatelets" id="antiplatelets">
              <span class="checkbox-label">${m("onAntiplatelets")}</span>
            </label>
          </div>
        </div>

        <button type="submit" class="primary">${m("analyzeStrokeRisk")}</button>
        <button type="button" class="secondary" data-action="reset">${m("startOver")}</button>
      </form>
    </div>
  `}function Ia(){return`
    <div class="critical-alert">
      <h4><span class="alert-icon">üö®</span> ${m("criticalAlertTitle")}</h4>
      <p>${m("criticalAlertMessage")}</p>
    </div>
  `}const fd={age_years:"ageLabel",age:"ageLabel",systolic_bp:"systolicLabel",diastolic_bp:"diastolicLabel",systolic_blood_pressure:"systolicLabel",diastolic_blood_pressure:"diastolicLabel",blood_pressure_systolic:"systolicLabel",blood_pressure_diastolic:"diastolicLabel",gfap_value:"gfapLabel",gfap:"gfapLabel",gfap_level:"gfapLabel",fast_ed_score:"fastEdLabel",fast_ed:"fastEdLabel",fast_ed_total:"fastEdLabel",vigilanzminderung:"vigilanzLabel",vigilance_reduction:"vigilanzLabel",reduced_consciousness:"vigilanzLabel",armparese:"armPareseLabel",arm_paresis:"armPareseLabel",arm_weakness:"armPareseLabel",beinparese:"beinPareseLabel",leg_paresis:"beinPareseLabel",leg_weakness:"beinPareseLabel",eye_deviation:"eyeDeviationLabel",blickdeviation:"eyeDeviationLabel",headache:"headacheLabel",kopfschmerzen:"headacheLabel",atrial_fibrillation:"atrialFibLabel",vorhofflimmern:"atrialFibLabel",anticoagulated_noak:"anticoagLabel",anticoagulation:"anticoagLabel",antiplatelets:"antiplateletsLabel",thrombozytenaggregationshemmer:"antiplateletsLabel"},pd=[{pattern:/_score$/,replacement:" Score"},{pattern:/_value$/,replacement:" Level"},{pattern:/_bp$/,replacement:" Blood Pressure"},{pattern:/_years?$/,replacement:" (years)"},{pattern:/^ich_/,replacement:"Brain Bleeding "},{pattern:/^lvo_/,replacement:"Large Vessel "},{pattern:/parese$/,replacement:"Weakness"},{pattern:/deviation$/,replacement:"Movement"}];function ti(e){if(!e)return"";const t=fd[e.toLowerCase()];if(t){const r=m(t);if(r&&r!==t)return r}let n=e.toLowerCase();return pd.forEach(({pattern:r,replacement:i})=>{n=n.replace(r,i)}),n=n.replace(/_/g," ").replace(/\b\w/g,r=>r.toUpperCase()).trim(),n}function md(e){return ti(e).replace(/\s*\([^)]*\)\s*/g,"").trim()}function hd(e,t=""){return e==null||e===""?"":typeof e=="boolean"?e?"‚úì":"‚úó":typeof e=="number"?t.includes("bp")||t.includes("blood_pressure")?`${e} mmHg`:t.includes("gfap")?`${e} pg/mL`:t.includes("age")?`${e} years`:t.includes("score")||Number.isInteger(e)?e.toString():e.toFixed(1):e.toString()}function gd(e,t){if(console.log("=== DRIVER RENDERING SECTION ==="),console.log("üß† ICH result received:",{probability:e==null?void 0:e.probability,hasDrivers:!!(e!=null&&e.drivers),module:e==null?void 0:e.module}),console.log("ü©∏ LVO result received:",{probability:t==null?void 0:t.probability,hasDrivers:!!(t!=null&&t.drivers),module:t==null?void 0:t.module,notPossible:t==null?void 0:t.notPossible}),!(e!=null&&e.drivers)&&!(t!=null&&t.drivers))return console.log("‚ùå No drivers available for rendering"),"";let n=`
    <div class="drivers-section">
      <div class="drivers-header">
        <h3><span class="driver-header-icon">üéØ</span> ${m("riskAnalysis")}</h3>
        <p class="drivers-subtitle">${m("riskAnalysisSubtitle")}</p>
      </div>
      <div class="enhanced-drivers-grid">
  `;return e!=null&&e.drivers&&(console.log("üß† Rendering ICH drivers panel"),n+=gl(e.drivers,"ICH","ich",e.probability)),t!=null&&t.drivers&&!t.notPossible&&(console.log("ü©∏ Rendering LVO drivers panel"),n+=gl(t.drivers,"LVO","lvo",t.probability)),n+=`
      </div>
    </div>
  `,n}function gl(e,t,n,r){if(console.log(`--- ${t} Driver Panel Debug ---`),console.log("Raw drivers input:",e),console.log("Title:",t,"Type:",n,"Probability:",r),!e||Object.keys(e).length===0)return console.log(`No drivers data for ${t}`),`
      <div class="enhanced-drivers-panel ${n}">
        <div class="panel-header">
          <div class="panel-icon ${n}">${n==="ich"?"ü©∏":"üß†"}</div>
          <div class="panel-title">
            <h4>${t} ${m("riskFactors")}</h4>
            <span class="panel-subtitle">${m("noDriverData")}</span>
          </div>
        </div>
        <p class="no-drivers-message">
          ${m("driverInfoNotAvailable")}
        </p>
      </div>
    `;const i=e;if(console.log(`${t} drivers ready for display:`,i),i.kind==="unavailable")return`
      <div class="enhanced-drivers-panel ${n}">
        <div class="panel-header">
          <div class="panel-icon ${n}">${n==="ich"?"ü©∏":"üß†"}</div>
          <div class="panel-title">
            <h4>${t} ${m("riskFactors")}</h4>
            <span class="panel-subtitle">${m("driverAnalysisUnavailable")}</span>
          </div>
        </div>
        <p class="no-drivers-message">
          ${m("driverAnalysisNotAvailable")}
        </p>
      </div>
    `;const o=i.positive.sort((u,f)=>Math.abs(f.weight)-Math.abs(u.weight)).slice(0,3),s=i.negative.sort((u,f)=>Math.abs(f.weight)-Math.abs(u.weight)).slice(0,3);console.log(`üéØ ${t} Final displayed drivers:`),console.log("  Top positive:",o.map(u=>`${u.label}: +${(Math.abs(u.weight)*100).toFixed(1)}%`)),console.log("  Top negative:",s.map(u=>`${u.label}: -${(Math.abs(u.weight)*100).toFixed(1)}%`));const l=Math.max(...o.map(u=>Math.abs(u.weight)),...s.map(u=>Math.abs(u.weight)),.01);let a=`
    <div class="enhanced-drivers-panel ${n}">
      <div class="panel-header">
        <div class="panel-icon ${n}">${n==="ich"?"ü©∏":"üß†"}</div>
        <div class="panel-title">
          <h4>${t} ${m("riskFactors")}</h4>
          <span class="panel-subtitle">${m("contributingFactors")}</span>
        </div>
      </div>
      
      <div class="drivers-split-view">
        <div class="drivers-column positive-column">
          <div class="column-header">
            <span class="column-icon">‚Üë</span>
            <span class="column-title">${m("increaseRisk")}</span>
          </div>
          <div class="compact-drivers">
  `;return o.length>0?o.forEach(u=>{const f=Math.abs(u.weight*100),h=Math.abs(u.weight)/l*100,g=ti(u.label);a+=`
        <div class="compact-driver-item">
          <div class="compact-driver-label">${g}</div>
          <div class="compact-driver-bar positive" style="width: ${h}%">
            <span class="compact-driver-value">+${f.toFixed(0)}%</span>
          </div>
        </div>
      `}):a+=`<div class="no-factors">${m("noPositiveFactors")}</div>`,a+=`
          </div>
        </div>
        
        <div class="drivers-column negative-column">
          <div class="column-header">
            <span class="column-icon">‚Üì</span>
            <span class="column-title">${m("decreaseRisk")}</span>
          </div>
          <div class="compact-drivers">
  `,s.length>0?s.forEach(u=>{const f=Math.abs(u.weight*100),h=Math.abs(u.weight)/l*100,g=ti(u.label);a+=`
        <div class="compact-driver-item">
          <div class="compact-driver-label">${g}</div>
          <div class="compact-driver-bar negative" style="width: ${h}%">
            <span class="compact-driver-value">-${f.toFixed(0)}%</span>
          </div>
        </div>
      `}):a+=`<div class="no-factors">${m("noNegativeFactors")}</div>`,a+=`
          </div>
        </div>
      </div>
    </div>
  `,a}const Da={bayern:{neurosurgicalCenters:[{id:"BY-NS-001",name:"LMU Klinikum M√ºnchen - Gro√ühadern",address:"Marchioninistra√üe 15, 81377 M√ºnchen",coordinates:{lat:48.1106,lng:11.4684},phone:"+49 89 4400-0",emergency:"+49 89 4400-73331",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:1440,network:"TEMPiS"},{id:"BY-NS-002",name:"Klinikum rechts der Isar M√ºnchen (TUM)",address:"Ismaninger Str. 22, 81675 M√ºnchen",coordinates:{lat:48.1497,lng:11.6052},phone:"+49 89 4140-0",emergency:"+49 89 4140-2249",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:1161,network:"TEMPiS"},{id:"BY-NS-003",name:"St√§dtisches Klinikum M√ºnchen Schwabing",address:"K√∂lner Platz 1, 80804 M√ºnchen",coordinates:{lat:48.1732,lng:11.5755},phone:"+49 89 3068-0",emergency:"+49 89 3068-2050",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:648,network:"TEMPiS"},{id:"BY-NS-004",name:"St√§dtisches Klinikum M√ºnchen Bogenhausen",address:"Englschalkinger Str. 77, 81925 M√ºnchen",coordinates:{lat:48.1614,lng:11.6254},phone:"+49 89 9270-0",emergency:"+49 89 9270-2050",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:689,network:"TEMPiS"},{id:"BY-NS-005",name:"Universit√§tsklinikum Erlangen",address:"Maximiliansplatz 2, 91054 Erlangen",coordinates:{lat:49.5982,lng:11.0037},phone:"+49 9131 85-0",emergency:"+49 9131 85-39003",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:1371,network:"TEMPiS"},{id:"BY-NS-006",name:"Universit√§tsklinikum Regensburg",address:"Franz-Josef-Strau√ü-Allee 11, 93053 Regensburg",coordinates:{lat:49.0134,lng:12.0991},phone:"+49 941 944-0",emergency:"+49 941 944-7501",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:1042,network:"TEMPiS"},{id:"BY-NS-007",name:"Universit√§tsklinikum W√ºrzburg",address:"Oberd√ºrrbacher Str. 6, 97080 W√ºrzburg",coordinates:{lat:49.784,lng:9.9721},phone:"+49 931 201-0",emergency:"+49 931 201-24444",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:1264,network:"TEMPiS"},{id:"BY-NS-008",name:"Klinikum N√ºrnberg Nord",address:"Prof.-Ernst-Nathan-Str. 1, 90419 N√ºrnberg",coordinates:{lat:49.4521,lng:11.0767},phone:"+49 911 398-0",emergency:"+49 911 398-2369",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:1368,network:"TEMPiS"},{id:"BY-NS-009",name:"Universit√§tsklinikum Augsburg",address:"Stenglinstr. 2, 86156 Augsburg",coordinates:{lat:48.3668,lng:10.9093},phone:"+49 821 400-01",emergency:"+49 821 400-2356",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:1740,network:"TEMPiS"},{id:"BY-NS-010",name:"Klinikum Aschaffenburg-Alzenau",address:"Am Hasenkopf 1, 63739 Aschaffenburg",coordinates:{lat:49.9737,lng:9.157},phone:"+49 6021 32-0",emergency:"+49 6021 32-2800",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:40,network:"TRANSIT"},{id:"BY-NS-011",name:"Klinikum Landshut",address:"Robert-Koch-Str. 1, 84034 Landshut",coordinates:{lat:48.5665,lng:12.1512},phone:"+49 871 698-0",emergency:"+49 871 698-3333",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:505,network:"TEMPiS"},{id:"BY-NS-012",name:"Klinikum Coburg",address:"Ketschendorfer Str. 33, 96450 Coburg",coordinates:{lat:50.2596,lng:10.9644},phone:"+49 9561 22-0",emergency:"+49 9561 22-6800",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:547,network:"STENO"},{id:"BY-NS-013",name:"Klinikum Passau",address:"Bischof-Pilgrim-Str. 1, 94032 Passau",coordinates:{lat:48.5665,lng:13.4777},phone:"+49 851 5300-0",emergency:"+49 851 5300-2222",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:696,network:"TEMPiS"}],comprehensiveStrokeCenters:[{id:"BY-CS-001",name:"Klinikum Bamberg",address:"Buger Str. 80, 96049 Bamberg",coordinates:{lat:49.8988,lng:10.9027},phone:"+49 951 503-0",emergency:"+49 951 503-11101",thrombectomy:!0,thrombolysis:!0,beds:630,network:"TEMPiS"},{id:"BY-CS-002",name:"Klinikum Bayreuth",address:"Preuschwitzer Str. 101, 95445 Bayreuth",coordinates:{lat:49.9459,lng:11.5779},phone:"+49 921 400-0",emergency:"+49 921 400-5401",thrombectomy:!0,thrombolysis:!0,beds:848,network:"TEMPiS"},{id:"BY-CS-003",name:"Klinikum Coburg",address:"Ketschendorfer Str. 33, 96450 Coburg",coordinates:{lat:50.2596,lng:10.9685},phone:"+49 9561 22-0",emergency:"+49 9561 22-6300",thrombectomy:!0,thrombolysis:!0,beds:522,network:"TEMPiS"}],regionalStrokeUnits:[{id:"BY-RSU-001",name:"Goldberg-Klinik Kelheim",address:"Traubenweg 3, 93309 Kelheim",coordinates:{lat:48.9166,lng:11.8742},phone:"+49 9441 702-0",emergency:"+49 9441 702-6800",thrombolysis:!0,beds:200,network:"TEMPiS"},{id:"BY-RSU-002",name:"DONAUISAR Klinikum Deggendorf",address:"Perlasberger Str. 41, 94469 Deggendorf",coordinates:{lat:48.8372,lng:12.9619},phone:"+49 991 380-0",emergency:"+49 991 380-2201",thrombolysis:!0,beds:450,network:"TEMPiS"},{id:"BY-RSU-003",name:"Klinikum St. Elisabeth Straubing",address:"St.-Elisabeth-Str. 23, 94315 Straubing",coordinates:{lat:48.8742,lng:12.5733},phone:"+49 9421 710-0",emergency:"+49 9421 710-2000",thrombolysis:!0,beds:580,network:"TEMPiS"},{id:"BY-RSU-004",name:"Klinikum Freising",address:"Mainburger Str. 29, 85356 Freising",coordinates:{lat:48.4142,lng:11.7461},phone:"+49 8161 24-0",emergency:"+49 8161 24-2800",thrombolysis:!0,beds:380,network:"TEMPiS"},{id:"BY-RSU-005",name:"Klinikum Landkreis Erding",address:"Bajuwarenstr. 5, 85435 Erding",coordinates:{lat:48.3061,lng:11.9067},phone:"+49 8122 59-0",emergency:"+49 8122 59-2201",thrombolysis:!0,beds:350,network:"TEMPiS"},{id:"BY-RSU-006",name:"Helios Amper-Klinikum Dachau",address:"Krankenhausstr. 15, 85221 Dachau",coordinates:{lat:48.2599,lng:11.4342},phone:"+49 8131 76-0",emergency:"+49 8131 76-2201",thrombolysis:!0,beds:480,network:"TEMPiS"},{id:"BY-RSU-007",name:"Klinikum F√ºrstenfeldbruck",address:"Dachauer Str. 33, 82256 F√ºrstenfeldbruck",coordinates:{lat:48.1772,lng:11.2578},phone:"+49 8141 99-0",emergency:"+49 8141 99-2201",thrombolysis:!0,beds:420,network:"TEMPiS"},{id:"BY-RSU-008",name:"Klinikum Ingolstadt",address:"Krumenauerstra√üe 25, 85049 Ingolstadt",coordinates:{lat:48.7665,lng:11.4364},phone:"+49 841 880-0",emergency:"+49 841 880-2201",thrombolysis:!0,beds:665,network:"TEMPiS"},{id:"BY-RSU-009",name:"Klinikum Passau",address:"Bischof-Pilgrim-Str. 1, 94032 Passau",coordinates:{lat:48.5665,lng:13.4513},phone:"+49 851 5300-0",emergency:"+49 851 5300-2100",thrombolysis:!0,beds:540,network:"TEMPiS"},{id:"BY-RSU-010",name:"Klinikum Landshut",address:"Robert-Koch-Str. 1, 84034 Landshut",coordinates:{lat:48.5436,lng:12.1619},phone:"+49 871 698-0",emergency:"+49 871 698-3333",thrombolysis:!0,beds:790,network:"TEMPiS"},{id:"BY-RSU-011",name:"RoMed Klinikum Rosenheim",address:"Pettenkoferstr. 10, 83022 Rosenheim",coordinates:{lat:47.8567,lng:12.1265},phone:"+49 8031 365-0",emergency:"+49 8031 365-3711",thrombolysis:!0,beds:870,network:"TEMPiS"},{id:"BY-RSU-012",name:"Klinikum Memmingen",address:"Bismarckstr. 23, 87700 Memmingen",coordinates:{lat:47.9833,lng:10.1833},phone:"+49 8331 70-0",emergency:"+49 8331 70-2500",thrombolysis:!0,beds:520,network:"TEMPiS"},{id:"BY-RSU-013",name:"Klinikum Kempten-Oberallg√§u",address:"Robert-Weixler-Str. 50, 87439 Kempten",coordinates:{lat:47.7261,lng:10.3097},phone:"+49 831 530-0",emergency:"+49 831 530-2201",thrombolysis:!0,beds:650,network:"TEMPiS"},{id:"BY-RSU-014",name:"Klinikum Aschaffenburg-Alzenau",address:"Am Hasenkopf 1, 63739 Aschaffenburg",coordinates:{lat:49.9747,lng:9.1581},phone:"+49 6021 32-0",emergency:"+49 6021 32-2700",thrombolysis:!0,beds:590,network:"TEMPiS"}],thrombolysisHospitals:[{id:"BY-TH-001",name:"Krankenhaus Vilsbiburg",address:"Sonnenstra√üe 10, 84137 Vilsbiburg",coordinates:{lat:48.6333,lng:12.2833},phone:"+49 8741 60-0",thrombolysis:!0,beds:180},{id:"BY-TH-002",name:"Krankenhaus Eggenfelden",address:"Pfarrkirchener Str. 5, 84307 Eggenfelden",coordinates:{lat:48.4,lng:12.7667},phone:"+49 8721 98-0",thrombolysis:!0,beds:220}]},badenWuerttemberg:{neurosurgicalCenters:[{id:"BW-NS-001",name:"Universit√§tsklinikum Freiburg",address:"Hugstetter Str. 55, 79106 Freiburg",coordinates:{lat:48.0025,lng:7.8347},phone:"+49 761 270-0",emergency:"+49 761 270-34010",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:1600,network:"FAST"},{id:"BW-NS-002",name:"Universit√§tsklinikum Heidelberg",address:"Im Neuenheimer Feld 400, 69120 Heidelberg",coordinates:{lat:49.4178,lng:8.6706},phone:"+49 6221 56-0",emergency:"+49 6221 56-36643",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:1621,network:"FAST"},{id:"BW-NS-003",name:"Universit√§tsklinikum T√ºbingen",address:"Geissweg 3, 72076 T√ºbingen",coordinates:{lat:48.5378,lng:9.0538},phone:"+49 7071 29-0",emergency:"+49 7071 29-82211",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:1550,network:"FAST"},{id:"BW-NS-004",name:"Universit√§tsklinikum Ulm",address:"Albert-Einstein-Allee 23, 89081 Ulm",coordinates:{lat:48.4196,lng:9.9592},phone:"+49 731 500-0",emergency:"+49 731 500-63001",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:1264,network:"FAST"},{id:"BW-NS-005",name:"Klinikum Stuttgart - Katharinenhospital",address:"Kriegsbergstra√üe 60, 70174 Stuttgart",coordinates:{lat:48.7784,lng:9.1682},phone:"+49 711 278-0",emergency:"+49 711 278-32001",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:950,network:"FAST"},{id:"BW-NS-006",name:"St√§dtisches Klinikum Karlsruhe",address:"Moltkestra√üe 90, 76133 Karlsruhe",coordinates:{lat:49.0047,lng:8.3858},phone:"+49 721 974-0",emergency:"+49 721 974-2301",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:1570,network:"FAST"},{id:"BW-NS-007",name:"Klinikum Ludwigsburg",address:"Posilipostra√üe 4, 71640 Ludwigsburg",coordinates:{lat:48.8901,lng:9.1953},phone:"+49 7141 99-0",emergency:"+49 7141 99-67201",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:720,network:"FAST"}],comprehensiveStrokeCenters:[{id:"BW-CS-001",name:"Universit√§tsmedizin Mannheim",address:"Theodor-Kutzer-Ufer 1-3, 68167 Mannheim",coordinates:{lat:49.4828,lng:8.4664},phone:"+49 621 383-0",emergency:"+49 621 383-2251",thrombectomy:!0,thrombolysis:!0,beds:1400,network:"FAST"}],regionalStrokeUnits:[{id:"BW-RSU-001",name:"Robert-Bosch-Krankenhaus Stuttgart",address:"Auerbachstra√üe 110, 70376 Stuttgart",coordinates:{lat:48.7447,lng:9.2294},phone:"+49 711 8101-0",emergency:"+49 711 8101-3456",thrombolysis:!0,beds:850,network:"FAST"}],thrombolysisHospitals:[]},nordrheinWestfalen:{neurosurgicalCenters:[{id:"NRW-NS-001",name:"Universit√§tsklinikum D√ºsseldorf",address:"Moorenstra√üe 5, 40225 D√ºsseldorf",coordinates:{lat:51.1906,lng:6.8064},phone:"+49 211 81-0",emergency:"+49 211 81-17700",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:1300,network:"NEVANO+"},{id:"NRW-NS-002",name:"Universit√§tsklinikum K√∂ln",address:"Kerpener Str. 62, 50937 K√∂ln",coordinates:{lat:50.9253,lng:6.9187},phone:"+49 221 478-0",emergency:"+49 221 478-32500",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:1500,network:"NEVANO+"},{id:"NRW-NS-003",name:"Universit√§tsklinikum Essen",address:"Hufelandstra√üe 55, 45147 Essen",coordinates:{lat:51.4285,lng:7.0073},phone:"+49 201 723-0",emergency:"+49 201 723-84444",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:1350,network:"NEVANO+"},{id:"NRW-NS-004",name:"Universit√§tsklinikum M√ºnster",address:"Albert-Schweitzer-Campus 1, 48149 M√ºnster",coordinates:{lat:51.9607,lng:7.6261},phone:"+49 251 83-0",emergency:"+49 251 83-47255",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:1513,network:"NEVANO+"},{id:"NRW-NS-005",name:"Universit√§tsklinikum Bonn",address:"Venusberg-Campus 1, 53127 Bonn",coordinates:{lat:50.6916,lng:7.1127},phone:"+49 228 287-0",emergency:"+49 228 287-15107",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:1200,network:"NEVANO+"},{id:"NRW-NS-006",name:"Klinikum Dortmund",address:"Beurhausstra√üe 40, 44137 Dortmund",coordinates:{lat:51.5036,lng:7.4663},phone:"+49 231 953-0",emergency:"+49 231 953-20050",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:1200,network:"NVNR"},{id:"NRW-NS-007",name:"Rhein-Maas Klinikum W√ºrselen",address:"Mauerfeldstra√üe 25, 52146 W√ºrselen",coordinates:{lat:50.8178,lng:6.1264},phone:"+49 2405 62-0",emergency:"+49 2405 62-2222",neurosurgery:!0,thrombectomy:!0,thrombolysis:!0,beds:420,network:"NEVANO+"}],comprehensiveStrokeCenters:[{id:"NRW-CS-001",name:"Universit√§tsklinikum Aachen",address:"Pauwelsstra√üe 30, 52074 Aachen",coordinates:{lat:50.778,lng:6.0614},phone:"+49 241 80-0",emergency:"+49 241 80-89611",thrombectomy:!0,thrombolysis:!0,beds:1400,network:"NEVANO+"}],regionalStrokeUnits:[{id:"NRW-RSU-001",name:"Helios Universit√§tsklinikum Wuppertal",address:"Heusnerstra√üe 40, 42283 Wuppertal",coordinates:{lat:51.2467,lng:7.1703},phone:"+49 202 896-0",emergency:"+49 202 896-2180",thrombolysis:!0,beds:1050,network:"NEVANO+"}],thrombolysisHospitals:[{id:"NRW-TH-009",name:"Elisabeth-Krankenhaus Essen",address:"Klara-Kopp-Weg 1, 45138 Essen",coordinates:{lat:51.4495,lng:7.0137},phone:"+49 201 897-0",thrombolysis:!0,beds:583},{id:"NRW-TH-010",name:"Klinikum Oberberg Gummersbach",address:"Wilhelm-Breckow-Allee 20, 51643 Gummersbach",coordinates:{lat:51.0277,lng:7.5694},phone:"+49 2261 17-0",thrombolysis:!0,beds:431},{id:"NRW-TH-011",name:"St. Vincenz-Krankenhaus Limburg",address:"Auf dem Schafsberg, 65549 Limburg",coordinates:{lat:50.3856,lng:8.0584},phone:"+49 6431 292-0",thrombolysis:!0,beds:452},{id:"NRW-TH-012",name:"Klinikum L√ºdenscheid",address:"Paulmannsh√∂her Stra√üe 14, 58515 L√ºdenscheid",coordinates:{lat:51.2186,lng:7.6298},phone:"+49 2351 46-0",thrombolysis:!0,beds:869}]}},vd={routePatient:function(e){const{location:t,state:n,ichProbability:r,timeFromOnset:i,clinicalFactors:o}=e,s=n||this.detectState(t),l=Da[s];if(r>=.5){const a=this.findNearest(t,l.neurosurgicalCenters);if(!a)throw new Error(`No neurosurgical centers available in ${s}`);return{category:"NEUROSURGICAL_CENTER",destination:a,urgency:"IMMEDIATE",reasoning:"High bleeding probability (‚â•50%) - neurosurgical evaluation required",preAlert:"Activate neurosurgery team",bypassLocal:!0,threshold:"‚â•50%",state:s}}else if(r>=.3){const a=[...l.neurosurgicalCenters,...l.comprehensiveStrokeCenters];return{category:"COMPREHENSIVE_CENTER",destination:this.findNearest(t,a),urgency:"URGENT",reasoning:"Intermediate bleeding risk (30-50%) - CT and possible intervention",preAlert:"Prepare for possible neurosurgical consultation",transferPlan:this.findNearest(t,l.neurosurgicalCenters),threshold:"30-50%",state:s}}else if(i&&i<=270){const a=[...l.neurosurgicalCenters,...l.comprehensiveStrokeCenters,...l.regionalStrokeUnits,...l.thrombolysisHospitals];return{category:"THROMBOLYSIS_CAPABLE",destination:this.findNearest(t,a),urgency:"TIME_CRITICAL",reasoning:"Low bleeding risk (<30%), within tPA window - nearest thrombolysis",preAlert:"Prepare for thrombolysis protocol",bypassLocal:!1,threshold:"<30%",timeWindow:"‚â§4.5h",state:s}}else{const a=[...l.neurosurgicalCenters,...l.comprehensiveStrokeCenters,...l.regionalStrokeUnits];return{category:"STROKE_UNIT",destination:this.findNearest(t,a),urgency:"STANDARD",reasoning:i>270?"Low bleeding risk, outside tPA window - standard stroke evaluation":"Low bleeding risk - standard stroke evaluation",preAlert:"Standard stroke protocol",bypassLocal:!1,threshold:"<30%",timeWindow:i?">4.5h":"unknown",state:s}}},detectState:function(e){return e.lat>=47.5&&e.lat<=49.8&&e.lng>=7.5&&e.lng<=10.2?"badenWuerttemberg":e.lat>=50.3&&e.lat<=52.5&&e.lng>=5.9&&e.lng<=9.5?"nordrheinWestfalen":e.lat>=47.2&&e.lat<=50.6&&e.lng>=10.2&&e.lng<=13.8?"bayern":this.findNearestState(e)},findNearestState:function(e){const t={bayern:{lat:49,lng:11.5},badenWuerttemberg:{lat:48.5,lng:9},nordrheinWestfalen:{lat:51.5,lng:7.5}};let n="bayern",r=1/0;for(const[i,o]of Object.entries(t)){const s=this.calculateDistance(e,o);s<r&&(r=s,n=i)}return n},findNearest:function(e,t){return!t||t.length===0?(console.warn("No hospitals available in database"),null):t.map(n=>!n.coordinates||typeof n.coordinates.lat!="number"?(console.warn(`Hospital ${n.name} missing valid coordinates`),null):{...n,distance:this.calculateDistance(e,n.coordinates)}).filter(n=>n!==null).sort((n,r)=>n.distance-r.distance)[0]},calculateDistance:function(e,t){const r=this.toRad(t.lat-e.lat),i=this.toRad(t.lng-e.lng),o=Math.sin(r/2)*Math.sin(r/2)+Math.cos(this.toRad(e.lat))*Math.cos(this.toRad(t.lat))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},toRad:function(e){return e*(Math.PI/180)}};function ni(e,t,n,r){const o=Lr(n-e),s=Lr(r-t),l=Math.sin(o/2)*Math.sin(o/2)+Math.cos(Lr(e))*Math.cos(Lr(n))*Math.sin(s/2)*Math.sin(s/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}function Lr(e){return e*(Math.PI/180)}async function yd(e,t,n,r,i="driving-car"){try{const o=`https://api.openrouteservice.org/v2/directions/${i}`,l=await fetch(o,{method:"POST",headers:{Accept:"application/json, application/geo+json, application/gpx+xml, img/png; charset=utf-8",Authorization:"5b3ce3597851110001cf624868c4c27b63ae476c9c26c8bffbc35688","Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({coordinates:[[t,e],[r,n]],radiuses:[1e3,1e3],format:"json"})});if(!l.ok)throw new Error(`Routing API error: ${l.status}`);const a=await l.json();if(a.routes&&a.routes.length>0){const u=a.routes[0];return{duration:Math.round(u.summary.duration/60),distance:Math.round(u.summary.distance/1e3),source:"routing"}}else throw new Error("No route found")}catch(o){console.warn("Travel time calculation failed, using distance estimate:",o);const s=ni(e,t,n,r);return{duration:Math.round(s/.8),distance:Math.round(s),source:"estimated"}}}async function vl(e,t,n,r){try{const i=await yd(e,t,n,r,"driving-car");return{duration:Math.round(i.duration*.75),distance:i.distance,source:i.source==="routing"?"emergency-routing":"emergency-estimated"}}catch{const o=ni(e,t,n,r);return{duration:Math.round(o/1.2),distance:Math.round(o),source:"emergency-estimated"}}}function Fa(e){return`
    <div class="stroke-center-section">
      <h3>üè• ${m("nearestCentersTitle")}</h3>
      <div id="locationContainer">
        <div class="location-controls">
          <button type="button" id="useGpsButton" class="secondary">
            üìç ${m("useCurrentLocation")}
          </button>
          <div class="location-manual" style="display: none;">
            <input type="text" id="locationInput" placeholder="${m("enterLocationPlaceholder")||"e.g. M√ºnchen, K√∂ln, Stuttgart, or 48.1351, 11.5820"}" />
            <button type="button" id="searchLocationButton" class="secondary">${m("search")}</button>
          </div>
          <button type="button" id="manualLocationButton" class="secondary">
            ‚úèÔ∏è ${m("enterManually")}
          </button>
        </div>
        <div id="strokeCenterResults" class="stroke-center-results"></div>
      </div>
    </div>
  `}function kd(e){const t=document.getElementById("useGpsButton"),n=document.getElementById("manualLocationButton"),r=document.querySelector(".location-manual"),i=document.getElementById("locationInput"),o=document.getElementById("searchLocationButton"),s=document.getElementById("strokeCenterResults");t&&t.addEventListener("click",()=>{Sd(e,s)}),n&&n.addEventListener("click",()=>{r.style.display=r.style.display==="none"?"block":"none"}),o&&o.addEventListener("click",()=>{const l=i.value.trim();l&&yl(l,e,s)}),i&&i.addEventListener("keypress",l=>{if(l.key==="Enter"){const a=i.value.trim();a&&yl(a,e,s)}})}function Sd(e,t){if(!navigator.geolocation){On(m("geolocationNotSupported"),t);return}t.innerHTML=`<div class="loading">${m("gettingLocation")}...</div>`,navigator.geolocation.getCurrentPosition(n=>{const{latitude:r,longitude:i}=n.coords;wo(r,i,e,t)},n=>{let r=m("locationError");switch(n.code){case n.PERMISSION_DENIED:r=m("locationPermissionDenied");break;case n.POSITION_UNAVAILABLE:r=m("locationUnavailable");break;case n.TIMEOUT:r=m("locationTimeout");break}On(r,t)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})}async function yl(e,t,n){n.innerHTML=`<div class="loading">${m("searchingLocation")}...</div>`;const r=/^(-?\d+\.?\d*)\s*,\s*(-?\d+\.?\d*)$/,i=e.trim().match(r);if(i){const o=parseFloat(i[1]),s=parseFloat(i[2]);if(o>=47.2&&o<=52.5&&s>=5.9&&s<=15){n.innerHTML=`
        <div class="location-success">
          <p>üìç Coordinates: ${o.toFixed(4)}, ${s.toFixed(4)}</p>
        </div>
      `,setTimeout(()=>{wo(o,s,t,n)},500);return}else{On("Coordinates appear to be outside Germany. Please check the values.",n);return}}try{let o=e.trim();!o.toLowerCase().includes("deutschland")&&!o.toLowerCase().includes("germany")&&!o.toLowerCase().includes("bayern")&&!o.toLowerCase().includes("bavaria")&&!o.toLowerCase().includes("nordrhein")&&!o.toLowerCase().includes("baden")&&(o=o+", Deutschland");const l=`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(o)}&countrycodes=de&format=json&limit=3&addressdetails=1`,a=await fetch(l,{method:"GET",headers:{Accept:"application/json","User-Agent":"iGFAP-StrokeTriage/2.1.0"}});if(!a.ok)throw new Error(`Geocoding API error: ${a.status}`);const u=await a.json();if(u&&u.length>0){let f=u[0];const h=["Bayern","Baden-W√ºrttemberg","Nordrhein-Westfalen"];for(const k of u)if(k.address&&h.includes(k.address.state)){f=k;break}const g=parseFloat(f.lat),S=parseFloat(f.lon),v=f.display_name||e;n.innerHTML=`
        <div class="location-success">
          <p>üìç Found: ${v}</p>
          <small style="color: #666;">Lat: ${g.toFixed(4)}, Lng: ${S.toFixed(4)}</small>
        </div>
      `,setTimeout(()=>{wo(g,S,t,n)},1e3)}else On(`
        <strong>Location "${e}" not found.</strong><br>
        <small>Try:</small>
        <ul style="text-align: left; font-size: 0.9em; margin: 10px 0;">
          <li>City name: "M√ºnchen", "K√∂ln", "Stuttgart"</li>
          <li>Address: "Marienplatz 1, M√ºnchen"</li>
          <li>Coordinates: "48.1351, 11.5820"</li>
        </ul>
      `,n)}catch(o){console.warn("Geocoding failed:",o),On(`
      <strong>Unable to search location.</strong><br>
      <small>Please try entering coordinates directly (e.g., "48.1351, 11.5820")</small>
    `,n)}}async function wo(e,t,n,r){var l,a;const i={lat:e,lng:t},o=vd.routePatient({location:i,ichProbability:((l=n==null?void 0:n.ich)==null?void 0:l.probability)||0,timeFromOnset:(n==null?void 0:n.timeFromOnset)||null,clinicalFactors:(n==null?void 0:n.clinicalFactors)||{}});if(!o||!o.destination){r.innerHTML=`
      <div class="location-error">
        <p>‚ö†Ô∏è No suitable stroke centers found in this area.</p>
        <p><small>Please try a different location or contact emergency services directly.</small></p>
      </div>
    `;return}const s=wd(o,n);r.innerHTML=`
    <div class="location-info">
      <p><strong>${m("yourLocation")}:</strong> ${e.toFixed(4)}, ${t.toFixed(4)}</p>
      <p><strong>Detected State:</strong> ${kl(o.state)}</p>
    </div>
    <div class="loading">${m("calculatingTravelTimes")}...</div>
  `;try{const u=Da[o.state],f=[...u.neurosurgicalCenters,...u.comprehensiveStrokeCenters,...u.regionalStrokeUnits,...u.thrombolysisHospitals||[]],h=o.destination;h.distance=ni(e,t,h.coordinates.lat,h.coordinates.lng);try{const v=await vl(e,t,h.coordinates.lat,h.coordinates.lng);h.travelTime=v.duration,h.travelSource=v.source}catch{h.travelTime=Math.round(h.distance/.8),h.travelSource="estimated"}const g=f.filter(v=>v.id!==h.id).map(v=>({...v,distance:ni(e,t,v.coordinates.lat,v.coordinates.lng)})).sort((v,k)=>v.distance-k.distance).slice(0,3);for(const v of g)try{const k=await vl(e,t,v.coordinates.lat,v.coordinates.lng);v.travelTime=k.duration,v.travelSource=k.source}catch{v.travelTime=Math.round(v.distance/.8),v.travelSource="estimated"}const S=`
      <div class="location-info">
        <p><strong>${m("yourLocation")}:</strong> ${e.toFixed(4)}, ${t.toFixed(4)}</p>
        <p><strong>State:</strong> ${kl(o.state)}</p>
        ${s}
      </div>
      
      <div class="recommended-centers">
        <h4>üè• ${o.urgency==="IMMEDIATE"?"Emergency":"Recommended"} Destination</h4>
        ${Sl(h,!0,o)}
      </div>
      
      ${g.length>0?`
        <div class="alternative-centers">
          <h4>Alternative Centers</h4>
          ${g.map(v=>Sl(v,!1,o)).join("")}
        </div>
      `:""}
      
      <div class="travel-time-note">
        <small>${m("travelTimeNote")||"Travel times estimated for emergency vehicles"}</small>
      </div>
    `;r.innerHTML=S}catch(u){console.warn("Enhanced routing failed, using basic display:",u),r.innerHTML=`
      <div class="location-info">
        <p><strong>${m("yourLocation")}:</strong> ${e.toFixed(4)}, ${t.toFixed(4)}</p>
        ${s}
      </div>
      
      <div class="recommended-centers">
        <h4>Recommended Center</h4>
        <div class="stroke-center-card recommended">
          <div class="center-header">
            <h5>${o.destination.name}</h5>
            <span class="distance">${((a=o.destination.distance)==null?void 0:a.toFixed(1))||"?"} km</span>
          </div>
          <div class="center-details">
            <p class="address">üìç ${o.destination.address}</p>
            <p class="phone">üìû ${o.destination.emergency||o.destination.phone}</p>
          </div>
        </div>
      </div>
      
      <div class="routing-reasoning">
        <p><strong>Routing Logic:</strong> ${o.reasoning}</p>
      </div>
    `}}function kl(e){return{bayern:"Bayern (Bavaria)",badenWuerttemberg:"Baden-W√ºrttemberg",nordrheinWestfalen:"Nordrhein-Westfalen (NRW)"}[e]||e}function wd(e,t){var i;const n=Math.round((((i=t==null?void 0:t.ich)==null?void 0:i.probability)||0)*100);let r="üè•";return e.urgency==="IMMEDIATE"?r="üö®":e.urgency==="TIME_CRITICAL"?r="‚è∞":e.urgency==="URGENT"&&(r="‚ö†Ô∏è"),`
    <div class="routing-explanation ${e.category.toLowerCase()}">
      <div class="routing-header">
        <strong>${r} ${e.category.replace("_"," ")} - ${e.urgency}</strong>
      </div>
      <div class="routing-details">
        <p><strong>ICH Risk:</strong> ${n}% ${e.threshold?`(${e.threshold})`:""}</p>
        ${e.timeWindow?`<p><strong>Time Window:</strong> ${e.timeWindow}</p>`:""}
        <p><strong>Routing Logic:</strong> ${e.reasoning}</p>
        <p><strong>Pre-Alert:</strong> ${e.preAlert}</p>
        ${e.bypassLocal?'<p class="bypass-warning">‚ö†Ô∏è Bypassing local hospitals</p>':""}
      </div>
    </div>
  `}function Sl(e,t,n){const r=[];e.neurosurgery&&r.push("üß† Neurosurgery"),e.thrombectomy&&r.push("ü©∏ Thrombectomy"),e.thrombolysis&&r.push("üíâ Thrombolysis");const i=e.network?`<span class="network-badge">${e.network}</span>`:"";return`
    <div class="stroke-center-card ${t?"recommended":"alternative"} enhanced">
      <div class="center-header">
        <h5>${e.name}</h5>
        <div class="center-badges">
          ${e.neurosurgery?'<span class="capability-badge neurosurgery">NS</span>':""}
          ${e.thrombectomy?'<span class="capability-badge thrombectomy">TE</span>':""}
          ${i}
        </div>
      </div>
      
      <div class="center-metrics">
        ${e.travelTime?`
          <div class="travel-info">
            <span class="travel-time">${e.travelTime} min</span>
            <span class="distance">${e.distance.toFixed(1)} km</span>
          </div>
        `:`
          <div class="distance-only">
            <span class="distance">${e.distance.toFixed(1)} km</span>
          </div>
        `}
        <div class="bed-info">
          <span class="beds">${e.beds} beds</span>
        </div>
      </div>
      
      <div class="center-details">
        <p class="address">üìç ${e.address}</p>
        <p class="phone">üìû ${e.emergency||e.phone}</p>
        
        ${r.length>0?`
          <div class="capabilities">
            ${r.join(" ‚Ä¢ ")}
          </div>
        `:""}
      </div>
      
      <div class="center-actions">
        <button class="call-button" onclick="window.open('tel:${e.emergency||e.phone}')">
          üìû Call
        </button>
        <button class="directions-button" onclick="window.open('https://maps.google.com/maps?daddr=${e.coordinates.lat},${e.coordinates.lng}', '_blank')">
          üß≠ Directions
        </button>
      </div>
    </div>
  `}function On(e,t){t.innerHTML=`
    <div class="location-error">
      <p>‚ö†Ô∏è ${e}</p>
      <p><small>${m("tryManualEntry")}</small></p>
    </div>
  `}function bd(e,t){const n=Number(e),r=Aa[t];return n>=r.high?"üî¥ HIGH RISK":n>=r.medium?"üü° MEDIUM RISK":"üü¢ LOW RISK"}const ji={moderate:{min:10},high:{min:20},critical:{min:30}};function gs(e){if(!e||e<=0)return{volume:0,volumeRange:{min:0,max:0},riskLevel:"low",mortalityRate:"~0%",isValid:!0,calculation:"No hemorrhage detected"};const t=Math.min(e,1e4);e>1e4&&console.warn(`GFAP value ${e} exceeds expected range, capped at 10,000 pg/ml`);try{const n=.0192+.4533*Math.log10(t),r=Math.pow(10,n),i={min:r*.7,max:r*1.3},o=Ed(r),s=Cd(r),l=r<1?"<1":r.toFixed(1);return{volume:r,displayVolume:l,volumeRange:{min:i.min.toFixed(1),max:i.max.toFixed(1)},riskLevel:o,mortalityRate:s,isValid:!0,calculation:`Based on GFAP ${e} pg/ml`,threshold:r>=30?"SURGICAL":r>=20?"HIGH_RISK":"MANAGEABLE"}}catch(n){return console.error("Volume calculation error:",n),{volume:0,volumeRange:{min:0,max:0},riskLevel:"low",mortalityRate:"Unknown",isValid:!1,calculation:"Calculation error",error:n.message}}}function Ed(e){return e>=ji.critical.min?"critical":e>=ji.high.min?"high":e>=ji.moderate.min?"moderate":"low"}function Cd(e){return e<10?"5-10%‚Å¥":e<30?`${Math.round(10+(e-10)*9/20)}%‚Å¥`:e<50?`${Math.round(19+(e-30)*25/20)}%¬≥`:e<60?`${Math.round(44+(e-50)*47/10)}%¬≤`:e<80?`${Math.round(91+(e-60)*5/20)}%¬π`:"96-100%¬π"}function Ld(e){return e<1?"<1 ml":e<10?`${e.toFixed(1)} ml`:`${Math.round(e)} ml`}function Md(e){if(!e||e<=0)return`
      <div class="volume-circle" data-volume="0">
        <div class="volume-number">0<span> ml</span></div>
        <canvas class="volume-canvas" width="120" height="120"></canvas>
      </div>
    `;const t=Ld(e),n=`volume-canvas-${Math.random().toString(36).substr(2,9)}`;return`
    <div class="volume-circle" data-volume="${e}">
      <div class="volume-number">${t}</div>
      <canvas id="${n}" class="volume-canvas" 
              data-volume="${e}" data-canvas-id="${n}"></canvas>
    </div>
  `}function Td(){document.querySelectorAll(".volume-canvas").forEach(t=>{const n=t.offsetWidth||120,r=t.offsetHeight||120;t.width=n,t.height=r;const i=parseFloat(t.dataset.volume)||0;i>0&&Pd(t,i)})}function Pd(e,t){const n=e.getContext("2d"),r=e.width/2,i=e.height/2,o=e.width*.45;let s=0,l=!0;const a=document.body.classList.contains("dark-mode")||window.matchMedia("(prefers-color-scheme: dark)").matches;function u(){l&&(n.clearRect(0,0,e.width,e.height),f())}function f(){const v=Math.min(t/80,.9)*(o*1.8),k=i+o-4-v;if(t>0){n.save(),n.beginPath(),n.arc(r,i,o-4,0,Math.PI*2),n.clip(),n.fillStyle="#dc2626",n.globalAlpha=.7,n.fillRect(0,k+5,e.width,e.height),n.globalAlpha=.9,n.fillStyle="#dc2626",n.beginPath();let p=r-o+4;n.moveTo(p,k);for(let y=p;y<=r+o-4;y+=2){const w=Math.sin(y*.05+s*.08)*3,E=Math.sin(y*.08+s*.12+1)*2,C=k+w+E;n.lineTo(y,C)}n.lineTo(r+o-4,e.height),n.lineTo(p,e.height),n.closePath(),n.fill(),n.restore()}const P=getComputedStyle(document.documentElement).getPropertyValue("--text-secondary").trim()||(a?"#8899a6":"#6c757d");n.strokeStyle=P,n.lineWidth=8,n.globalAlpha=.4,n.beginPath(),n.arc(r,i,o,0,Math.PI*2),n.stroke(),n.globalAlpha=1;const d=Math.min(t/100,1),c=getComputedStyle(document.documentElement).getPropertyValue("--danger-color").trim()||"#dc2626";n.strokeStyle=c,n.lineWidth=8,n.setLineDash([]),n.lineCap="round",n.beginPath(),n.arc(r,i,o,-Math.PI/2,-Math.PI/2+d*2*Math.PI),n.stroke(),s+=1,t>0&&requestAnimationFrame(u)}u();const h=new MutationObserver(()=>{document.contains(e)||(l=!1,h.disconnect())});h.observe(document.body,{childList:!0,subtree:!0})}var Ba={exports:{}},Pi={},za={exports:{}},R={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gr=Symbol.for("react.element"),_d=Symbol.for("react.portal"),xd=Symbol.for("react.fragment"),Nd=Symbol.for("react.strict_mode"),Rd=Symbol.for("react.profiler"),$d=Symbol.for("react.provider"),Ad=Symbol.for("react.context"),Id=Symbol.for("react.forward_ref"),Dd=Symbol.for("react.suspense"),Fd=Symbol.for("react.memo"),Bd=Symbol.for("react.lazy"),wl=Symbol.iterator;function zd(e){return e===null||typeof e!="object"?null:(e=wl&&e[wl]||e["@@iterator"],typeof e=="function"?e:null)}var Oa={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ha=Object.assign,Va={};function kn(e,t,n){this.props=e,this.context=t,this.refs=Va,this.updater=n||Oa}kn.prototype.isReactComponent={};kn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};kn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ua(){}Ua.prototype=kn.prototype;function vs(e,t,n){this.props=e,this.context=t,this.refs=Va,this.updater=n||Oa}var ys=vs.prototype=new Ua;ys.constructor=vs;Ha(ys,kn.prototype);ys.isPureReactComponent=!0;var bl=Array.isArray,Wa=Object.prototype.hasOwnProperty,ks={current:null},ja={key:!0,ref:!0,__self:!0,__source:!0};function Ka(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Wa.call(t,r)&&!ja.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:gr,type:e,key:o,ref:s,props:i,_owner:ks.current}}function Od(e,t){return{$$typeof:gr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ss(e){return typeof e=="object"&&e!==null&&e.$$typeof===gr}function Hd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var El=/\/+/g;function Ki(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hd(""+e.key):t.toString(36)}function Ur(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case gr:case _d:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Ki(s,0):r,bl(i)?(n="",e!=null&&(n=e.replace(El,"$&/")+"/"),Ur(i,t,n,"",function(u){return u})):i!=null&&(Ss(i)&&(i=Od(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(El,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",bl(e))for(var l=0;l<e.length;l++){o=e[l];var a=r+Ki(o,l);s+=Ur(o,t,n,a,i)}else if(a=zd(e),typeof a=="function")for(e=a.call(e),l=0;!(o=e.next()).done;)o=o.value,a=r+Ki(o,l++),s+=Ur(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Mr(e,t,n){if(e==null)return e;var r=[],i=0;return Ur(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Vd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ce={current:null},Wr={transition:null},Ud={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:Wr,ReactCurrentOwner:ks};function Ga(){throw Error("act(...) is not supported in production builds of React.")}R.Children={map:Mr,forEach:function(e,t,n){Mr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Mr(e,function(){t++}),t},toArray:function(e){return Mr(e,function(t){return t})||[]},only:function(e){if(!Ss(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};R.Component=kn;R.Fragment=xd;R.Profiler=Rd;R.PureComponent=vs;R.StrictMode=Nd;R.Suspense=Dd;R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ud;R.act=Ga;R.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ha({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=ks.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Wa.call(t,a)&&!ja.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:gr,type:e.type,key:i,ref:o,props:r,_owner:s}};R.createContext=function(e){return e={$$typeof:Ad,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$d,_context:e},e.Consumer=e};R.createElement=Ka;R.createFactory=function(e){var t=Ka.bind(null,e);return t.type=e,t};R.createRef=function(){return{current:null}};R.forwardRef=function(e){return{$$typeof:Id,render:e}};R.isValidElement=Ss;R.lazy=function(e){return{$$typeof:Bd,_payload:{_status:-1,_result:e},_init:Vd}};R.memo=function(e,t){return{$$typeof:Fd,type:e,compare:t===void 0?null:t}};R.startTransition=function(e){var t=Wr.transition;Wr.transition={};try{e()}finally{Wr.transition=t}};R.unstable_act=Ga;R.useCallback=function(e,t){return ce.current.useCallback(e,t)};R.useContext=function(e){return ce.current.useContext(e)};R.useDebugValue=function(){};R.useDeferredValue=function(e){return ce.current.useDeferredValue(e)};R.useEffect=function(e,t){return ce.current.useEffect(e,t)};R.useId=function(){return ce.current.useId()};R.useImperativeHandle=function(e,t,n){return ce.current.useImperativeHandle(e,t,n)};R.useInsertionEffect=function(e,t){return ce.current.useInsertionEffect(e,t)};R.useLayoutEffect=function(e,t){return ce.current.useLayoutEffect(e,t)};R.useMemo=function(e,t){return ce.current.useMemo(e,t)};R.useReducer=function(e,t,n){return ce.current.useReducer(e,t,n)};R.useRef=function(e){return ce.current.useRef(e)};R.useState=function(e){return ce.current.useState(e)};R.useSyncExternalStore=function(e,t,n){return ce.current.useSyncExternalStore(e,t,n)};R.useTransition=function(){return ce.current.useTransition()};R.version="18.3.1";za.exports=R;var Nt=za.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wd=Nt,jd=Symbol.for("react.element"),Kd=Symbol.for("react.fragment"),Gd=Object.prototype.hasOwnProperty,Yd=Wd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qd={key:!0,ref:!0,__self:!0,__source:!0};function Ya(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Gd.call(t,r)&&!qd.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:jd,type:e,key:o,ref:s,props:i,_owner:Yd.current}}Pi.Fragment=Kd;Pi.jsx=Ya;Pi.jsxs=Ya;Ba.exports=Pi;var Ge=Ba.exports,qa={exports:{}},be={},Qa={exports:{}},Xa={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,_){var x=L.length;L.push(_);e:for(;0<x;){var V=x-1>>>1,z=L[V];if(0<i(z,_))L[V]=_,L[x]=z,x=V;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var _=L[0],x=L.pop();if(x!==_){L[0]=x;e:for(var V=0,z=L.length,nt=z>>>1;V<nt;){var We=2*(V+1)-1,Er=L[We],U=We+1,Ce=L[U];if(0>i(Er,x))U<z&&0>i(Ce,Er)?(L[V]=Ce,L[U]=x,V=U):(L[V]=Er,L[We]=x,V=We);else if(U<z&&0>i(Ce,x))L[V]=Ce,L[U]=x,V=U;else break e}}return _}function i(L,_){var x=L.sortIndex-_.sortIndex;return x!==0?x:L.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],f=1,h=null,g=3,S=!1,v=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(L){for(var _=n(u);_!==null;){if(_.callback===null)r(u);else if(_.startTime<=L)r(u),_.sortIndex=_.expirationTime,t(a,_);else break;_=n(u)}}function y(L){if(k=!1,p(L),!v)if(n(a)!==null)v=!0,bn(w);else{var _=n(u);_!==null&&En(y,_.startTime-L)}}function w(L,_){v=!1,k&&(k=!1,d(M),M=-1),S=!0;var x=g;try{for(p(_),h=n(a);h!==null&&(!(h.expirationTime>_)||L&&!A());){var V=h.callback;if(typeof V=="function"){h.callback=null,g=h.priorityLevel;var z=V(h.expirationTime<=_);_=e.unstable_now(),typeof z=="function"?h.callback=z:h===n(a)&&r(a),p(_)}else r(a);h=n(a)}if(h!==null)var nt=!0;else{var We=n(u);We!==null&&En(y,We.startTime-_),nt=!1}return nt}finally{h=null,g=x,S=!1}}var E=!1,C=null,M=-1,F=5,N=-1;function A(){return!(e.unstable_now()-N<F)}function Wt(){if(C!==null){var L=e.unstable_now();N=L;var _=!0;try{_=C(!0,L)}finally{_?Ct():(E=!1,C=null)}}else E=!1}var Ct;if(typeof c=="function")Ct=function(){c(Wt)};else if(typeof MessageChannel<"u"){var br=new MessageChannel,Wi=br.port2;br.port1.onmessage=Wt,Ct=function(){Wi.postMessage(null)}}else Ct=function(){P(Wt,0)};function bn(L){C=L,E||(E=!0,Ct())}function En(L,_){M=P(function(){L(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){v||S||(v=!0,bn(w))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(L){switch(g){case 1:case 2:case 3:var _=3;break;default:_=g}var x=g;g=_;try{return L()}finally{g=x}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,_){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var x=g;g=L;try{return _()}finally{g=x}},e.unstable_scheduleCallback=function(L,_,x){var V=e.unstable_now();switch(typeof x=="object"&&x!==null?(x=x.delay,x=typeof x=="number"&&0<x?V+x:V):x=V,L){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=x+z,L={id:f++,callback:_,priorityLevel:L,startTime:x,expirationTime:z,sortIndex:-1},x>V?(L.sortIndex=x,t(u,L),n(a)===null&&L===n(u)&&(k?(d(M),M=-1):k=!0,En(y,x-V))):(L.sortIndex=z,t(a,L),v||S||(v=!0,bn(w))),L},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(L){var _=g;return function(){var x=g;g=_;try{return L.apply(this,arguments)}finally{g=x}}}})(Xa);Qa.exports=Xa;var Qd=Qa.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xd=Nt,we=Qd;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Za=new Set,Qn={};function Vt(e,t){fn(e,t),fn(e+"Capture",t)}function fn(e,t){for(Qn[e]=t,e=0;e<t.length;e++)Za.add(t[e])}var Xe=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bo=Object.prototype.hasOwnProperty,Zd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cl={},Ll={};function Jd(e){return bo.call(Ll,e)?!0:bo.call(Cl,e)?!1:Zd.test(e)?Ll[e]=!0:(Cl[e]=!0,!1)}function ef(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tf(e,t,n,r){if(t===null||typeof t>"u"||ef(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function de(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){re[e]=new de(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];re[t]=new de(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){re[e]=new de(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){re[e]=new de(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){re[e]=new de(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){re[e]=new de(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){re[e]=new de(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){re[e]=new de(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){re[e]=new de(e,5,!1,e.toLowerCase(),null,!1,!1)});var ws=/[\-:]([a-z])/g;function bs(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ws,bs);re[t]=new de(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ws,bs);re[t]=new de(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ws,bs);re[t]=new de(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){re[e]=new de(e,1,!1,e.toLowerCase(),null,!1,!1)});re.xlinkHref=new de("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){re[e]=new de(e,1,!1,e.toLowerCase(),null,!0,!0)});function Es(e,t,n,r){var i=re.hasOwnProperty(t)?re[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tf(t,n,i,r)&&(n=null),r||i===null?Jd(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var tt=Xd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tr=Symbol.for("react.element"),Kt=Symbol.for("react.portal"),Gt=Symbol.for("react.fragment"),Cs=Symbol.for("react.strict_mode"),Eo=Symbol.for("react.profiler"),Ja=Symbol.for("react.provider"),eu=Symbol.for("react.context"),Ls=Symbol.for("react.forward_ref"),Co=Symbol.for("react.suspense"),Lo=Symbol.for("react.suspense_list"),Ms=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),tu=Symbol.for("react.offscreen"),Ml=Symbol.iterator;function Mn(e){return e===null||typeof e!="object"?null:(e=Ml&&e[Ml]||e["@@iterator"],typeof e=="function"?e:null)}var G=Object.assign,Gi;function Dn(e){if(Gi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gi=t&&t[1]||""}return`
`+Gi+e}var Yi=!1;function qi(e,t){if(!e||Yi)return"";Yi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{Yi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Dn(e):""}function nf(e){switch(e.tag){case 5:return Dn(e.type);case 16:return Dn("Lazy");case 13:return Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 2:case 15:return e=qi(e.type,!1),e;case 11:return e=qi(e.type.render,!1),e;case 1:return e=qi(e.type,!0),e;default:return""}}function Mo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gt:return"Fragment";case Kt:return"Portal";case Eo:return"Profiler";case Cs:return"StrictMode";case Co:return"Suspense";case Lo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case eu:return(e.displayName||"Context")+".Consumer";case Ja:return(e._context.displayName||"Context")+".Provider";case Ls:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ms:return t=e.displayName||null,t!==null?t:Mo(e.type)||"Memo";case it:t=e._payload,e=e._init;try{return Mo(e(t))}catch{}}return null}function rf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mo(t);case 8:return t===Cs?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function of(e){var t=nu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pr(e){e._valueTracker||(e._valueTracker=of(e))}function ru(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=nu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function To(e,t){var n=t.checked;return G({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Tl(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=kt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iu(e,t){t=t.checked,t!=null&&Es(e,"checked",t,!1)}function Po(e,t){iu(e,t);var n=kt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_o(e,t.type,n):t.hasOwnProperty("defaultValue")&&_o(e,t.type,kt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pl(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _o(e,t,n){(t!=="number"||ri(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Fn=Array.isArray;function on(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+kt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function xo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(b(91));return G({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _l(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(b(92));if(Fn(n)){if(1<n.length)throw Error(b(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:kt(n)}}function ou(e,t){var n=kt(t.value),r=kt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function su(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function No(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?su(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _r,lu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_r=_r||document.createElement("div"),_r.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_r.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sf=["Webkit","ms","Moz","O"];Object.keys(Hn).forEach(function(e){sf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hn[t]=Hn[e]})});function au(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hn.hasOwnProperty(e)&&Hn[e]?(""+t).trim():t+"px"}function uu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=au(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var lf=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ro(e,t){if(t){if(lf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(b(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(b(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(b(61))}if(t.style!=null&&typeof t.style!="object")throw Error(b(62))}}function $o(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ao=null;function Ts(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Io=null,sn=null,ln=null;function Nl(e){if(e=kr(e)){if(typeof Io!="function")throw Error(b(280));var t=e.stateNode;t&&(t=$i(t),Io(e.stateNode,e.type,t))}}function cu(e){sn?ln?ln.push(e):ln=[e]:sn=e}function du(){if(sn){var e=sn,t=ln;if(ln=sn=null,Nl(e),t)for(e=0;e<t.length;e++)Nl(t[e])}}function fu(e,t){return e(t)}function pu(){}var Qi=!1;function mu(e,t,n){if(Qi)return e(t,n);Qi=!0;try{return fu(e,t,n)}finally{Qi=!1,(sn!==null||ln!==null)&&(pu(),du())}}function Zn(e,t){var n=e.stateNode;if(n===null)return null;var r=$i(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(b(231,t,typeof n));return n}var Do=!1;if(Xe)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){Do=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{Do=!1}function af(e,t,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Vn=!1,ii=null,oi=!1,Fo=null,uf={onError:function(e){Vn=!0,ii=e}};function cf(e,t,n,r,i,o,s,l,a){Vn=!1,ii=null,af.apply(uf,arguments)}function df(e,t,n,r,i,o,s,l,a){if(cf.apply(this,arguments),Vn){if(Vn){var u=ii;Vn=!1,ii=null}else throw Error(b(198));oi||(oi=!0,Fo=u)}}function Ut(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function hu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rl(e){if(Ut(e)!==e)throw Error(b(188))}function ff(e){var t=e.alternate;if(!t){if(t=Ut(e),t===null)throw Error(b(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Rl(i),e;if(o===r)return Rl(i),t;o=o.sibling}throw Error(b(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?e:t}function gu(e){return e=ff(e),e!==null?vu(e):null}function vu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vu(e);if(t!==null)return t;e=e.sibling}return null}var yu=we.unstable_scheduleCallback,$l=we.unstable_cancelCallback,pf=we.unstable_shouldYield,mf=we.unstable_requestPaint,q=we.unstable_now,hf=we.unstable_getCurrentPriorityLevel,Ps=we.unstable_ImmediatePriority,ku=we.unstable_UserBlockingPriority,si=we.unstable_NormalPriority,gf=we.unstable_LowPriority,Su=we.unstable_IdlePriority,_i=null,Ve=null;function vf(e){if(Ve&&typeof Ve.onCommitFiberRoot=="function")try{Ve.onCommitFiberRoot(_i,e,void 0,(e.current.flags&128)===128)}catch{}}var Ie=Math.clz32?Math.clz32:Sf,yf=Math.log,kf=Math.LN2;function Sf(e){return e>>>=0,e===0?32:31-(yf(e)/kf|0)|0}var xr=64,Nr=4194304;function Bn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function li(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Bn(l):(o&=s,o!==0&&(r=Bn(o)))}else s=n&~i,s!==0?r=Bn(s):o!==0&&(r=Bn(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ie(t),i=1<<n,r|=e[n],t&=~i;return r}function wf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Ie(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=wf(l,t)):a<=t&&(e.expiredLanes|=l),o&=~l}}function Bo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wu(){var e=xr;return xr<<=1,!(xr&4194240)&&(xr=64),e}function Xi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ie(t),e[t]=n}function Ef(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ie(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function _s(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ie(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var D=0;function bu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Eu,xs,Cu,Lu,Mu,zo=!1,Rr=[],dt=null,ft=null,pt=null,Jn=new Map,er=new Map,st=[],Cf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Al(e,t){switch(e){case"focusin":case"focusout":dt=null;break;case"dragenter":case"dragleave":ft=null;break;case"mouseover":case"mouseout":pt=null;break;case"pointerover":case"pointerout":Jn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":er.delete(t.pointerId)}}function Pn(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=kr(t),t!==null&&xs(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Lf(e,t,n,r,i){switch(t){case"focusin":return dt=Pn(dt,e,t,n,r,i),!0;case"dragenter":return ft=Pn(ft,e,t,n,r,i),!0;case"mouseover":return pt=Pn(pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Jn.set(o,Pn(Jn.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,er.set(o,Pn(er.get(o)||null,e,t,n,r,i)),!0}return!1}function Tu(e){var t=Tt(e.target);if(t!==null){var n=Ut(t);if(n!==null){if(t=n.tag,t===13){if(t=hu(n),t!==null){e.blockedOn=t,Mu(e.priority,function(){Cu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Oo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ao=r,n.target.dispatchEvent(r),Ao=null}else return t=kr(n),t!==null&&xs(t),e.blockedOn=n,!1;t.shift()}return!0}function Il(e,t,n){jr(e)&&n.delete(t)}function Mf(){zo=!1,dt!==null&&jr(dt)&&(dt=null),ft!==null&&jr(ft)&&(ft=null),pt!==null&&jr(pt)&&(pt=null),Jn.forEach(Il),er.forEach(Il)}function _n(e,t){e.blockedOn===t&&(e.blockedOn=null,zo||(zo=!0,we.unstable_scheduleCallback(we.unstable_NormalPriority,Mf)))}function tr(e){function t(i){return _n(i,e)}if(0<Rr.length){_n(Rr[0],e);for(var n=1;n<Rr.length;n++){var r=Rr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(dt!==null&&_n(dt,e),ft!==null&&_n(ft,e),pt!==null&&_n(pt,e),Jn.forEach(t),er.forEach(t),n=0;n<st.length;n++)r=st[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<st.length&&(n=st[0],n.blockedOn===null);)Tu(n),n.blockedOn===null&&st.shift()}var an=tt.ReactCurrentBatchConfig,ai=!0;function Tf(e,t,n,r){var i=D,o=an.transition;an.transition=null;try{D=1,Ns(e,t,n,r)}finally{D=i,an.transition=o}}function Pf(e,t,n,r){var i=D,o=an.transition;an.transition=null;try{D=4,Ns(e,t,n,r)}finally{D=i,an.transition=o}}function Ns(e,t,n,r){if(ai){var i=Oo(e,t,n,r);if(i===null)lo(e,t,r,ui,n),Al(e,r);else if(Lf(i,e,t,n,r))r.stopPropagation();else if(Al(e,r),t&4&&-1<Cf.indexOf(e)){for(;i!==null;){var o=kr(i);if(o!==null&&Eu(o),o=Oo(e,t,n,r),o===null&&lo(e,t,r,ui,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else lo(e,t,r,null,n)}}var ui=null;function Oo(e,t,n,r){if(ui=null,e=Ts(r),e=Tt(e),e!==null)if(t=Ut(e),t===null)e=null;else if(n=t.tag,n===13){if(e=hu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ui=e,null}function Pu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hf()){case Ps:return 1;case ku:return 4;case si:case gf:return 16;case Su:return 536870912;default:return 16}default:return 16}}var at=null,Rs=null,Kr=null;function _u(){if(Kr)return Kr;var e,t=Rs,n=t.length,r,i="value"in at?at.value:at.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Kr=i.slice(e,1<r?1-r:void 0)}function Gr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $r(){return!0}function Dl(){return!1}function Ee(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$r:Dl,this.isPropagationStopped=Dl,this}return G(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$r)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$r)},persist:function(){},isPersistent:$r}),t}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=Ee(Sn),yr=G({},Sn,{view:0,detail:0}),_f=Ee(yr),Zi,Ji,xn,xi=G({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xn&&(xn&&e.type==="mousemove"?(Zi=e.screenX-xn.screenX,Ji=e.screenY-xn.screenY):Ji=Zi=0,xn=e),Zi)},movementY:function(e){return"movementY"in e?e.movementY:Ji}}),Fl=Ee(xi),xf=G({},xi,{dataTransfer:0}),Nf=Ee(xf),Rf=G({},yr,{relatedTarget:0}),eo=Ee(Rf),$f=G({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),Af=Ee($f),If=G({},Sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Df=Ee(If),Ff=G({},Sn,{data:0}),Bl=Ee(Ff),Bf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Of={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Of[e])?!!t[e]:!1}function As(){return Hf}var Vf=G({},yr,{key:function(e){if(e.key){var t=Bf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(e){return e.type==="keypress"?Gr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Uf=Ee(Vf),Wf=G({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zl=Ee(Wf),jf=G({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),Kf=Ee(jf),Gf=G({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yf=Ee(Gf),qf=G({},xi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qf=Ee(qf),Xf=[9,13,27,32],Is=Xe&&"CompositionEvent"in window,Un=null;Xe&&"documentMode"in document&&(Un=document.documentMode);var Zf=Xe&&"TextEvent"in window&&!Un,xu=Xe&&(!Is||Un&&8<Un&&11>=Un),Ol=" ",Hl=!1;function Nu(e,t){switch(e){case"keyup":return Xf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ru(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yt=!1;function Jf(e,t){switch(e){case"compositionend":return Ru(t);case"keypress":return t.which!==32?null:(Hl=!0,Ol);case"textInput":return e=t.data,e===Ol&&Hl?null:e;default:return null}}function ep(e,t){if(Yt)return e==="compositionend"||!Is&&Nu(e,t)?(e=_u(),Kr=Rs=at=null,Yt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xu&&t.locale!=="ko"?null:t.data;default:return null}}var tp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tp[e.type]:t==="textarea"}function $u(e,t,n,r){cu(r),t=ci(t,"onChange"),0<t.length&&(n=new $s("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,nr=null;function np(e){Wu(e,0)}function Ni(e){var t=Xt(e);if(ru(t))return e}function rp(e,t){if(e==="change")return t}var Au=!1;if(Xe){var to;if(Xe){var no="oninput"in document;if(!no){var Ul=document.createElement("div");Ul.setAttribute("oninput","return;"),no=typeof Ul.oninput=="function"}to=no}else to=!1;Au=to&&(!document.documentMode||9<document.documentMode)}function Wl(){Wn&&(Wn.detachEvent("onpropertychange",Iu),nr=Wn=null)}function Iu(e){if(e.propertyName==="value"&&Ni(nr)){var t=[];$u(t,nr,e,Ts(e)),mu(np,t)}}function ip(e,t,n){e==="focusin"?(Wl(),Wn=t,nr=n,Wn.attachEvent("onpropertychange",Iu)):e==="focusout"&&Wl()}function op(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ni(nr)}function sp(e,t){if(e==="click")return Ni(t)}function lp(e,t){if(e==="input"||e==="change")return Ni(t)}function ap(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fe=typeof Object.is=="function"?Object.is:ap;function rr(e,t){if(Fe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bo.call(t,i)||!Fe(e[i],t[i]))return!1}return!0}function jl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kl(e,t){var n=jl(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jl(n)}}function Du(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Du(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fu(){for(var e=window,t=ri();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ri(e.document)}return t}function Ds(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function up(e){var t=Fu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Du(n.ownerDocument.documentElement,n)){if(r!==null&&Ds(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Kl(n,o);var s=Kl(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cp=Xe&&"documentMode"in document&&11>=document.documentMode,qt=null,Ho=null,jn=null,Vo=!1;function Gl(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vo||qt==null||qt!==ri(r)||(r=qt,"selectionStart"in r&&Ds(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jn&&rr(jn,r)||(jn=r,r=ci(Ho,"onSelect"),0<r.length&&(t=new $s("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=qt)))}function Ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qt={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionend:Ar("Transition","TransitionEnd")},ro={},Bu={};Xe&&(Bu=document.createElement("div").style,"AnimationEvent"in window||(delete Qt.animationend.animation,delete Qt.animationiteration.animation,delete Qt.animationstart.animation),"TransitionEvent"in window||delete Qt.transitionend.transition);function Ri(e){if(ro[e])return ro[e];if(!Qt[e])return e;var t=Qt[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Bu)return ro[e]=t[n];return e}var zu=Ri("animationend"),Ou=Ri("animationiteration"),Hu=Ri("animationstart"),Vu=Ri("transitionend"),Uu=new Map,Yl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wt(e,t){Uu.set(e,t),Vt(t,[e])}for(var io=0;io<Yl.length;io++){var oo=Yl[io],dp=oo.toLowerCase(),fp=oo[0].toUpperCase()+oo.slice(1);wt(dp,"on"+fp)}wt(zu,"onAnimationEnd");wt(Ou,"onAnimationIteration");wt(Hu,"onAnimationStart");wt("dblclick","onDoubleClick");wt("focusin","onFocus");wt("focusout","onBlur");wt(Vu,"onTransitionEnd");fn("onMouseEnter",["mouseout","mouseover"]);fn("onMouseLeave",["mouseout","mouseover"]);fn("onPointerEnter",["pointerout","pointerover"]);fn("onPointerLeave",["pointerout","pointerover"]);Vt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vt("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pp=new Set("cancel close invalid load scroll toggle".split(" ").concat(zn));function ql(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,df(r,t,void 0,e),e.currentTarget=null}function Wu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;ql(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;ql(i,l,u),o=a}}}if(oi)throw e=Fo,oi=!1,Fo=null,e}function O(e,t){var n=t[Go];n===void 0&&(n=t[Go]=new Set);var r=e+"__bubble";n.has(r)||(ju(t,e,2,!1),n.add(r))}function so(e,t,n){var r=0;t&&(r|=4),ju(n,e,r,t)}var Ir="_reactListening"+Math.random().toString(36).slice(2);function ir(e){if(!e[Ir]){e[Ir]=!0,Za.forEach(function(n){n!=="selectionchange"&&(pp.has(n)||so(n,!1,e),so(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ir]||(t[Ir]=!0,so("selectionchange",!1,t))}}function ju(e,t,n,r){switch(Pu(t)){case 1:var i=Tf;break;case 4:i=Pf;break;default:i=Ns}n=i.bind(null,t,n,e),i=void 0,!Do||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function lo(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Tt(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}mu(function(){var u=o,f=Ts(n),h=[];e:{var g=Uu.get(e);if(g!==void 0){var S=$s,v=e;switch(e){case"keypress":if(Gr(n)===0)break e;case"keydown":case"keyup":S=Uf;break;case"focusin":v="focus",S=eo;break;case"focusout":v="blur",S=eo;break;case"beforeblur":case"afterblur":S=eo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=Nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=Kf;break;case zu:case Ou:case Hu:S=Af;break;case Vu:S=Yf;break;case"scroll":S=_f;break;case"wheel":S=Qf;break;case"copy":case"cut":case"paste":S=Df;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=zl}var k=(t&4)!==0,P=!k&&e==="scroll",d=k?g!==null?g+"Capture":null:g;k=[];for(var c=u,p;c!==null;){p=c;var y=p.stateNode;if(p.tag===5&&y!==null&&(p=y,d!==null&&(y=Zn(c,d),y!=null&&k.push(or(c,y,p)))),P)break;c=c.return}0<k.length&&(g=new S(g,v,null,n,f),h.push({event:g,listeners:k}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",g&&n!==Ao&&(v=n.relatedTarget||n.fromElement)&&(Tt(v)||v[Ze]))break e;if((S||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,S?(v=n.relatedTarget||n.toElement,S=u,v=v?Tt(v):null,v!==null&&(P=Ut(v),v!==P||v.tag!==5&&v.tag!==6)&&(v=null)):(S=null,v=u),S!==v)){if(k=Fl,y="onMouseLeave",d="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(k=zl,y="onPointerLeave",d="onPointerEnter",c="pointer"),P=S==null?g:Xt(S),p=v==null?g:Xt(v),g=new k(y,c+"leave",S,n,f),g.target=P,g.relatedTarget=p,y=null,Tt(f)===u&&(k=new k(d,c+"enter",v,n,f),k.target=p,k.relatedTarget=P,y=k),P=y,S&&v)t:{for(k=S,d=v,c=0,p=k;p;p=jt(p))c++;for(p=0,y=d;y;y=jt(y))p++;for(;0<c-p;)k=jt(k),c--;for(;0<p-c;)d=jt(d),p--;for(;c--;){if(k===d||d!==null&&k===d.alternate)break t;k=jt(k),d=jt(d)}k=null}else k=null;S!==null&&Ql(h,g,S,k,!1),v!==null&&P!==null&&Ql(h,P,v,k,!0)}}e:{if(g=u?Xt(u):window,S=g.nodeName&&g.nodeName.toLowerCase(),S==="select"||S==="input"&&g.type==="file")var w=rp;else if(Vl(g))if(Au)w=lp;else{w=op;var E=ip}else(S=g.nodeName)&&S.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(w=sp);if(w&&(w=w(e,u))){$u(h,w,n,f);break e}E&&E(e,g,u),e==="focusout"&&(E=g._wrapperState)&&E.controlled&&g.type==="number"&&_o(g,"number",g.value)}switch(E=u?Xt(u):window,e){case"focusin":(Vl(E)||E.contentEditable==="true")&&(qt=E,Ho=u,jn=null);break;case"focusout":jn=Ho=qt=null;break;case"mousedown":Vo=!0;break;case"contextmenu":case"mouseup":case"dragend":Vo=!1,Gl(h,n,f);break;case"selectionchange":if(cp)break;case"keydown":case"keyup":Gl(h,n,f)}var C;if(Is)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Yt?Nu(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(xu&&n.locale!=="ko"&&(Yt||M!=="onCompositionStart"?M==="onCompositionEnd"&&Yt&&(C=_u()):(at=f,Rs="value"in at?at.value:at.textContent,Yt=!0)),E=ci(u,M),0<E.length&&(M=new Bl(M,e,null,n,f),h.push({event:M,listeners:E}),C?M.data=C:(C=Ru(n),C!==null&&(M.data=C)))),(C=Zf?Jf(e,n):ep(e,n))&&(u=ci(u,"onBeforeInput"),0<u.length&&(f=new Bl("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=C))}Wu(h,t)})}function or(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ci(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Zn(e,n),o!=null&&r.unshift(or(e,o,i)),o=Zn(e,t),o!=null&&r.push(or(e,o,i))),e=e.return}return r}function jt(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ql(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Zn(n,o),a!=null&&s.unshift(or(n,a,l))):i||(a=Zn(n,o),a!=null&&s.push(or(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var mp=/\r\n?/g,hp=/\u0000|\uFFFD/g;function Xl(e){return(typeof e=="string"?e:""+e).replace(mp,`
`).replace(hp,"")}function Dr(e,t,n){if(t=Xl(t),Xl(e)!==t&&n)throw Error(b(425))}function di(){}var Uo=null,Wo=null;function jo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ko=typeof setTimeout=="function"?setTimeout:void 0,gp=typeof clearTimeout=="function"?clearTimeout:void 0,Zl=typeof Promise=="function"?Promise:void 0,vp=typeof queueMicrotask=="function"?queueMicrotask:typeof Zl<"u"?function(e){return Zl.resolve(null).then(e).catch(yp)}:Ko;function yp(e){setTimeout(function(){throw e})}function ao(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),tr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);tr(t)}function mt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jl(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wn=Math.random().toString(36).slice(2),Oe="__reactFiber$"+wn,sr="__reactProps$"+wn,Ze="__reactContainer$"+wn,Go="__reactEvents$"+wn,kp="__reactListeners$"+wn,Sp="__reactHandles$"+wn;function Tt(e){var t=e[Oe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ze]||n[Oe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Jl(e);e!==null;){if(n=e[Oe])return n;e=Jl(e)}return t}e=n,n=e.parentNode}return null}function kr(e){return e=e[Oe]||e[Ze],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xt(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(b(33))}function $i(e){return e[sr]||null}var Yo=[],Zt=-1;function bt(e){return{current:e}}function H(e){0>Zt||(e.current=Yo[Zt],Yo[Zt]=null,Zt--)}function B(e,t){Zt++,Yo[Zt]=e.current,e.current=t}var St={},le=bt(St),me=bt(!1),It=St;function pn(e,t){var n=e.type.contextTypes;if(!n)return St;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function he(e){return e=e.childContextTypes,e!=null}function fi(){H(me),H(le)}function ea(e,t,n){if(le.current!==St)throw Error(b(168));B(le,t),B(me,n)}function Ku(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(b(108,rf(e)||"Unknown",i));return G({},n,r)}function pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||St,It=le.current,B(le,e),B(me,me.current),!0}function ta(e,t,n){var r=e.stateNode;if(!r)throw Error(b(169));n?(e=Ku(e,t,It),r.__reactInternalMemoizedMergedChildContext=e,H(me),H(le),B(le,e)):H(me),B(me,n)}var Ke=null,Ai=!1,uo=!1;function Gu(e){Ke===null?Ke=[e]:Ke.push(e)}function wp(e){Ai=!0,Gu(e)}function Et(){if(!uo&&Ke!==null){uo=!0;var e=0,t=D;try{var n=Ke;for(D=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ke=null,Ai=!1}catch(i){throw Ke!==null&&(Ke=Ke.slice(e+1)),yu(Ps,Et),i}finally{D=t,uo=!1}}return null}var Jt=[],en=0,mi=null,hi=0,Le=[],Me=0,Dt=null,Ye=1,qe="";function Lt(e,t){Jt[en++]=hi,Jt[en++]=mi,mi=e,hi=t}function Yu(e,t,n){Le[Me++]=Ye,Le[Me++]=qe,Le[Me++]=Dt,Dt=e;var r=Ye;e=qe;var i=32-Ie(r)-1;r&=~(1<<i),n+=1;var o=32-Ie(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ye=1<<32-Ie(t)+i|n<<i|r,qe=o+e}else Ye=1<<o|n<<i|r,qe=e}function Fs(e){e.return!==null&&(Lt(e,1),Yu(e,1,0))}function Bs(e){for(;e===mi;)mi=Jt[--en],Jt[en]=null,hi=Jt[--en],Jt[en]=null;for(;e===Dt;)Dt=Le[--Me],Le[Me]=null,qe=Le[--Me],Le[Me]=null,Ye=Le[--Me],Le[Me]=null}var Se=null,ke=null,W=!1,Ae=null;function qu(e,t){var n=Te(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function na(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Se=e,ke=mt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Se=e,ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Dt!==null?{id:Ye,overflow:qe}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Te(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Se=e,ke=null,!0):!1;default:return!1}}function qo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qo(e){if(W){var t=ke;if(t){var n=t;if(!na(e,t)){if(qo(e))throw Error(b(418));t=mt(n.nextSibling);var r=Se;t&&na(e,t)?qu(r,n):(e.flags=e.flags&-4097|2,W=!1,Se=e)}}else{if(qo(e))throw Error(b(418));e.flags=e.flags&-4097|2,W=!1,Se=e}}}function ra(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Se=e}function Fr(e){if(e!==Se)return!1;if(!W)return ra(e),W=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jo(e.type,e.memoizedProps)),t&&(t=ke)){if(qo(e))throw Qu(),Error(b(418));for(;t;)qu(e,t),t=mt(t.nextSibling)}if(ra(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ke=mt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ke=null}}else ke=Se?mt(e.stateNode.nextSibling):null;return!0}function Qu(){for(var e=ke;e;)e=mt(e.nextSibling)}function mn(){ke=Se=null,W=!1}function zs(e){Ae===null?Ae=[e]:Ae.push(e)}var bp=tt.ReactCurrentBatchConfig;function Nn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,e))}return e}function Br(e,t){throw e=Object.prototype.toString.call(t),Error(b(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ia(e){var t=e._init;return t(e._payload)}function Xu(e){function t(d,c){if(e){var p=d.deletions;p===null?(d.deletions=[c],d.flags|=16):p.push(c)}}function n(d,c){if(!e)return null;for(;c!==null;)t(d,c),c=c.sibling;return null}function r(d,c){for(d=new Map;c!==null;)c.key!==null?d.set(c.key,c):d.set(c.index,c),c=c.sibling;return d}function i(d,c){return d=yt(d,c),d.index=0,d.sibling=null,d}function o(d,c,p){return d.index=p,e?(p=d.alternate,p!==null?(p=p.index,p<c?(d.flags|=2,c):p):(d.flags|=2,c)):(d.flags|=1048576,c)}function s(d){return e&&d.alternate===null&&(d.flags|=2),d}function l(d,c,p,y){return c===null||c.tag!==6?(c=vo(p,d.mode,y),c.return=d,c):(c=i(c,p),c.return=d,c)}function a(d,c,p,y){var w=p.type;return w===Gt?f(d,c,p.props.children,y,p.key):c!==null&&(c.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===it&&ia(w)===c.type)?(y=i(c,p.props),y.ref=Nn(d,c,p),y.return=d,y):(y=ei(p.type,p.key,p.props,null,d.mode,y),y.ref=Nn(d,c,p),y.return=d,y)}function u(d,c,p,y){return c===null||c.tag!==4||c.stateNode.containerInfo!==p.containerInfo||c.stateNode.implementation!==p.implementation?(c=yo(p,d.mode,y),c.return=d,c):(c=i(c,p.children||[]),c.return=d,c)}function f(d,c,p,y,w){return c===null||c.tag!==7?(c=$t(p,d.mode,y,w),c.return=d,c):(c=i(c,p),c.return=d,c)}function h(d,c,p){if(typeof c=="string"&&c!==""||typeof c=="number")return c=vo(""+c,d.mode,p),c.return=d,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Tr:return p=ei(c.type,c.key,c.props,null,d.mode,p),p.ref=Nn(d,null,c),p.return=d,p;case Kt:return c=yo(c,d.mode,p),c.return=d,c;case it:var y=c._init;return h(d,y(c._payload),p)}if(Fn(c)||Mn(c))return c=$t(c,d.mode,p,null),c.return=d,c;Br(d,c)}return null}function g(d,c,p,y){var w=c!==null?c.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return w!==null?null:l(d,c,""+p,y);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Tr:return p.key===w?a(d,c,p,y):null;case Kt:return p.key===w?u(d,c,p,y):null;case it:return w=p._init,g(d,c,w(p._payload),y)}if(Fn(p)||Mn(p))return w!==null?null:f(d,c,p,y,null);Br(d,p)}return null}function S(d,c,p,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return d=d.get(p)||null,l(c,d,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Tr:return d=d.get(y.key===null?p:y.key)||null,a(c,d,y,w);case Kt:return d=d.get(y.key===null?p:y.key)||null,u(c,d,y,w);case it:var E=y._init;return S(d,c,p,E(y._payload),w)}if(Fn(y)||Mn(y))return d=d.get(p)||null,f(c,d,y,w,null);Br(c,y)}return null}function v(d,c,p,y){for(var w=null,E=null,C=c,M=c=0,F=null;C!==null&&M<p.length;M++){C.index>M?(F=C,C=null):F=C.sibling;var N=g(d,C,p[M],y);if(N===null){C===null&&(C=F);break}e&&C&&N.alternate===null&&t(d,C),c=o(N,c,M),E===null?w=N:E.sibling=N,E=N,C=F}if(M===p.length)return n(d,C),W&&Lt(d,M),w;if(C===null){for(;M<p.length;M++)C=h(d,p[M],y),C!==null&&(c=o(C,c,M),E===null?w=C:E.sibling=C,E=C);return W&&Lt(d,M),w}for(C=r(d,C);M<p.length;M++)F=S(C,d,M,p[M],y),F!==null&&(e&&F.alternate!==null&&C.delete(F.key===null?M:F.key),c=o(F,c,M),E===null?w=F:E.sibling=F,E=F);return e&&C.forEach(function(A){return t(d,A)}),W&&Lt(d,M),w}function k(d,c,p,y){var w=Mn(p);if(typeof w!="function")throw Error(b(150));if(p=w.call(p),p==null)throw Error(b(151));for(var E=w=null,C=c,M=c=0,F=null,N=p.next();C!==null&&!N.done;M++,N=p.next()){C.index>M?(F=C,C=null):F=C.sibling;var A=g(d,C,N.value,y);if(A===null){C===null&&(C=F);break}e&&C&&A.alternate===null&&t(d,C),c=o(A,c,M),E===null?w=A:E.sibling=A,E=A,C=F}if(N.done)return n(d,C),W&&Lt(d,M),w;if(C===null){for(;!N.done;M++,N=p.next())N=h(d,N.value,y),N!==null&&(c=o(N,c,M),E===null?w=N:E.sibling=N,E=N);return W&&Lt(d,M),w}for(C=r(d,C);!N.done;M++,N=p.next())N=S(C,d,M,N.value,y),N!==null&&(e&&N.alternate!==null&&C.delete(N.key===null?M:N.key),c=o(N,c,M),E===null?w=N:E.sibling=N,E=N);return e&&C.forEach(function(Wt){return t(d,Wt)}),W&&Lt(d,M),w}function P(d,c,p,y){if(typeof p=="object"&&p!==null&&p.type===Gt&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Tr:e:{for(var w=p.key,E=c;E!==null;){if(E.key===w){if(w=p.type,w===Gt){if(E.tag===7){n(d,E.sibling),c=i(E,p.props.children),c.return=d,d=c;break e}}else if(E.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===it&&ia(w)===E.type){n(d,E.sibling),c=i(E,p.props),c.ref=Nn(d,E,p),c.return=d,d=c;break e}n(d,E);break}else t(d,E);E=E.sibling}p.type===Gt?(c=$t(p.props.children,d.mode,y,p.key),c.return=d,d=c):(y=ei(p.type,p.key,p.props,null,d.mode,y),y.ref=Nn(d,c,p),y.return=d,d=y)}return s(d);case Kt:e:{for(E=p.key;c!==null;){if(c.key===E)if(c.tag===4&&c.stateNode.containerInfo===p.containerInfo&&c.stateNode.implementation===p.implementation){n(d,c.sibling),c=i(c,p.children||[]),c.return=d,d=c;break e}else{n(d,c);break}else t(d,c);c=c.sibling}c=yo(p,d.mode,y),c.return=d,d=c}return s(d);case it:return E=p._init,P(d,c,E(p._payload),y)}if(Fn(p))return v(d,c,p,y);if(Mn(p))return k(d,c,p,y);Br(d,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,c!==null&&c.tag===6?(n(d,c.sibling),c=i(c,p),c.return=d,d=c):(n(d,c),c=vo(p,d.mode,y),c.return=d,d=c),s(d)):n(d,c)}return P}var hn=Xu(!0),Zu=Xu(!1),gi=bt(null),vi=null,tn=null,Os=null;function Hs(){Os=tn=vi=null}function Vs(e){var t=gi.current;H(gi),e._currentValue=t}function Xo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function un(e,t){vi=e,Os=tn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pe=!0),e.firstContext=null)}function _e(e){var t=e._currentValue;if(Os!==e)if(e={context:e,memoizedValue:t,next:null},tn===null){if(vi===null)throw Error(b(308));tn=e,vi.dependencies={lanes:0,firstContext:e}}else tn=tn.next=e;return t}var Pt=null;function Us(e){Pt===null?Pt=[e]:Pt.push(e)}function Ju(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Us(t)):(n.next=i.next,i.next=n),t.interleaved=n,Je(e,r)}function Je(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ot=!1;function Ws(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ec(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qe(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ht(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,$&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Je(e,n)}return i=r.interleaved,i===null?(t.next=t,Us(r)):(t.next=i.next,i.next=t),r.interleaved=t,Je(e,n)}function Yr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_s(e,n)}}function oa(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function yi(e,t,n,r){var i=e.updateQueue;ot=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=a))}if(o!==null){var h=i.baseState;s=0,f=u=a=null,l=o;do{var g=l.lane,S=l.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:S,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,k=l;switch(g=t,S=n,k.tag){case 1:if(v=k.payload,typeof v=="function"){h=v.call(S,h,g);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=k.payload,g=typeof v=="function"?v.call(S,h,g):v,g==null)break e;h=G({},h,g);break e;case 2:ot=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else S={eventTime:S,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=S,a=h):f=f.next=S,s|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(a=h),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Bt|=s,e.lanes=s,e.memoizedState=h}}function sa(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(b(191,i));i.call(r)}}}var Sr={},Ue=bt(Sr),lr=bt(Sr),ar=bt(Sr);function _t(e){if(e===Sr)throw Error(b(174));return e}function js(e,t){switch(B(ar,t),B(lr,e),B(Ue,Sr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:No(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=No(t,e)}H(Ue),B(Ue,t)}function gn(){H(Ue),H(lr),H(ar)}function tc(e){_t(ar.current);var t=_t(Ue.current),n=No(t,e.type);t!==n&&(B(lr,e),B(Ue,n))}function Ks(e){lr.current===e&&(H(Ue),H(lr))}var j=bt(0);function ki(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function Gs(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var qr=tt.ReactCurrentDispatcher,fo=tt.ReactCurrentBatchConfig,Ft=0,K=null,X=null,J=null,Si=!1,Kn=!1,ur=0,Ep=0;function ie(){throw Error(b(321))}function Ys(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fe(e[n],t[n]))return!1;return!0}function qs(e,t,n,r,i,o){if(Ft=o,K=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qr.current=e===null||e.memoizedState===null?Tp:Pp,e=n(r,i),Kn){o=0;do{if(Kn=!1,ur=0,25<=o)throw Error(b(301));o+=1,J=X=null,t.updateQueue=null,qr.current=_p,e=n(r,i)}while(Kn)}if(qr.current=wi,t=X!==null&&X.next!==null,Ft=0,J=X=K=null,Si=!1,t)throw Error(b(300));return e}function Qs(){var e=ur!==0;return ur=0,e}function ze(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return J===null?K.memoizedState=J=e:J=J.next=e,J}function xe(){if(X===null){var e=K.alternate;e=e!==null?e.memoizedState:null}else e=X.next;var t=J===null?K.memoizedState:J.next;if(t!==null)J=t,X=e;else{if(e===null)throw Error(b(310));X=e,e={memoizedState:X.memoizedState,baseState:X.baseState,baseQueue:X.baseQueue,queue:X.queue,next:null},J===null?K.memoizedState=J=e:J=J.next=e}return J}function cr(e,t){return typeof t=="function"?t(e):t}function po(e){var t=xe(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=X,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var f=u.lane;if((Ft&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,s=r):a=a.next=h,K.lanes|=f,Bt|=f}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,Fe(r,t.memoizedState)||(pe=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,K.lanes|=o,Bt|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function mo(e){var t=xe(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Fe(o,t.memoizedState)||(pe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function nc(){}function rc(e,t){var n=K,r=xe(),i=t(),o=!Fe(r.memoizedState,i);if(o&&(r.memoizedState=i,pe=!0),r=r.queue,Xs(sc.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||J!==null&&J.memoizedState.tag&1){if(n.flags|=2048,dr(9,oc.bind(null,n,r,i,t),void 0,null),ee===null)throw Error(b(349));Ft&30||ic(n,t,i)}return i}function ic(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=K.updateQueue,t===null?(t={lastEffect:null,stores:null},K.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function oc(e,t,n,r){t.value=n,t.getSnapshot=r,lc(t)&&ac(e)}function sc(e,t,n){return n(function(){lc(t)&&ac(e)})}function lc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fe(e,n)}catch{return!0}}function ac(e){var t=Je(e,1);t!==null&&De(t,e,1,-1)}function la(e){var t=ze();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:e},t.queue=e,e=e.dispatch=Mp.bind(null,K,e),[t.memoizedState,e]}function dr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=K.updateQueue,t===null?(t={lastEffect:null,stores:null},K.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function uc(){return xe().memoizedState}function Qr(e,t,n,r){var i=ze();K.flags|=e,i.memoizedState=dr(1|t,n,void 0,r===void 0?null:r)}function Ii(e,t,n,r){var i=xe();r=r===void 0?null:r;var o=void 0;if(X!==null){var s=X.memoizedState;if(o=s.destroy,r!==null&&Ys(r,s.deps)){i.memoizedState=dr(t,n,o,r);return}}K.flags|=e,i.memoizedState=dr(1|t,n,o,r)}function aa(e,t){return Qr(8390656,8,e,t)}function Xs(e,t){return Ii(2048,8,e,t)}function cc(e,t){return Ii(4,2,e,t)}function dc(e,t){return Ii(4,4,e,t)}function fc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pc(e,t,n){return n=n!=null?n.concat([e]):null,Ii(4,4,fc.bind(null,t,e),n)}function Zs(){}function mc(e,t){var n=xe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ys(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function hc(e,t){var n=xe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ys(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function gc(e,t,n){return Ft&21?(Fe(n,t)||(n=wu(),K.lanes|=n,Bt|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pe=!0),e.memoizedState=n)}function Cp(e,t){var n=D;D=n!==0&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{D=n,fo.transition=r}}function vc(){return xe().memoizedState}function Lp(e,t,n){var r=vt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yc(e))kc(t,n);else if(n=Ju(e,t,n,r),n!==null){var i=ue();De(n,e,r,i),Sc(n,t,r)}}function Mp(e,t,n){var r=vt(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yc(e))kc(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,Fe(l,s)){var a=t.interleaved;a===null?(i.next=i,Us(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Ju(e,t,i,r),n!==null&&(i=ue(),De(n,e,r,i),Sc(n,t,r))}}function yc(e){var t=e.alternate;return e===K||t!==null&&t===K}function kc(e,t){Kn=Si=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Sc(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_s(e,n)}}var wi={readContext:_e,useCallback:ie,useContext:ie,useEffect:ie,useImperativeHandle:ie,useInsertionEffect:ie,useLayoutEffect:ie,useMemo:ie,useReducer:ie,useRef:ie,useState:ie,useDebugValue:ie,useDeferredValue:ie,useTransition:ie,useMutableSource:ie,useSyncExternalStore:ie,useId:ie,unstable_isNewReconciler:!1},Tp={readContext:_e,useCallback:function(e,t){return ze().memoizedState=[e,t===void 0?null:t],e},useContext:_e,useEffect:aa,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Qr(4194308,4,fc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qr(4,2,e,t)},useMemo:function(e,t){var n=ze();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ze();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Lp.bind(null,K,e),[r.memoizedState,e]},useRef:function(e){var t=ze();return e={current:e},t.memoizedState=e},useState:la,useDebugValue:Zs,useDeferredValue:function(e){return ze().memoizedState=e},useTransition:function(){var e=la(!1),t=e[0];return e=Cp.bind(null,e[1]),ze().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=K,i=ze();if(W){if(n===void 0)throw Error(b(407));n=n()}else{if(n=t(),ee===null)throw Error(b(349));Ft&30||ic(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,aa(sc.bind(null,r,o,e),[e]),r.flags|=2048,dr(9,oc.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ze(),t=ee.identifierPrefix;if(W){var n=qe,r=Ye;n=(r&~(1<<32-Ie(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ur++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ep++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pp={readContext:_e,useCallback:mc,useContext:_e,useEffect:Xs,useImperativeHandle:pc,useInsertionEffect:cc,useLayoutEffect:dc,useMemo:hc,useReducer:po,useRef:uc,useState:function(){return po(cr)},useDebugValue:Zs,useDeferredValue:function(e){var t=xe();return gc(t,X.memoizedState,e)},useTransition:function(){var e=po(cr)[0],t=xe().memoizedState;return[e,t]},useMutableSource:nc,useSyncExternalStore:rc,useId:vc,unstable_isNewReconciler:!1},_p={readContext:_e,useCallback:mc,useContext:_e,useEffect:Xs,useImperativeHandle:pc,useInsertionEffect:cc,useLayoutEffect:dc,useMemo:hc,useReducer:mo,useRef:uc,useState:function(){return mo(cr)},useDebugValue:Zs,useDeferredValue:function(e){var t=xe();return X===null?t.memoizedState=e:gc(t,X.memoizedState,e)},useTransition:function(){var e=mo(cr)[0],t=xe().memoizedState;return[e,t]},useMutableSource:nc,useSyncExternalStore:rc,useId:vc,unstable_isNewReconciler:!1};function Re(e,t){if(e&&e.defaultProps){t=G({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Zo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:G({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Di={isMounted:function(e){return(e=e._reactInternals)?Ut(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ue(),i=vt(e),o=Qe(r,i);o.payload=t,n!=null&&(o.callback=n),t=ht(e,o,i),t!==null&&(De(t,e,i,r),Yr(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ue(),i=vt(e),o=Qe(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ht(e,o,i),t!==null&&(De(t,e,i,r),Yr(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ue(),r=vt(e),i=Qe(n,r);i.tag=2,t!=null&&(i.callback=t),t=ht(e,i,r),t!==null&&(De(t,e,r,n),Yr(t,e,r))}};function ua(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!rr(n,r)||!rr(i,o):!0}function wc(e,t,n){var r=!1,i=St,o=t.contextType;return typeof o=="object"&&o!==null?o=_e(o):(i=he(t)?It:le.current,r=t.contextTypes,o=(r=r!=null)?pn(e,i):St),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Di,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ca(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Di.enqueueReplaceState(t,t.state,null)}function Jo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ws(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=_e(o):(o=he(t)?It:le.current,i.context=pn(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Zo(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Di.enqueueReplaceState(i,i.state,null),yi(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function vn(e,t){try{var n="",r=t;do n+=nf(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function ho(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function es(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var xp=typeof WeakMap=="function"?WeakMap:Map;function bc(e,t,n){n=Qe(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ei||(Ei=!0,cs=r),es(e,t)},n}function Ec(e,t,n){n=Qe(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){es(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){es(e,t),typeof r!="function"&&(gt===null?gt=new Set([this]):gt.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function da(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new xp;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Wp.bind(null,e,t,n),t.then(e,e))}function fa(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function pa(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qe(-1,1),t.tag=2,ht(n,t,1))),n.lanes|=1),e)}var Np=tt.ReactCurrentOwner,pe=!1;function ae(e,t,n,r){t.child=e===null?Zu(t,null,n,r):hn(t,e.child,n,r)}function ma(e,t,n,r,i){n=n.render;var o=t.ref;return un(t,i),r=qs(e,t,n,r,o,i),n=Qs(),e!==null&&!pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,et(e,t,i)):(W&&n&&Fs(t),t.flags|=1,ae(e,t,r,i),t.child)}function ha(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!sl(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Cc(e,t,o,r,i)):(e=ei(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:rr,n(s,r)&&e.ref===t.ref)return et(e,t,i)}return t.flags|=1,e=yt(o,r),e.ref=t.ref,e.return=t,t.child=e}function Cc(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(rr(o,r)&&e.ref===t.ref)if(pe=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(pe=!0);else return t.lanes=e.lanes,et(e,t,i)}return ts(e,t,n,r,i)}function Lc(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},B(rn,ye),ye|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,B(rn,ye),ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,B(rn,ye),ye|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,B(rn,ye),ye|=r;return ae(e,t,i,n),t.child}function Mc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ts(e,t,n,r,i){var o=he(n)?It:le.current;return o=pn(t,o),un(t,i),n=qs(e,t,n,r,o,i),r=Qs(),e!==null&&!pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,et(e,t,i)):(W&&r&&Fs(t),t.flags|=1,ae(e,t,n,i),t.child)}function ga(e,t,n,r,i){if(he(n)){var o=!0;pi(t)}else o=!1;if(un(t,i),t.stateNode===null)Xr(e,t),wc(t,n,r),Jo(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=_e(u):(u=he(n)?It:le.current,u=pn(t,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&ca(t,s,r,u),ot=!1;var g=t.memoizedState;s.state=g,yi(t,r,s,i),a=t.memoizedState,l!==r||g!==a||me.current||ot?(typeof f=="function"&&(Zo(t,n,f,r),a=t.memoizedState),(l=ot||ua(t,n,l,r,g,a,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ec(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Re(t.type,l),s.props=u,h=t.pendingProps,g=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=_e(a):(a=he(n)?It:le.current,a=pn(t,a));var S=n.getDerivedStateFromProps;(f=typeof S=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==h||g!==a)&&ca(t,s,r,a),ot=!1,g=t.memoizedState,s.state=g,yi(t,r,s,i);var v=t.memoizedState;l!==h||g!==v||me.current||ot?(typeof S=="function"&&(Zo(t,n,S,r),v=t.memoizedState),(u=ot||ua(t,n,u,r,g,v,a)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return ns(e,t,n,r,o,i)}function ns(e,t,n,r,i,o){Mc(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&ta(t,n,!1),et(e,t,o);r=t.stateNode,Np.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=hn(t,e.child,null,o),t.child=hn(t,null,l,o)):ae(e,t,l,o),t.memoizedState=r.state,i&&ta(t,n,!0),t.child}function Tc(e){var t=e.stateNode;t.pendingContext?ea(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ea(e,t.context,!1),js(e,t.containerInfo)}function va(e,t,n,r,i){return mn(),zs(i),t.flags|=256,ae(e,t,n,r),t.child}var rs={dehydrated:null,treeContext:null,retryLane:0};function is(e){return{baseLanes:e,cachePool:null,transitions:null}}function Pc(e,t,n){var r=t.pendingProps,i=j.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),B(j,i&1),e===null)return Qo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=zi(s,r,0,null),e=$t(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=is(n),t.memoizedState=rs,e):Js(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Rp(e,t,s,r,l,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=yt(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=yt(l,o):(o=$t(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?is(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=rs,r}return o=e.child,e=o.sibling,r=yt(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Js(e,t){return t=zi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zr(e,t,n,r){return r!==null&&zs(r),hn(t,e.child,null,n),e=Js(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rp(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=ho(Error(b(422))),zr(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=zi({mode:"visible",children:r.children},i,0,null),o=$t(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&hn(t,e.child,null,s),t.child.memoizedState=is(s),t.memoizedState=rs,o);if(!(t.mode&1))return zr(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(b(419)),r=ho(o,r,void 0),zr(e,t,s,r)}if(l=(s&e.childLanes)!==0,pe||l){if(r=ee,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Je(e,i),De(r,e,i,-1))}return ol(),r=ho(Error(b(421))),zr(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=jp.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ke=mt(i.nextSibling),Se=t,W=!0,Ae=null,e!==null&&(Le[Me++]=Ye,Le[Me++]=qe,Le[Me++]=Dt,Ye=e.id,qe=e.overflow,Dt=t),t=Js(t,r.children),t.flags|=4096,t)}function ya(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Xo(e.return,t,n)}function go(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function _c(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ae(e,t,r.children,n),r=j.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ya(e,n,t);else if(e.tag===19)ya(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(B(j,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ki(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),go(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ki(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}go(t,!0,n,null,o);break;case"together":go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function et(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bt|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(b(153));if(t.child!==null){for(e=t.child,n=yt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $p(e,t,n){switch(t.tag){case 3:Tc(t),mn();break;case 5:tc(t);break;case 1:he(t.type)&&pi(t);break;case 4:js(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;B(gi,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(B(j,j.current&1),t.flags|=128,null):n&t.child.childLanes?Pc(e,t,n):(B(j,j.current&1),e=et(e,t,n),e!==null?e.sibling:null);B(j,j.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return _c(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(j,j.current),r)break;return null;case 22:case 23:return t.lanes=0,Lc(e,t,n)}return et(e,t,n)}var xc,os,Nc,Rc;xc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};os=function(){};Nc=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,_t(Ue.current);var o=null;switch(n){case"input":i=To(e,i),r=To(e,r),o=[];break;case"select":i=G({},i,{value:void 0}),r=G({},r,{value:void 0}),o=[];break;case"textarea":i=xo(e,i),r=xo(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=di)}Ro(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Qn.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Qn.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&O("scroll",e),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Rc=function(e,t,n,r){n!==r&&(t.flags|=4)};function Rn(e,t){if(!W)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ap(e,t,n){var r=t.pendingProps;switch(Bs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(t),null;case 1:return he(t.type)&&fi(),oe(t),null;case 3:return r=t.stateNode,gn(),H(me),H(le),Gs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Fr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ae!==null&&(ps(Ae),Ae=null))),os(e,t),oe(t),null;case 5:Ks(t);var i=_t(ar.current);if(n=t.type,e!==null&&t.stateNode!=null)Nc(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(b(166));return oe(t),null}if(e=_t(Ue.current),Fr(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Oe]=t,r[sr]=o,e=(t.mode&1)!==0,n){case"dialog":O("cancel",r),O("close",r);break;case"iframe":case"object":case"embed":O("load",r);break;case"video":case"audio":for(i=0;i<zn.length;i++)O(zn[i],r);break;case"source":O("error",r);break;case"img":case"image":case"link":O("error",r),O("load",r);break;case"details":O("toggle",r);break;case"input":Tl(r,o),O("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},O("invalid",r);break;case"textarea":_l(r,o),O("invalid",r)}Ro(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Dr(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Dr(r.textContent,l,e),i=["children",""+l]):Qn.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&O("scroll",r)}switch(n){case"input":Pr(r),Pl(r,o,!0);break;case"textarea":Pr(r),xl(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=di)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=su(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Oe]=t,e[sr]=r,xc(e,t,!1,!1),t.stateNode=e;e:{switch(s=$o(n,r),n){case"dialog":O("cancel",e),O("close",e),i=r;break;case"iframe":case"object":case"embed":O("load",e),i=r;break;case"video":case"audio":for(i=0;i<zn.length;i++)O(zn[i],e);i=r;break;case"source":O("error",e),i=r;break;case"img":case"image":case"link":O("error",e),O("load",e),i=r;break;case"details":O("toggle",e),i=r;break;case"input":Tl(e,r),i=To(e,r),O("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=G({},r,{value:void 0}),O("invalid",e);break;case"textarea":_l(e,r),i=xo(e,r),O("invalid",e);break;default:i=r}Ro(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?uu(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&lu(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Xn(e,a):typeof a=="number"&&Xn(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Qn.hasOwnProperty(o)?a!=null&&o==="onScroll"&&O("scroll",e):a!=null&&Es(e,o,a,s))}switch(n){case"input":Pr(e),Pl(e,r,!1);break;case"textarea":Pr(e),xl(e);break;case"option":r.value!=null&&e.setAttribute("value",""+kt(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?on(e,!!r.multiple,o,!1):r.defaultValue!=null&&on(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=di)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return oe(t),null;case 6:if(e&&t.stateNode!=null)Rc(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(b(166));if(n=_t(ar.current),_t(Ue.current),Fr(t)){if(r=t.stateNode,n=t.memoizedProps,r[Oe]=t,(o=r.nodeValue!==n)&&(e=Se,e!==null))switch(e.tag){case 3:Dr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Dr(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Oe]=t,t.stateNode=r}return oe(t),null;case 13:if(H(j),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(W&&ke!==null&&t.mode&1&&!(t.flags&128))Qu(),mn(),t.flags|=98560,o=!1;else if(o=Fr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(b(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(b(317));o[Oe]=t}else mn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;oe(t),o=!1}else Ae!==null&&(ps(Ae),Ae=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||j.current&1?Z===0&&(Z=3):ol())),t.updateQueue!==null&&(t.flags|=4),oe(t),null);case 4:return gn(),os(e,t),e===null&&ir(t.stateNode.containerInfo),oe(t),null;case 10:return Vs(t.type._context),oe(t),null;case 17:return he(t.type)&&fi(),oe(t),null;case 19:if(H(j),o=t.memoizedState,o===null)return oe(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Rn(o,!1);else{if(Z!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ki(e),s!==null){for(t.flags|=128,Rn(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return B(j,j.current&1|2),t.child}e=e.sibling}o.tail!==null&&q()>yn&&(t.flags|=128,r=!0,Rn(o,!1),t.lanes=4194304)}else{if(!r)if(e=ki(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Rn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!W)return oe(t),null}else 2*q()-o.renderingStartTime>yn&&n!==1073741824&&(t.flags|=128,r=!0,Rn(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=q(),t.sibling=null,n=j.current,B(j,r?n&1|2:n&1),t):(oe(t),null);case 22:case 23:return il(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ye&1073741824&&(oe(t),t.subtreeFlags&6&&(t.flags|=8192)):oe(t),null;case 24:return null;case 25:return null}throw Error(b(156,t.tag))}function Ip(e,t){switch(Bs(t),t.tag){case 1:return he(t.type)&&fi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gn(),H(me),H(le),Gs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ks(t),null;case 13:if(H(j),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(b(340));mn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(j),null;case 4:return gn(),null;case 10:return Vs(t.type._context),null;case 22:case 23:return il(),null;case 24:return null;default:return null}}var Or=!1,se=!1,Dp=typeof WeakSet=="function"?WeakSet:Set,T=null;function nn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Y(e,t,r)}else n.current=null}function ss(e,t,n){try{n()}catch(r){Y(e,t,r)}}var ka=!1;function Fp(e,t){if(Uo=ai,e=Fu(),Ds(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,f=0,h=e,g=null;t:for(;;){for(var S;h!==n||i!==0&&h.nodeType!==3||(l=s+i),h!==o||r!==0&&h.nodeType!==3||(a=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(S=h.firstChild)!==null;)g=h,h=S;for(;;){if(h===e)break t;if(g===n&&++u===i&&(l=s),g===o&&++f===r&&(a=s),(S=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=S}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wo={focusedElem:e,selectionRange:n},ai=!1,T=t;T!==null;)if(t=T,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,T=e;else for(;T!==null;){t=T;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var k=v.memoizedProps,P=v.memoizedState,d=t.stateNode,c=d.getSnapshotBeforeUpdate(t.elementType===t.type?k:Re(t.type,k),P);d.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(y){Y(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,T=e;break}T=t.return}return v=ka,ka=!1,v}function Gn(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&ss(t,n,o)}i=i.next}while(i!==r)}}function Fi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ls(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function $c(e){var t=e.alternate;t!==null&&(e.alternate=null,$c(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Oe],delete t[sr],delete t[Go],delete t[kp],delete t[Sp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ac(e){return e.tag===5||e.tag===3||e.tag===4}function Sa(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function as(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=di));else if(r!==4&&(e=e.child,e!==null))for(as(e,t,n),e=e.sibling;e!==null;)as(e,t,n),e=e.sibling}function us(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(us(e,t,n),e=e.sibling;e!==null;)us(e,t,n),e=e.sibling}var te=null,$e=!1;function rt(e,t,n){for(n=n.child;n!==null;)Ic(e,t,n),n=n.sibling}function Ic(e,t,n){if(Ve&&typeof Ve.onCommitFiberUnmount=="function")try{Ve.onCommitFiberUnmount(_i,n)}catch{}switch(n.tag){case 5:se||nn(n,t);case 6:var r=te,i=$e;te=null,rt(e,t,n),te=r,$e=i,te!==null&&($e?(e=te,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):te.removeChild(n.stateNode));break;case 18:te!==null&&($e?(e=te,n=n.stateNode,e.nodeType===8?ao(e.parentNode,n):e.nodeType===1&&ao(e,n),tr(e)):ao(te,n.stateNode));break;case 4:r=te,i=$e,te=n.stateNode.containerInfo,$e=!0,rt(e,t,n),te=r,$e=i;break;case 0:case 11:case 14:case 15:if(!se&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&ss(n,t,s),i=i.next}while(i!==r)}rt(e,t,n);break;case 1:if(!se&&(nn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Y(n,t,l)}rt(e,t,n);break;case 21:rt(e,t,n);break;case 22:n.mode&1?(se=(r=se)||n.memoizedState!==null,rt(e,t,n),se=r):rt(e,t,n);break;default:rt(e,t,n)}}function wa(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Dp),t.forEach(function(r){var i=Kp.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ne(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:te=l.stateNode,$e=!1;break e;case 3:te=l.stateNode.containerInfo,$e=!0;break e;case 4:te=l.stateNode.containerInfo,$e=!0;break e}l=l.return}if(te===null)throw Error(b(160));Ic(o,s,i),te=null,$e=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Y(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Dc(t,e),t=t.sibling}function Dc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ne(t,e),Be(e),r&4){try{Gn(3,e,e.return),Fi(3,e)}catch(k){Y(e,e.return,k)}try{Gn(5,e,e.return)}catch(k){Y(e,e.return,k)}}break;case 1:Ne(t,e),Be(e),r&512&&n!==null&&nn(n,n.return);break;case 5:if(Ne(t,e),Be(e),r&512&&n!==null&&nn(n,n.return),e.flags&32){var i=e.stateNode;try{Xn(i,"")}catch(k){Y(e,e.return,k)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&iu(i,o),$o(l,s);var u=$o(l,o);for(s=0;s<a.length;s+=2){var f=a[s],h=a[s+1];f==="style"?uu(i,h):f==="dangerouslySetInnerHTML"?lu(i,h):f==="children"?Xn(i,h):Es(i,f,h,u)}switch(l){case"input":Po(i,o);break;case"textarea":ou(i,o);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var S=o.value;S!=null?on(i,!!o.multiple,S,!1):g!==!!o.multiple&&(o.defaultValue!=null?on(i,!!o.multiple,o.defaultValue,!0):on(i,!!o.multiple,o.multiple?[]:"",!1))}i[sr]=o}catch(k){Y(e,e.return,k)}}break;case 6:if(Ne(t,e),Be(e),r&4){if(e.stateNode===null)throw Error(b(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(k){Y(e,e.return,k)}}break;case 3:if(Ne(t,e),Be(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tr(t.containerInfo)}catch(k){Y(e,e.return,k)}break;case 4:Ne(t,e),Be(e);break;case 13:Ne(t,e),Be(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(nl=q())),r&4&&wa(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(se=(u=se)||f,Ne(t,e),se=u):Ne(t,e),Be(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(T=e,f=e.child;f!==null;){for(h=T=f;T!==null;){switch(g=T,S=g.child,g.tag){case 0:case 11:case 14:case 15:Gn(4,g,g.return);break;case 1:nn(g,g.return);var v=g.stateNode;if(typeof v.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(k){Y(r,n,k)}}break;case 5:nn(g,g.return);break;case 22:if(g.memoizedState!==null){Ea(h);continue}}S!==null?(S.return=g,T=S):Ea(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,a=h.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=au("display",s))}catch(k){Y(e,e.return,k)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(k){Y(e,e.return,k)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ne(t,e),Be(e),r&4&&wa(e);break;case 21:break;default:Ne(t,e),Be(e)}}function Be(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ac(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xn(i,""),r.flags&=-33);var o=Sa(e);us(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Sa(e);as(e,l,s);break;default:throw Error(b(161))}}catch(a){Y(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bp(e,t,n){T=e,Fc(e)}function Fc(e,t,n){for(var r=(e.mode&1)!==0;T!==null;){var i=T,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Or;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||se;l=Or;var u=se;if(Or=s,(se=a)&&!u)for(T=i;T!==null;)s=T,a=s.child,s.tag===22&&s.memoizedState!==null?Ca(i):a!==null?(a.return=s,T=a):Ca(i);for(;o!==null;)T=o,Fc(o),o=o.sibling;T=i,Or=l,se=u}ba(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,T=o):ba(e)}}function ba(e){for(;T!==null;){var t=T;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:se||Fi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!se)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Re(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&sa(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sa(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&tr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}se||t.flags&512&&ls(t)}catch(g){Y(t,t.return,g)}}if(t===e){T=null;break}if(n=t.sibling,n!==null){n.return=t.return,T=n;break}T=t.return}}function Ea(e){for(;T!==null;){var t=T;if(t===e){T=null;break}var n=t.sibling;if(n!==null){n.return=t.return,T=n;break}T=t.return}}function Ca(e){for(;T!==null;){var t=T;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Fi(4,t)}catch(a){Y(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Y(t,i,a)}}var o=t.return;try{ls(t)}catch(a){Y(t,o,a)}break;case 5:var s=t.return;try{ls(t)}catch(a){Y(t,s,a)}}}catch(a){Y(t,t.return,a)}if(t===e){T=null;break}var l=t.sibling;if(l!==null){l.return=t.return,T=l;break}T=t.return}}var zp=Math.ceil,bi=tt.ReactCurrentDispatcher,el=tt.ReactCurrentOwner,Pe=tt.ReactCurrentBatchConfig,$=0,ee=null,Q=null,ne=0,ye=0,rn=bt(0),Z=0,fr=null,Bt=0,Bi=0,tl=0,Yn=null,fe=null,nl=0,yn=1/0,je=null,Ei=!1,cs=null,gt=null,Hr=!1,ut=null,Ci=0,qn=0,ds=null,Zr=-1,Jr=0;function ue(){return $&6?q():Zr!==-1?Zr:Zr=q()}function vt(e){return e.mode&1?$&2&&ne!==0?ne&-ne:bp.transition!==null?(Jr===0&&(Jr=wu()),Jr):(e=D,e!==0||(e=window.event,e=e===void 0?16:Pu(e.type)),e):1}function De(e,t,n,r){if(50<qn)throw qn=0,ds=null,Error(b(185));vr(e,n,r),(!($&2)||e!==ee)&&(e===ee&&(!($&2)&&(Bi|=n),Z===4&&lt(e,ne)),ge(e,r),n===1&&$===0&&!(t.mode&1)&&(yn=q()+500,Ai&&Et()))}function ge(e,t){var n=e.callbackNode;bf(e,t);var r=li(e,e===ee?ne:0);if(r===0)n!==null&&$l(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&$l(n),t===1)e.tag===0?wp(La.bind(null,e)):Gu(La.bind(null,e)),vp(function(){!($&6)&&Et()}),n=null;else{switch(bu(r)){case 1:n=Ps;break;case 4:n=ku;break;case 16:n=si;break;case 536870912:n=Su;break;default:n=si}n=jc(n,Bc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Bc(e,t){if(Zr=-1,Jr=0,$&6)throw Error(b(327));var n=e.callbackNode;if(cn()&&e.callbackNode!==n)return null;var r=li(e,e===ee?ne:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Li(e,r);else{t=r;var i=$;$|=2;var o=Oc();(ee!==e||ne!==t)&&(je=null,yn=q()+500,Rt(e,t));do try{Vp();break}catch(l){zc(e,l)}while(!0);Hs(),bi.current=o,$=i,Q!==null?t=0:(ee=null,ne=0,t=Z)}if(t!==0){if(t===2&&(i=Bo(e),i!==0&&(r=i,t=fs(e,i))),t===1)throw n=fr,Rt(e,0),lt(e,r),ge(e,q()),n;if(t===6)lt(e,r);else{if(i=e.current.alternate,!(r&30)&&!Op(i)&&(t=Li(e,r),t===2&&(o=Bo(e),o!==0&&(r=o,t=fs(e,o))),t===1))throw n=fr,Rt(e,0),lt(e,r),ge(e,q()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(b(345));case 2:Mt(e,fe,je);break;case 3:if(lt(e,r),(r&130023424)===r&&(t=nl+500-q(),10<t)){if(li(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ue(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ko(Mt.bind(null,e,fe,je),t);break}Mt(e,fe,je);break;case 4:if(lt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Ie(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=q()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zp(r/1960))-r,10<r){e.timeoutHandle=Ko(Mt.bind(null,e,fe,je),r);break}Mt(e,fe,je);break;case 5:Mt(e,fe,je);break;default:throw Error(b(329))}}}return ge(e,q()),e.callbackNode===n?Bc.bind(null,e):null}function fs(e,t){var n=Yn;return e.current.memoizedState.isDehydrated&&(Rt(e,t).flags|=256),e=Li(e,t),e!==2&&(t=fe,fe=n,t!==null&&ps(t)),e}function ps(e){fe===null?fe=e:fe.push.apply(fe,e)}function Op(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Fe(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lt(e,t){for(t&=~tl,t&=~Bi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ie(t),r=1<<n;e[n]=-1,t&=~r}}function La(e){if($&6)throw Error(b(327));cn();var t=li(e,0);if(!(t&1))return ge(e,q()),null;var n=Li(e,t);if(e.tag!==0&&n===2){var r=Bo(e);r!==0&&(t=r,n=fs(e,r))}if(n===1)throw n=fr,Rt(e,0),lt(e,t),ge(e,q()),n;if(n===6)throw Error(b(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mt(e,fe,je),ge(e,q()),null}function rl(e,t){var n=$;$|=1;try{return e(t)}finally{$=n,$===0&&(yn=q()+500,Ai&&Et())}}function zt(e){ut!==null&&ut.tag===0&&!($&6)&&cn();var t=$;$|=1;var n=Pe.transition,r=D;try{if(Pe.transition=null,D=1,e)return e()}finally{D=r,Pe.transition=n,$=t,!($&6)&&Et()}}function il(){ye=rn.current,H(rn)}function Rt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,gp(n)),Q!==null)for(n=Q.return;n!==null;){var r=n;switch(Bs(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fi();break;case 3:gn(),H(me),H(le),Gs();break;case 5:Ks(r);break;case 4:gn();break;case 13:H(j);break;case 19:H(j);break;case 10:Vs(r.type._context);break;case 22:case 23:il()}n=n.return}if(ee=e,Q=e=yt(e.current,null),ne=ye=t,Z=0,fr=null,tl=Bi=Bt=0,fe=Yn=null,Pt!==null){for(t=0;t<Pt.length;t++)if(n=Pt[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Pt=null}return e}function zc(e,t){do{var n=Q;try{if(Hs(),qr.current=wi,Si){for(var r=K.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Si=!1}if(Ft=0,J=X=K=null,Kn=!1,ur=0,el.current=null,n===null||n.return===null){Z=1,fr=t,Q=null;break}e:{var o=e,s=n.return,l=n,a=t;if(t=ne,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var S=fa(s);if(S!==null){S.flags&=-257,pa(S,s,l,o,t),S.mode&1&&da(o,u,t),t=S,a=u;var v=t.updateQueue;if(v===null){var k=new Set;k.add(a),t.updateQueue=k}else v.add(a);break e}else{if(!(t&1)){da(o,u,t),ol();break e}a=Error(b(426))}}else if(W&&l.mode&1){var P=fa(s);if(P!==null){!(P.flags&65536)&&(P.flags|=256),pa(P,s,l,o,t),zs(vn(a,l));break e}}o=a=vn(a,l),Z!==4&&(Z=2),Yn===null?Yn=[o]:Yn.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var d=bc(o,a,t);oa(o,d);break e;case 1:l=a;var c=o.type,p=o.stateNode;if(!(o.flags&128)&&(typeof c.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(gt===null||!gt.has(p)))){o.flags|=65536,t&=-t,o.lanes|=t;var y=Ec(o,l,t);oa(o,y);break e}}o=o.return}while(o!==null)}Vc(n)}catch(w){t=w,Q===n&&n!==null&&(Q=n=n.return);continue}break}while(!0)}function Oc(){var e=bi.current;return bi.current=wi,e===null?wi:e}function ol(){(Z===0||Z===3||Z===2)&&(Z=4),ee===null||!(Bt&268435455)&&!(Bi&268435455)||lt(ee,ne)}function Li(e,t){var n=$;$|=2;var r=Oc();(ee!==e||ne!==t)&&(je=null,Rt(e,t));do try{Hp();break}catch(i){zc(e,i)}while(!0);if(Hs(),$=n,bi.current=r,Q!==null)throw Error(b(261));return ee=null,ne=0,Z}function Hp(){for(;Q!==null;)Hc(Q)}function Vp(){for(;Q!==null&&!pf();)Hc(Q)}function Hc(e){var t=Wc(e.alternate,e,ye);e.memoizedProps=e.pendingProps,t===null?Vc(e):Q=t,el.current=null}function Vc(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ip(n,t),n!==null){n.flags&=32767,Q=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Z=6,Q=null;return}}else if(n=Ap(n,t,ye),n!==null){Q=n;return}if(t=t.sibling,t!==null){Q=t;return}Q=t=e}while(t!==null);Z===0&&(Z=5)}function Mt(e,t,n){var r=D,i=Pe.transition;try{Pe.transition=null,D=1,Up(e,t,n,r)}finally{Pe.transition=i,D=r}return null}function Up(e,t,n,r){do cn();while(ut!==null);if($&6)throw Error(b(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(b(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Ef(e,o),e===ee&&(Q=ee=null,ne=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hr||(Hr=!0,jc(si,function(){return cn(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Pe.transition,Pe.transition=null;var s=D;D=1;var l=$;$|=4,el.current=null,Fp(e,n),Dc(n,e),up(Wo),ai=!!Uo,Wo=Uo=null,e.current=n,Bp(n),mf(),$=l,D=s,Pe.transition=o}else e.current=n;if(Hr&&(Hr=!1,ut=e,Ci=i),o=e.pendingLanes,o===0&&(gt=null),vf(n.stateNode),ge(e,q()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ei)throw Ei=!1,e=cs,cs=null,e;return Ci&1&&e.tag!==0&&cn(),o=e.pendingLanes,o&1?e===ds?qn++:(qn=0,ds=e):qn=0,Et(),null}function cn(){if(ut!==null){var e=bu(Ci),t=Pe.transition,n=D;try{if(Pe.transition=null,D=16>e?16:e,ut===null)var r=!1;else{if(e=ut,ut=null,Ci=0,$&6)throw Error(b(331));var i=$;for($|=4,T=e.current;T!==null;){var o=T,s=o.child;if(T.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(T=u;T!==null;){var f=T;switch(f.tag){case 0:case 11:case 15:Gn(8,f,o)}var h=f.child;if(h!==null)h.return=f,T=h;else for(;T!==null;){f=T;var g=f.sibling,S=f.return;if($c(f),f===u){T=null;break}if(g!==null){g.return=S,T=g;break}T=S}}}var v=o.alternate;if(v!==null){var k=v.child;if(k!==null){v.child=null;do{var P=k.sibling;k.sibling=null,k=P}while(k!==null)}}T=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,T=s;else e:for(;T!==null;){if(o=T,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Gn(9,o,o.return)}var d=o.sibling;if(d!==null){d.return=o.return,T=d;break e}T=o.return}}var c=e.current;for(T=c;T!==null;){s=T;var p=s.child;if(s.subtreeFlags&2064&&p!==null)p.return=s,T=p;else e:for(s=c;T!==null;){if(l=T,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Fi(9,l)}}catch(w){Y(l,l.return,w)}if(l===s){T=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,T=y;break e}T=l.return}}if($=i,Et(),Ve&&typeof Ve.onPostCommitFiberRoot=="function")try{Ve.onPostCommitFiberRoot(_i,e)}catch{}r=!0}return r}finally{D=n,Pe.transition=t}}return!1}function Ma(e,t,n){t=vn(n,t),t=bc(e,t,1),e=ht(e,t,1),t=ue(),e!==null&&(vr(e,1,t),ge(e,t))}function Y(e,t,n){if(e.tag===3)Ma(e,e,n);else for(;t!==null;){if(t.tag===3){Ma(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gt===null||!gt.has(r))){e=vn(n,e),e=Ec(t,e,1),t=ht(t,e,1),e=ue(),t!==null&&(vr(t,1,e),ge(t,e));break}}t=t.return}}function Wp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ue(),e.pingedLanes|=e.suspendedLanes&n,ee===e&&(ne&n)===n&&(Z===4||Z===3&&(ne&130023424)===ne&&500>q()-nl?Rt(e,0):tl|=n),ge(e,t)}function Uc(e,t){t===0&&(e.mode&1?(t=Nr,Nr<<=1,!(Nr&130023424)&&(Nr=4194304)):t=1);var n=ue();e=Je(e,t),e!==null&&(vr(e,t,n),ge(e,n))}function jp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Uc(e,n)}function Kp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(t),Uc(e,n)}var Wc;Wc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||me.current)pe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return pe=!1,$p(e,t,n);pe=!!(e.flags&131072)}else pe=!1,W&&t.flags&1048576&&Yu(t,hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xr(e,t),e=t.pendingProps;var i=pn(t,le.current);un(t,n),i=qs(null,t,r,e,i,n);var o=Qs();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,he(r)?(o=!0,pi(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ws(t),i.updater=Di,t.stateNode=i,i._reactInternals=t,Jo(t,r,e,n),t=ns(null,t,r,!0,o,n)):(t.tag=0,W&&o&&Fs(t),ae(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xr(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Yp(r),e=Re(r,e),i){case 0:t=ts(null,t,r,e,n);break e;case 1:t=ga(null,t,r,e,n);break e;case 11:t=ma(null,t,r,e,n);break e;case 14:t=ha(null,t,r,Re(r.type,e),n);break e}throw Error(b(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Re(r,i),ts(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Re(r,i),ga(e,t,r,i,n);case 3:e:{if(Tc(t),e===null)throw Error(b(387));r=t.pendingProps,o=t.memoizedState,i=o.element,ec(e,t),yi(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=vn(Error(b(423)),t),t=va(e,t,r,n,i);break e}else if(r!==i){i=vn(Error(b(424)),t),t=va(e,t,r,n,i);break e}else for(ke=mt(t.stateNode.containerInfo.firstChild),Se=t,W=!0,Ae=null,n=Zu(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mn(),r===i){t=et(e,t,n);break e}ae(e,t,r,n)}t=t.child}return t;case 5:return tc(t),e===null&&Qo(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,jo(r,i)?s=null:o!==null&&jo(r,o)&&(t.flags|=32),Mc(e,t),ae(e,t,s,n),t.child;case 6:return e===null&&Qo(t),null;case 13:return Pc(e,t,n);case 4:return js(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=hn(t,null,r,n):ae(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Re(r,i),ma(e,t,r,i,n);case 7:return ae(e,t,t.pendingProps,n),t.child;case 8:return ae(e,t,t.pendingProps.children,n),t.child;case 12:return ae(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,B(gi,r._currentValue),r._currentValue=s,o!==null)if(Fe(o.value,s)){if(o.children===i.children&&!me.current){t=et(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=Qe(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Xo(o.return,n,t),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(b(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Xo(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ae(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,un(t,n),i=_e(i),r=r(i),t.flags|=1,ae(e,t,r,n),t.child;case 14:return r=t.type,i=Re(r,t.pendingProps),i=Re(r.type,i),ha(e,t,r,i,n);case 15:return Cc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Re(r,i),Xr(e,t),t.tag=1,he(r)?(e=!0,pi(t)):e=!1,un(t,n),wc(t,r,i),Jo(t,r,i,n),ns(null,t,r,!0,e,n);case 19:return _c(e,t,n);case 22:return Lc(e,t,n)}throw Error(b(156,t.tag))};function jc(e,t){return yu(e,t)}function Gp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Te(e,t,n,r){return new Gp(e,t,n,r)}function sl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yp(e){if(typeof e=="function")return sl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ls)return 11;if(e===Ms)return 14}return 2}function yt(e,t){var n=e.alternate;return n===null?(n=Te(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ei(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")sl(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Gt:return $t(n.children,i,o,t);case Cs:s=8,i|=8;break;case Eo:return e=Te(12,n,t,i|2),e.elementType=Eo,e.lanes=o,e;case Co:return e=Te(13,n,t,i),e.elementType=Co,e.lanes=o,e;case Lo:return e=Te(19,n,t,i),e.elementType=Lo,e.lanes=o,e;case tu:return zi(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ja:s=10;break e;case eu:s=9;break e;case Ls:s=11;break e;case Ms:s=14;break e;case it:s=16,r=null;break e}throw Error(b(130,e==null?e:typeof e,""))}return t=Te(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function $t(e,t,n,r){return e=Te(7,e,r,t),e.lanes=n,e}function zi(e,t,n,r){return e=Te(22,e,r,t),e.elementType=tu,e.lanes=n,e.stateNode={isHidden:!1},e}function vo(e,t,n){return e=Te(6,e,null,t),e.lanes=n,e}function yo(e,t,n){return t=Te(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qp(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xi(0),this.expirationTimes=Xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ll(e,t,n,r,i,o,s,l,a){return e=new qp(e,t,n,l,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Te(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ws(o),e}function Qp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kt,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Kc(e){if(!e)return St;e=e._reactInternals;e:{if(Ut(e)!==e||e.tag!==1)throw Error(b(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(he(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(b(171))}if(e.tag===1){var n=e.type;if(he(n))return Ku(e,n,t)}return t}function Gc(e,t,n,r,i,o,s,l,a){return e=ll(n,r,!0,e,i,o,s,l,a),e.context=Kc(null),n=e.current,r=ue(),i=vt(n),o=Qe(r,i),o.callback=t??null,ht(n,o,i),e.current.lanes=i,vr(e,i,r),ge(e,r),e}function Oi(e,t,n,r){var i=t.current,o=ue(),s=vt(i);return n=Kc(n),t.context===null?t.context=n:t.pendingContext=n,t=Qe(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ht(i,t,s),e!==null&&(De(e,i,s,o),Yr(e,i,s)),s}function Mi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ta(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function al(e,t){Ta(e,t),(e=e.alternate)&&Ta(e,t)}function Xp(){return null}var Yc=typeof reportError=="function"?reportError:function(e){console.error(e)};function ul(e){this._internalRoot=e}Hi.prototype.render=ul.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(b(409));Oi(e,t,null,null)};Hi.prototype.unmount=ul.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zt(function(){Oi(null,e,null,null)}),t[Ze]=null}};function Hi(e){this._internalRoot=e}Hi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<st.length&&t!==0&&t<st[n].priority;n++);st.splice(n,0,e),n===0&&Tu(e)}};function cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pa(){}function Zp(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Mi(s);o.call(u)}}var s=Gc(t,r,e,0,null,!1,!1,"",Pa);return e._reactRootContainer=s,e[Ze]=s.current,ir(e.nodeType===8?e.parentNode:e),zt(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Mi(a);l.call(u)}}var a=ll(e,0,!1,null,null,!1,!1,"",Pa);return e._reactRootContainer=a,e[Ze]=a.current,ir(e.nodeType===8?e.parentNode:e),zt(function(){Oi(t,a,n,r)}),a}function Ui(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=Mi(s);l.call(a)}}Oi(t,s,e,i)}else s=Zp(n,t,e,i,r);return Mi(s)}Eu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Bn(t.pendingLanes);n!==0&&(_s(t,n|1),ge(t,q()),!($&6)&&(yn=q()+500,Et()))}break;case 13:zt(function(){var r=Je(e,1);if(r!==null){var i=ue();De(r,e,1,i)}}),al(e,1)}};xs=function(e){if(e.tag===13){var t=Je(e,134217728);if(t!==null){var n=ue();De(t,e,134217728,n)}al(e,134217728)}};Cu=function(e){if(e.tag===13){var t=vt(e),n=Je(e,t);if(n!==null){var r=ue();De(n,e,t,r)}al(e,t)}};Lu=function(){return D};Mu=function(e,t){var n=D;try{return D=e,t()}finally{D=n}};Io=function(e,t,n){switch(t){case"input":if(Po(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=$i(r);if(!i)throw Error(b(90));ru(r),Po(r,i)}}}break;case"textarea":ou(e,n);break;case"select":t=n.value,t!=null&&on(e,!!n.multiple,t,!1)}};fu=rl;pu=zt;var Jp={usingClientEntryPoint:!1,Events:[kr,Xt,$i,cu,du,rl]},$n={findFiberByHostInstance:Tt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},em={bundleType:$n.bundleType,version:$n.version,rendererPackageName:$n.rendererPackageName,rendererConfig:$n.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gu(e),e===null?null:e.stateNode},findFiberByHostInstance:$n.findFiberByHostInstance||Xp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vr.isDisabled&&Vr.supportsFiber)try{_i=Vr.inject(em),Ve=Vr}catch{}}be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jp;be.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cl(t))throw Error(b(200));return Qp(e,t,null,n)};be.createRoot=function(e,t){if(!cl(e))throw Error(b(299));var n=!1,r="",i=Yc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ll(e,1,!1,null,null,n,!1,r,i),e[Ze]=t.current,ir(e.nodeType===8?e.parentNode:e),new ul(t)};be.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(b(188)):(e=Object.keys(e).join(","),Error(b(268,e)));return e=gu(t),e=e===null?null:e.stateNode,e};be.flushSync=function(e){return zt(e)};be.hydrate=function(e,t,n){if(!Vi(t))throw Error(b(200));return Ui(null,e,t,!0,n)};be.hydrateRoot=function(e,t,n){if(!cl(e))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Yc;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Gc(t,null,e,1,n??null,i,!1,o,s),e[Ze]=t.current,ir(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Hi(t)};be.render=function(e,t,n){if(!Vi(t))throw Error(b(200));return Ui(null,e,t,!1,n)};be.unmountComponentAtNode=function(e){if(!Vi(e))throw Error(b(40));return e._reactRootContainer?(zt(function(){Ui(null,null,e,!1,function(){e._reactRootContainer=null,e[Ze]=null})}),!0):!1};be.unstable_batchedUpdates=rl;be.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Vi(n))throw Error(b(200));if(e==null||e._reactInternals===void 0)throw Error(b(38));return Ui(e,t,n,!1,r)};be.version="18.3.1-next-f1338f8080-20240426";function qc(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qc)}catch(e){console.error(e)}}qc(),qa.exports=be;var tm=qa.exports,ms,_a=tm;ms=_a.createRoot,_a.hydrateRoot;function ko(e){return getComputedStyle(document.documentElement).getPropertyValue(e).trim()}function nm({percent:e=0,level:t="normal"}){const n=Nt.useRef(null),r=Nt.useRef(null);return Nt.useEffect(()=>{const i=n.current,o=i==null?void 0:i.parentElement;if(!o||!i)return;r.current=o;const s=()=>{const a=window.devicePixelRatio||1,u=o.offsetWidth||120;i.width=Math.max(1,Math.floor(u*a)),i.height=Math.max(1,Math.floor(u*a));const f=i.getContext("2d");f.setTransform(1,0,0,1,0,0),f.scale(a,a);const h=u,g=u,S=h/2,v=g/2,k=u/2-8,P=Math.min(Math.max(k*.12,6),12),d=Math.max(P-2,6),c=P%2===1?k-.5:k;f.clearRect(0,0,h,g);const p=document.body.classList.contains("dark-mode");f.strokeStyle=p?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.15)",f.lineWidth=d,f.lineCap="round",f.beginPath(),f.arc(S,v,c,0,Math.PI*2),f.stroke();let y=ko("--primary-color");t==="high"&&(y=ko("--warning-color")||"#ff9800"),t==="critical"&&(y=ko("--danger-color")||"#DC143C"),p&&y.includes("#")&&(t==="high"&&(y="#ffaa00"),t==="critical"&&(y="#ff1744"));const w=-Math.PI/2,E=w+Math.PI*2*(Math.max(0,Math.min(100,e))/100);f.save(),f.strokeStyle=p?"rgba(0,0,0,0.25)":"rgba(0,0,0,0.15)",f.lineWidth=P+1,f.beginPath(),f.arc(S,v,c,w,E,!1),f.stroke(),f.restore(),f.strokeStyle=y,f.lineWidth=P,f.beginPath(),f.arc(S,v,c,w,E,!1),f.stroke()};s();const l=new ResizeObserver(s);return l.observe(o),()=>l.disconnect()},[e,t]),Ge.jsxs(Ge.Fragment,{children:[Ge.jsxs("div",{className:"probability-number",children:[Math.round(e),Ge.jsx("span",{children:"%"})]}),Ge.jsx("canvas",{ref:n,className:"probability-canvas"})]})}function rm({lvoProb:e=0,ichProb:t=0,title:n="Decision Support ‚Äì LVO/ICH"}){const r=Nt.useRef(null);return Nt.useEffect(()=>{const i=r.current;if(!i)return;const o=i.getContext("2d");let s=null,l=.5,a=0;const u=e/Math.max(t,1),f=u<.5?0:u>2?1:(u-.5)/1.5,h=Math.abs(e-t),g=Math.max(e,t);let S=h<10?Math.round(30+g*.3):h<20?Math.round(50+g*.4):Math.round(70+g*.3);S=Math.max(0,Math.min(100,S));const v=()=>{const k=window.devicePixelRatio||1,P=i.getBoundingClientRect(),d=P.width||300,c=P.height||200;i.width=Math.max(1,Math.floor(d*k)),i.height=Math.max(1,Math.floor(c*k)),o.setTransform(1,0,0,1,0,0),o.scale(k,k);const p=d,y=c,w=p/2,E=y*.9,C=Math.min(p*.52,y*.48),M=p<480;o.clearRect(0,0,p,y);const F=M?20:26,N=M?16:22,A=document.body.classList.contains("dark-mode");o.strokeStyle=A?"rgba(255,255,255,0.18)":"rgba(255,255,255,0.15)",o.lineWidth=F,o.lineCap="round",o.beginPath(),o.arc(w,E,C,Math.PI,Math.PI*2,!1),o.stroke(),[{start:Math.PI,end:Math.PI+Math.PI*.33,c1:"#ff0040",c2:"#ff3366",op:A?"dd":"99"},{start:Math.PI+Math.PI*.33,end:Math.PI+Math.PI*.67,c1:"#ff9900",c2:"#ffcc00",op:A?"bb":"88"},{start:Math.PI+Math.PI*.67,end:Math.PI*2,c1:"#00aaff",c2:"#00ddff",op:A?"dd":"99"}].forEach(U=>{const Ce=o.createLinearGradient(w+Math.cos(U.start)*C,E+Math.sin(U.start)*C,w+Math.cos(U.end)*C,E+Math.sin(U.end)*C);Ce.addColorStop(0,U.c1+U.op),Ce.addColorStop(1,U.c2+U.op),o.strokeStyle=Ce,o.lineWidth=N,o.beginPath(),o.arc(w,E,C,U.start,U.end,!1),o.stroke()});const Ct=M?[.5,1,2]:[.5,.75,1,1.5,2],br=M?12:14;Ct.forEach(U=>{const Ce=Math.min(1,Math.max(0,(U-.5)/1.5)),ve=Math.PI+Ce*Math.PI,Cn=C-15,Ln=C-28;o.strokeStyle=A?"rgba(255,255,255,0.85)":"rgba(255,255,255,0.75)",o.lineWidth=2,o.beginPath(),o.moveTo(w+Math.cos(ve)*Cn,E+Math.sin(ve)*Cn),o.lineTo(w+Math.cos(ve)*Ln,E+Math.sin(ve)*Ln),o.stroke(),o.fillStyle=A?"rgba(255,255,255,0.9)":"rgba(255,255,255,0.85)",o.font=`bold ${br}px Inter, system-ui, sans-serif`,o.textAlign="center",o.textBaseline="middle",o.fillText(U.toFixed(1),w+Math.cos(ve)*(C-40),E+Math.sin(ve)*(C-40))});const Wi=[{val:.77,label:"ICH dom."},{val:1.3,label:"LVO dom."}],bn=M?11:13;Wi.forEach(U=>{const Ce=Math.min(1,Math.max(0,(U.val-.5)/1.5)),ve=Math.PI+Ce*Math.PI,Cn=C-6,Ln=C+8;o.strokeStyle=A?"rgba(255,255,255,0.95)":"rgba(255,255,255,0.9)",o.lineWidth=2.5,o.beginPath(),o.moveTo(w+Math.cos(ve)*Cn,E+Math.sin(ve)*Cn),o.lineTo(w+Math.cos(ve)*Ln,E+Math.sin(ve)*Ln),o.stroke(),o.fillStyle=A?"rgba(255,255,255,0.95)":"rgba(255,255,255,0.9)",o.font=`600 ${bn}px Inter, system-ui, sans-serif`,o.textAlign="center",o.textBaseline="middle";const pl=M?C+20:C+24;o.fillText(U.label,w+Math.cos(ve)*pl,E+Math.sin(ve)*pl)});const En=M?14:16,L=M?C+32:C+38;o.fillStyle=A?"#ff3366":"#ff0040",o.font=`700 ${En}px Inter, system-ui, sans-serif`,o.textAlign="center",o.textBaseline="middle",A&&(o.shadowColor="rgba(0,0,0,0.5)",o.shadowBlur=2),o.fillText("ICH",w+Math.cos(Math.PI)*L,E+Math.sin(Math.PI)*L-8),o.fillStyle=A?"#33bbff":"#00d4ff",o.fillText("LVO",w+Math.cos(Math.PI*2)*L,E+Math.sin(Math.PI*2)*L-8),o.shadowBlur=0,l+=(f-l)*.08;const _=Math.PI+l*Math.PI,x=C-28,V=(1-S/100)*(Math.PI*(M?.06:.08));o.save(),o.fillStyle=A?"rgba(255,255,255,0.15)":"rgba(255,255,255,0.18)",o.beginPath(),o.moveTo(w,E),o.arc(w,E,x,_-V,_+V,!1),o.closePath(),o.fill(),o.restore();let z="#ffd700";l<.35?z="#ff0040":l>.65&&(z="#00d4ff"),o.shadowColor=z,o.shadowBlur=16,o.strokeStyle=z,o.lineWidth=4,o.lineCap="round",o.beginPath(),o.moveTo(w,E),o.lineTo(w+Math.cos(_)*x,E+Math.sin(_)*x),o.stroke(),o.shadowBlur=0,o.fillStyle=z,o.beginPath(),o.arc(w+Math.cos(_)*x,E+Math.sin(_)*x,5,0,Math.PI*2),o.fill();const nt=o.createRadialGradient(w,E,0,w,E,16);nt.addColorStop(0,"rgba(255,255,255,0.25)"),nt.addColorStop(1,"rgba(10,14,39,0.9)"),o.fillStyle=nt,o.beginPath(),o.arc(w,E,16,0,Math.PI*2),o.fill(),o.strokeStyle=z,o.lineWidth=2,o.stroke();const We=M?16:18;o.fillStyle=A?"rgba(255,255,255,0.95)":"rgba(255,255,255,0.9)",o.font=`600 ${We}px ui-monospace, SFMono-Regular, Menlo, monospace`,o.textAlign="center",A&&(o.shadowColor="rgba(0,0,0,0.6)",o.shadowBlur=2),o.fillText(u.toFixed(2),w,E-C*.72),o.shadowBlur=0,Math.abs(l-f)>.002?(a=0,s=requestAnimationFrame(v)):a<4?(a+=1,s=requestAnimationFrame(v)):(cancelAnimationFrame(s),s=null)};return v(),()=>{s&&cancelAnimationFrame(s)}},[e,t]),Ge.jsx("div",{className:"gauge-wrapper",children:Ge.jsx("canvas",{ref:r,className:"gauge-canvas"})})}function im(){document.querySelectorAll("[data-react-ring]").forEach(e=>{if(e.__mounted)return;const t=parseFloat(e.getAttribute("data-percent"))||0,n=e.getAttribute("data-level")||"normal",r=ms(e);r.render(Ge.jsx(nm,{percent:t,level:n})),e.__mounted=!0,e.__root=r}),document.querySelectorAll("[data-react-tachometer]").forEach(e=>{if(e.__mounted)return;const t=parseFloat(e.getAttribute("data-ich"))||0,n=parseFloat(e.getAttribute("data-lvo"))||0,r=e.getAttribute("data-title")||"Decision Support ‚Äì LVO/ICH",i=ms(e);i.render(Ge.jsx(rm,{ichProb:t,lvoProb:n,title:r})),e.__mounted=!0,e.__root=i})}class om{constructor(t,n={}){if(this.canvas=document.getElementById(t),!this.canvas){console.error(`Canvas element ${t} not found`);return}this.ctx=this.canvas.getContext("2d"),this.currentNeedle=.5,this.targetNeedle=.5,this.needleVelocity=0,this.options={lvoProb:0,ichProb:0,...n},this.setupCanvas(),this.startAnimation()}setupCanvas(){const t=this.canvas.getBoundingClientRect(),n=window.devicePixelRatio||1;this.width=t.width||400,this.height=t.height||400,this.canvas.width=this.width*n,this.canvas.height=this.height*n,this.ctx.scale(n,n),this.centerX=this.width/2,this.centerY=this.width/2,this.radius=this.width*.4,this.isMobile=this.width<400}drawBackground(){const t=this.ctx;t.clearRect(0,0,this.width,this.height);const n=t.createRadialGradient(this.centerX,this.centerY,0,this.centerX,this.centerY,this.radius+20);n.addColorStop(0,"rgba(15, 20, 25, 0.8)"),n.addColorStop(1,"rgba(0, 0, 0, 0.9)"),t.fillStyle=n,t.beginPath(),t.arc(this.centerX,this.centerY,this.radius+15,0,Math.PI*2),t.fill()}drawScale(){const t=this.ctx,n=-225*Math.PI/180,r=45*Math.PI/180,i=r-n;t.strokeStyle="rgba(255, 255, 255, 0.06)",t.lineWidth=this.isMobile?1:2,t.beginPath(),t.arc(this.centerX,this.centerY,this.radius,n,r),t.stroke(),[{start:0,end:.2,color:"rgba(255, 68, 68, 0.7)",label:"ICH"},{start:.2,end:.35,color:"rgba(255, 68, 68, 0.4)",label:""},{start:.35,end:.65,color:"rgba(255, 165, 0, 0.4)",label:""},{start:.65,end:.8,color:"rgba(0, 168, 255, 0.4)",label:""},{start:.8,end:1,color:"rgba(0, 168, 255, 0.7)",label:"LVO"}].forEach(S=>{const v=n+S.start*i,k=n+S.end*i;t.strokeStyle=S.color,t.lineWidth=this.isMobile?6:8,t.beginPath(),t.arc(this.centerX,this.centerY,this.radius-8,v,k),t.stroke()});const s=this.isMobile?50:100;for(let S=0;S<=s;S++){const v=S/s,k=n+v*i,P=S%(this.isMobile?10:20)===0,d=S%(this.isMobile?5:10)===0,c=this.radius-(P?12:d?8:5),p=this.radius;t.strokeStyle=P?"rgba(255, 255, 255, 0.8)":d?"rgba(255, 255, 255, 0.4)":"rgba(255, 255, 255, 0.2)",t.lineWidth=P?2:1,t.beginPath(),t.moveTo(this.centerX+Math.cos(k)*c,this.centerY+Math.sin(k)*c),t.lineTo(this.centerX+Math.cos(k)*p,this.centerY+Math.sin(k)*p),t.stroke()}const l=[{value:"0.5",pos:0},{value:"1.0",pos:.5},{value:"2.0",pos:1}];t.fillStyle="rgba(255, 255, 255, 0.8)",t.font=`600 ${this.isMobile?10:11}px Inter, -apple-system, sans-serif`,t.textAlign="center",t.textBaseline="middle",l.forEach(S=>{const v=n+S.pos*i,k=this.radius-(this.isMobile?25:30);t.fillText(S.value,this.centerX+Math.cos(v)*k,this.centerY+Math.sin(v)*k)}),t.font=`500 ${this.isMobile?9:10}px Inter, -apple-system, sans-serif`,t.fillStyle="#ff4444";const a=n+.1*i,u=this.radius-(this.isMobile?45:50);t.fillText("ICH",this.centerX+Math.cos(a)*u,this.centerY+Math.sin(a)*u),t.fillStyle="#00a8ff";const f=n+.9*i,h=this.radius-(this.isMobile?45:50);t.fillText("LVO",this.centerX+Math.cos(f)*h,this.centerY+Math.sin(f)*h);const g=[{ratio:.77,label:"ICH dom",pos:this.ratioToPosition(.77)},{ratio:1.3,label:"LVO dom",pos:this.ratioToPosition(1.3)}];t.font=`500 ${this.isMobile?8:9}px Inter, -apple-system, sans-serif`,g.forEach(S=>{const v=n+S.pos*i,k=this.radius-2,P=this.radius+(this.isMobile?8:10);if(t.strokeStyle="rgba(255, 255, 255, 0.9)",t.lineWidth=2,t.beginPath(),t.moveTo(this.centerX+Math.cos(v)*k,this.centerY+Math.sin(v)*k),t.lineTo(this.centerX+Math.cos(v)*P,this.centerY+Math.sin(v)*P),t.stroke(),!this.isMobile){t.fillStyle="rgba(255, 255, 255, 0.8)";const d=this.radius+20;t.fillText(S.label,this.centerX+Math.cos(v)*d,this.centerY+Math.sin(v)*d)}})}drawNeedle(){const t=this.ctx,n=.08,r=.7,i=(this.targetNeedle-this.currentNeedle)*n;this.needleVelocity+=i,this.needleVelocity*=r,this.currentNeedle+=this.needleVelocity;const a=(-225+this.currentNeedle*270)*Math.PI/180,u=this.radius-(this.isMobile?15:20);let f;this.currentNeedle<.35?f="#ff4444":this.currentNeedle>.65?f="#00a8ff":f="#ffa500",t.save(),t.shadowColor="rgba(0, 0, 0, 0.4)",t.shadowBlur=this.isMobile?6:8,t.shadowOffsetY=1,t.strokeStyle=f,t.lineWidth=this.isMobile?2.5:3,t.lineCap="round",t.beginPath(),t.moveTo(this.centerX-Math.cos(a)*15,this.centerY-Math.sin(a)*15),t.lineTo(this.centerX+Math.cos(a)*u,this.centerY+Math.sin(a)*u),t.stroke(),t.fillStyle=f,t.beginPath(),t.arc(this.centerX+Math.cos(a)*u,this.centerY+Math.sin(a)*u,this.isMobile?2.5:3,0,Math.PI*2),t.fill(),t.restore();const h=this.isMobile?10:12,g=t.createRadialGradient(this.centerX,this.centerY,0,this.centerX,this.centerY,h);g.addColorStop(0,"#444"),g.addColorStop(.8,"#222"),g.addColorStop(1,"#111"),t.fillStyle=g,t.beginPath(),t.arc(this.centerX,this.centerY,h,0,Math.PI*2),t.fill(),t.strokeStyle="rgba(255, 255, 255, 0.1)",t.lineWidth=1,t.stroke(),t.fillStyle=f,t.beginPath(),t.arc(this.centerX,this.centerY,this.isMobile?2:3,0,Math.PI*2),t.fill()}ratioToPosition(t){return t<=.5?0:t>=2?1:(t-.5)/1.5}updateValues(t,n){this.options.lvoProb=t,this.options.ichProb=n;const r=t/Math.max(n,1);this.targetNeedle=this.ratioToPosition(r)}startAnimation(){const t=()=>{this.drawBackground(),this.drawScale(),this.drawNeedle(),this.animationId=requestAnimationFrame(t)};t()}destroy(){this.animationId&&cancelAnimationFrame(this.animationId)}resize(){this.setupCanvas()}}class wr{static calculateProbability(t,n){if(!t||!n||t<=0||n<=0)return{probability:0,confidence:0,isValid:!1,reason:"Invalid inputs: age and GFAP required"};if(t<18||t>120)return{probability:0,confidence:0,isValid:!1,reason:`Age ${t} outside valid range (18-120 years)`};(n<10||n>2e4)&&console.warn(`GFAP ${n} outside typical range (10-20000 pg/ml)`);try{const r=(t-this.PARAMS.age.mean)/this.PARAMS.age.std,i=(n-this.PARAMS.gfap.mean)/this.PARAMS.gfap.std,o=this.PARAMS.coefficients.intercept+this.PARAMS.coefficients.age*r+this.PARAMS.coefficients.gfap*i,s=1/(1+Math.exp(-o)),l=s*100,a=Math.abs(s-.5)*2,u=this.getRiskCategory(l);return{probability:Math.round(l*10)/10,confidence:Math.round(a*100)/100,logit:Math.round(o*1e3)/1e3,riskCategory:u,scaledInputs:{age:Math.round(r*1e3)/1e3,gfap:Math.round(i*1e3)/1e3},rawInputs:{age:t,gfap:n},isValid:!0,calculationMethod:"logistic_regression_age_gfap"}}catch(r){return console.error("Legacy model calculation error:",r),{probability:0,confidence:0,isValid:!1,reason:"Calculation error",error:r.message}}}static getRiskCategory(t){return t<10?{level:"very_low",color:"#10b981",label:"Very Low Risk",description:"Minimal ICH likelihood"}:t<25?{level:"low",color:"#84cc16",label:"Low Risk",description:"Below typical threshold"}:t<50?{level:"moderate",color:"#f59e0b",label:"Moderate Risk",description:"Elevated concern"}:t<75?{level:"high",color:"#f97316",label:"High Risk",description:"Significant likelihood"}:{level:"very_high",color:"#dc2626",label:"Very High Risk",description:"Critical ICH probability"}}static compareModels(t,n){if(!t||!n||!n.isValid)return{isValid:!1,reason:"Invalid model results for comparison"};let r=t.probability||0;r<=1&&(r=r*100);const i=n.probability||0,o=r-i,s=i>0?o/i*100:0,l=r>i?"main":i>r?"legacy":"equal";let a;const u=Math.abs(o);return u<5?a="strong":u<15?a="moderate":u<30?a="weak":a="poor",{isValid:!0,probabilities:{main:Math.round(r*10)/10,legacy:Math.round(i*10)/10},differences:{absolute:Math.round(o*10)/10,relative:Math.round(s*10)/10},agreement:{level:a,higherRiskModel:l},interpretation:this.getComparisonInterpretation(o,a)}}static getComparisonInterpretation(t,n){const r=Math.abs(t);return n==="strong"?{type:"concordant",message:"Models show strong agreement",implication:"Age and GFAP are primary risk factors"}:r>20?{type:"divergent",message:"Significant model disagreement",implication:"Complex model captures additional risk factors not in age/GFAP"}:{type:"moderate_difference",message:"Models show moderate difference",implication:"Additional factors provide incremental predictive value"}}static runValidationTests(){const n=[{age:65,gfap:100,expected:"low",description:"Younger patient, low GFAP"},{age:75,gfap:500,expected:"moderate",description:"Average age, moderate GFAP"},{age:85,gfap:1e3,expected:"high",description:"Older patient, high GFAP"},{age:70,gfap:2e3,expected:"very_high",description:"High GFAP dominates"},{age:90,gfap:50,expected:"very_low",description:"Low GFAP despite age"}].map(o=>{const s=this.calculateProbability(o.age,o.gfap);return{...o,result:s,passed:s.isValid&&s.riskCategory.level===o.expected}}),r=n.filter(o=>o.passed).length,i=n.length;return{summary:{passed:r,total:i,passRate:Math.round(r/i*100)},details:n}}static getModelMetadata(){return{name:"Legacy ICH Model",type:"Logistic Regression",version:"1.0.0",features:["age","gfap"],performance:{rocAuc:.789,recall:.4,precision:.86,f1Score:.55,specificity:.94},trainingData:{samples:"Historical cohort",dateRange:"Research study period",validation:"Cross-validation"},limitations:["Only uses age and GFAP - ignores clinical symptoms","Lower recall (40%) - misses some ICH cases","No time-to-onset consideration","No blood pressure or medication factors","Simplified feature set for baseline comparison"],purpose:"Research baseline for evaluating complex model improvements"}}}Cr(wr,"PARAMS",{age:{mean:74.59,std:12.75},gfap:{mean:665.23,std:2203.77},coefficients:{intercept:.3248,age:-.2108,gfap:3.1631}});function sm(e){try{const t=(e==null?void 0:e.age_years)||(e==null?void 0:e.age)||null,n=(e==null?void 0:e.gfap_value)||(e==null?void 0:e.gfap)||null;return!t||!n?null:wr.calculateProbability(t,n)}catch(t){return console.warn("Legacy ICH calculation failed (non-critical):",t),null}}class dn{static logComparison(t){try{const n={id:this.generateEntryId(),timestamp:new Date().toISOString(),sessionId:this.getSessionId(),...t},r=this.getStoredData();return r.entries.push(n),r.entries.length>this.MAX_ENTRIES&&(r.entries=r.entries.slice(-this.MAX_ENTRIES)),r.lastUpdated=new Date().toISOString(),r.totalComparisons=r.entries.length,localStorage.setItem(this.STORAGE_KEY,JSON.stringify(r)),console.log(`üìä Research data logged (${r.totalComparisons} comparisons)`),!0}catch(n){return console.warn("Research data logging failed (non-critical):",n),!1}}static getStoredData(){try{const t=localStorage.getItem(this.STORAGE_KEY);if(!t)return this.createEmptyDataset();const n=JSON.parse(t);return!n.entries||!Array.isArray(n.entries)?(console.warn("Invalid research data structure, resetting"),this.createEmptyDataset()):n}catch(t){return console.warn("Failed to load research data, creating new:",t),this.createEmptyDataset()}}static createEmptyDataset(){return{version:"1.0.0",created:new Date().toISOString(),lastUpdated:null,totalComparisons:0,entries:[],metadata:{app:"iGFAP Stroke Triage",purpose:"Model comparison research",dataRetention:"Local storage only"}}}static exportAsCSV(){const t=this.getStoredData();if(!t.entries||t.entries.length===0)return"No research data available for export";const n=["timestamp","session_id","age","gfap_value","main_model_probability","main_model_module","legacy_model_probability","legacy_model_confidence","absolute_difference","relative_difference","agreement_level","higher_risk_model"],r=t.entries.map(o=>{var s,l,a,u,f,h,g,S,v,k,P,d,c,p;return[o.timestamp,o.sessionId,((s=o.inputs)==null?void 0:s.age)||"",((l=o.inputs)==null?void 0:l.gfap)||"",((a=o.main)==null?void 0:a.probability)||"",((u=o.main)==null?void 0:u.module)||"",((f=o.legacy)==null?void 0:f.probability)||"",((h=o.legacy)==null?void 0:h.confidence)||"",((S=(g=o.comparison)==null?void 0:g.differences)==null?void 0:S.absolute)||"",((k=(v=o.comparison)==null?void 0:v.differences)==null?void 0:k.relative)||"",((d=(P=o.comparison)==null?void 0:P.agreement)==null?void 0:d.level)||"",((p=(c=o.comparison)==null?void 0:c.agreement)==null?void 0:p.higherRiskModel)||""].join(",")});return[n.join(","),...r].join(`
`)}static exportAsJSON(){const t=this.getStoredData();return JSON.stringify(t,null,2)}static downloadData(t="csv"){try{const n=t==="csv"?this.exportAsCSV():this.exportAsJSON(),r=`igfap-research-${Date.now()}.${t}`,i=new Blob([n],{type:t==="csv"?"text/csv":"application/json"}),o=URL.createObjectURL(i),s=document.createElement("a");return s.href=o,s.download=r,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(o),console.log(`üì• Downloaded research data: ${r}`),!0}catch(n){return console.error("Failed to download research data:",n),!1}}static clearData(){try{return localStorage.removeItem(this.STORAGE_KEY),console.log("üóëÔ∏è Research data cleared"),!0}catch(t){return console.warn("Failed to clear research data:",t),!1}}static getDataSummary(){var o,s;const t=this.getStoredData();if(!t.entries||t.entries.length===0)return{totalEntries:0,dateRange:null,avgDifference:null};const n=t.entries,r=n.map(l=>{var a,u;return(u=(a=l.comparison)==null?void 0:a.differences)==null?void 0:u.absolute}).filter(l=>l!=null),i=r.length>0?r.reduce((l,a)=>l+Math.abs(a),0)/r.length:0;return{totalEntries:n.length,dateRange:{first:(o=n[0])==null?void 0:o.timestamp,last:(s=n[n.length-1])==null?void 0:s.timestamp},avgAbsoluteDifference:Math.round(i*10)/10,storageSize:JSON.stringify(t).length}}static generateEntryId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}static getSessionId(){let t=sessionStorage.getItem("research_session_id");return t||(t="session_"+Date.now().toString(36),sessionStorage.setItem("research_session_id",t)),t}}Cr(dn,"STORAGE_KEY","igfap_research_data"),Cr(dn,"MAX_ENTRIES",1e3);function lm(e,t,n){try{if(!Ot())return;const r={inputs:{age:n.age_years||n.age,gfap:n.gfap_value||n.gfap,module:e.module||"unknown"},main:{probability:e.probability,module:e.module,confidence:e.confidence},legacy:t,comparison:t?wr.compareModels(e,t):null};dn.logComparison(r)}catch(r){console.warn("Research logging failed (non-critical):",r)}}function Ot(e=null){var t;if(e==="coma")return!1;if(e==="limited"||e==="full")return!0;if(typeof window<"u")try{const n=window.store||((t=require("../state/store.js"))==null?void 0:t.store);if(n){const r=n.getState().formData;return r.limited||r.full}}catch{}return!1}function Qc(){return""}function Xc(e,t,n){if(!(t!=null&&t.isValid))return console.log("üî¨ Legacy model results invalid:",t),`
      <div class="research-panel" id="researchPanel" style="display: none;">
        <div class="research-header">
          <h4>üî¨ Model Comparison (Research)</h4>
          <button class="close-research" id="closeResearch">√ó</button>
        </div>
        <div class="research-error">
          <p>‚ö†Ô∏è Legacy model calculation failed</p>
          <small>Debug: ${(t==null?void 0:t.reason)||"Unknown error"}</small>
        </div>
      </div>
    `;const r=wr.compareModels(e,t);return`
    <div class="research-panel" id="researchPanel" style="display: none;">
      <div class="research-header">
        <h4>üî¨ Model Comparison (Research)</h4>
        <button class="close-research" id="closeResearch">√ó</button>
      </div>
      
      <div class="model-comparison">
        ${am(e,t)}
        ${um(r)}
        ${cm(t,n)}
        ${dm()}
      </div>
      
      <div class="research-actions">
        <button id="exportResearchData" class="research-btn">üì• Export Data</button>
        <button id="toggleCalculationDetails" class="research-btn">üßÆ Details</button>
        <button id="clearResearchData" class="research-btn danger">üóëÔ∏è Clear</button>
      </div>
      
      <div class="research-disclaimer">
        <small>
          ‚ö†Ô∏è <strong>Research Mode Active</strong><br>
          Legacy model: Age + GFAP only (ROC-AUC: 0.789, Recall: 40%)<br>
          For baseline comparison. Main model includes additional clinical factors.
        </small>
      </div>
    </div>
  `}function am(e,t){let n=e.probability||0;n<=1&&(n=n*100);const r=t.probability||0;return`
    <div class="probability-comparison">
      <div class="bar-group">
        <label class="bar-label">Main Model (Complex) - ${e.module||"Unknown"}</label>
        <div class="probability-bar">
          <div class="bar-fill main-model" style="width: ${Math.min(n,100)}%">
            <span class="bar-value">${n.toFixed(1)}%</span>
          </div>
        </div>
      </div>
      
      <div class="bar-group">
        <label class="bar-label">Legacy Model (Age + GFAP Only)</label>
        <div class="probability-bar">
          <div class="bar-fill legacy-model" style="width: ${Math.min(r,100)}%">
            <span class="bar-value">${r.toFixed(1)}%</span>
          </div>
        </div>
      </div>
    </div>
  `}function um(e){if(!e.isValid)return'<div class="comparison-error">Unable to compare models</div>';const{differences:t,agreement:n}=e;return`
    <div class="difference-analysis">
      <div class="difference-metric">
        <span class="metric-label">Difference:</span>
        <span class="metric-value ${t.absolute>0?"higher":"lower"}">
          ${t.absolute>0?"+":""}${t.absolute}%
        </span>
      </div>
      
      <div class="agreement-level">
        <span class="metric-label">Agreement:</span>
        <span class="agreement-badge ${n.level}">
          ${n.level.charAt(0).toUpperCase()+n.level.slice(1)}
        </span>
      </div>
      
      <div class="interpretation">
        <p class="interpretation-text">${e.interpretation.message}</p>
        <small class="interpretation-detail">${e.interpretation.implication}</small>
      </div>
    </div>
  `}function cm(e,t){return`
    <div class="calculation-details" id="calculationDetails" style="display: none;">
      <h5>Legacy Model Calculation</h5>
      <div class="calculation-steps">
        <div class="step">
          <strong>Inputs:</strong> Age ${t.age}, GFAP ${t.gfap} pg/ml
        </div>
        <div class="step">
          <strong>Scaling:</strong> Age ‚Üí ${e.scaledInputs.age}, GFAP ‚Üí ${e.scaledInputs.gfap}
        </div>
        <div class="step">
          <strong>Logit:</strong> ${e.logit}
        </div>
        <div class="step">
          <strong>Probability:</strong> ${e.probability}% (Confidence: ${(e.confidence*100).toFixed(0)}%)
        </div>
      </div>
    </div>
  `}function dm(){const e=wr.getModelMetadata();return`
    <div class="model-metrics">
      <h5>Performance Comparison</h5>
      <div class="metrics-grid">
        <div class="metric-item">
          <span class="metric-name">ROC-AUC</span>
          <span class="metric-value">Legacy: ${e.performance.rocAuc}</span>
        </div>
        <div class="metric-item">
          <span class="metric-name">Recall</span>
          <span class="metric-value">Legacy: ${(e.performance.recall*100).toFixed(0)}%</span>
        </div>
        <div class="metric-item">
          <span class="metric-name">Precision</span>
          <span class="metric-value">Legacy: ${(e.performance.precision*100).toFixed(0)}%</span>
        </div>
      </div>
    </div>
  `}function fm(){if(!document.getElementById("researchPanel"))return;const t=document.getElementById("closeResearch");t&&t.addEventListener("click",()=>{const o=document.getElementById("researchPanel");o&&(o.style.display="none")});const n=document.getElementById("exportResearchData");n&&n.addEventListener("click",()=>{dn.downloadData("csv")});const r=document.getElementById("toggleCalculationDetails");r&&r.addEventListener("click",()=>{const o=document.getElementById("calculationDetails");o&&(o.style.display=o.style.display==="none"?"block":"none",r.textContent=o.style.display==="none"?"üßÆ Details":"üßÆ Hide")});const i=document.getElementById("clearResearchData");i&&i.addEventListener("click",()=>{if(confirm("Clear all research data? This cannot be undone.")){dn.clearData();const o=dn.getDataSummary();console.log(`Data cleared. Total entries: ${o.totalEntries}`)}}),console.log("üî¨ Research mode initialized")}function Zc(){const t=I.getState().formData;if(!t||Object.keys(t).length===0)return"";let n="";return Object.entries(t).forEach(([r,i])=>{if(i&&Object.keys(i).length>0){const o=m(`${r}ModuleTitle`)||r.charAt(0).toUpperCase()+r.slice(1);let s="";Object.entries(i).forEach(([l,a])=>{if(a===""||a===null||a===void 0)return;let u=md(l),f=hd(a,l);s+=`
          <div class="summary-item">
            <span class="summary-label">${u}:</span>
            <span class="summary-value">${f}</span>
          </div>
        `}),s&&(n+=`
          <div class="summary-module">
            <h4>${o}</h4>
            <div class="summary-items">
              ${s}
            </div>
          </div>
        `)}}),n?`
    <div class="input-summary">
      <h3>üìã ${m("inputSummaryTitle")}</h3>
      <p class="summary-subtitle">${m("inputSummarySubtitle")}</p>
      <div class="summary-content">
        ${n}
      </div>
    </div>
  `:""}function hs(e,t,n){if(!t)return"";const r=Math.round((t.probability||0)*100),i=bd(r,e),o=r>70,s=r>Aa[e].high,l={ich:"ü©∏",lvo:"üß†"},a={ich:m("ichProbability"),lvo:m("lvoProbability")},u={ich:"ICH",lvo:xt.getCurrentLanguage()==="de"?"Gro√ügef√§√üverschluss":"Large Vessel Occlusion"},f=o?"critical":s?"high":"normal";return`
    <div class="enhanced-risk-card ${e} ${f}">
      <div class="risk-header">
        <div class="risk-icon">${l[e]}</div>
        <div class="risk-title">
          <h3>${a[e]}</h3>
          <span class="risk-subtitle">${u[e]}</span>
          <span class="risk-module">${t.module} Module</span>
        </div>
      </div>
      
      <div class="risk-probability">
        <div class="circles-container">
          <div class="rings-row">
            <div class="circle-item">
              <div data-react-ring data-percent="${r}" data-level="${f}"></div>
              <div class="circle-label">${e==="ich"?"ICH Risk":"LVO Risk"}</div>
            </div>
          </div>
          <div class="risk-level ${f}">${i}</div>
        </div>
        
        <div class="risk-assessment">
          ${e==="ich"&&r>=50&&pr()>0?`
            <div class="mortality-assessment">
              ${m("predictedMortality")}: ${gs(pr()).mortalityRate}
            </div>
          `:""}
        </div>
      </div>
    </div>
  `}function pm(e){const t=e.gfap_value||pr();if(!t||t<=0)return"";const n=gs(t);return`
    <div class="volume-display-container">
      ${Md(n.volume)}
    </div>
  `}function pr(){var n;const t=I.getState().formData;for(const r of["coma","limited","full"])if((n=t[r])!=null&&n.gfap_value)return parseFloat(t[r].gfap_value);return 0}function mm(){return`
    <div class="enhanced-risk-card lvo not-possible">
      <div class="risk-header">
        <div class="risk-icon">üîç</div>
        <div class="risk-title">
          <h3>${m("lvoProbability")}</h3>
          <span class="risk-module">${m("limitedAssessment")}</span>
        </div>
      </div>
      
      <div class="not-possible-content">
        <p>${m("lvoNotPossible")}</p>
        <p>${m("fullExamRequired")}</p>
      </div>
    </div>
  `}function hm(e,t){const{ich:n,lvo:r}=e,i=Sm(n),o=i!=="coma"?ym():null;console.log("üî¨ Research Debug - Always Active:",{module:i,researchEnabled:Ot(i),mainResults:n,legacyResults:o,patientInputs:mr(),legacyCalculationAttempted:i!=="coma"}),o&&Ot(i)&&lm(n,o,mr());const s=(n==null?void 0:n.module)==="Limited"||(n==null?void 0:n.module)==="Coma"||(r==null?void 0:r.notPossible)===!0;n==null||n.module;let l;return s?l=gm(n,e,t,o,i):l=vm(n,r,e,t,o,i),setTimeout(()=>{Td(),im(),Em()},100),l}function gm(e,t,n,r,i){const o=e&&e.probability>.6?Ia():"",s=Fa(),l=Zc(),a=Ot(i)?Qc():"",u=r&&Ot(i)?Xc(e,r,mr()):"",f=(e==null?void 0:e.module)==="Coma"?km(e.probability):"",h=(e==null?void 0:e.module)!=="Coma"?td(e.probability):"";return`
    <div class="container">
      ${Ht(3)}
      <h2>${m("bleedingRiskAssessment")||"Blutungsrisiko-Bewertung / Bleeding Risk Assessment"}</h2>
      ${o}
      
      <!-- Single ICH Risk Card -->
      <div class="risk-results-single">
        ${hs("ich",e)}
      </div>
      
      <!-- Alternative Diagnoses for Coma Module -->
      ${f}
      
      <!-- Differential Diagnoses for Stroke Modules -->
      ${h}
      
      <!-- Research Model Comparison (hidden unless research mode) -->
      ${u}
      
      <!-- ICH Drivers Only (not shown for Coma module) -->
      ${(e==null?void 0:e.module)!=="Coma"?`
        <div class="enhanced-drivers-section">
          <h3>${m("riskFactorsTitle")||"Hauptrisikofaktoren / Main Risk Factors"}</h3>
          ${Jc(e)}
        </div>
      `:""}
      
      <!-- Collapsible Additional Information -->
      <div class="additional-info-section">
        <button class="info-toggle" data-target="input-summary">
          <span class="toggle-icon">üìã</span>
          <span class="toggle-text">${m("inputSummaryTitle")}</span>
          <span class="toggle-arrow">‚ñº</span>
        </button>
        <div class="collapsible-content" id="input-summary" style="display: none;">
          ${l}
        </div>
        
        <button class="info-toggle" data-target="stroke-centers">
          <span class="toggle-icon">üè•</span>
          <span class="toggle-text">${m("nearestCentersTitle")}</span>
          <span class="toggle-arrow">‚ñº</span>
        </button>
        <div class="collapsible-content" id="stroke-centers" style="display: none;">
          ${s}
        </div>
      </div>
      
      <div class="results-actions">
        <div class="primary-actions">
          <button type="button" class="primary" id="printResults"> üìÑ ${m("printResults")} </button>
          <button type="button" class="secondary" data-action="reset"> ${m("newAssessment")} </button>
        </div>
        <div class="navigation-actions">
          <button type="button" class="tertiary" data-action="goBack"> ‚Üê ${m("goBack")} </button>
          <button type="button" class="tertiary" data-action="goHome"> üè† ${m("goHome")} </button>
        </div>
      </div>
      
      <div class="disclaimer">
        <strong>‚ö†Ô∏è ${m("importantNote")}:</strong> ${m("importantText")} Results generated at ${new Date().toLocaleTimeString()}.
      </div>
      
      ${ed(e)}
      ${a}
    </div>
  `}function vm(e,t,n,r,i,o){var M,F,N,A;const s=Math.round(((e==null?void 0:e.probability)||0)*100),l=Math.round(((t==null?void 0:t.probability)||0)*100),a=e&&e.probability>.6?Ia():"",u=Fa(),f=Zc(),h=Ot(o)?Qc():"",g=i&&Ot(o)?Xc(e,i,mr()):"",S=I.getState(),v=parseInt((F=(M=S.formData)==null?void 0:M.full)==null?void 0:F.fast_ed_score)||0;console.log("üîç Debug LVO Display:"),console.log("  Current Module:",o),console.log("  FAST-ED Score:",v),console.log("  FAST-ED Raw:",(A=(N=S.formData)==null?void 0:N.full)==null?void 0:A.fast_ed_score),console.log("  LVO Data:",t),console.log("  LVO notPossible:",t==null?void 0:t.notPossible),console.log("  LVO Probability:",t==null?void 0:t.probability),console.log("  ICH Module:",e==null?void 0:e.module);const k=o==="full"||(e==null?void 0:e.module)==="Full",P=t&&typeof t.probability=="number"&&!t.notPossible,d=k&&v>3&&P;console.log("  Conditions: isFullModule:",k),console.log("  Conditions: fastEdScore > 3:",v>3),console.log("  Conditions: hasValidLVO:",P),console.log("  Show LVO Card:",d);const c=s>=50,p=k&&s>=30&&l>=30;console.log("üéØ Tachometer conditions: isFullModule:",k,"ichPercent:",s,"lvoPercent:",l,"showTachometer:",p);let y=1;const w=k&&!d;(d||w)&&y++,c&&y++;const E=y===1?"risk-results-single":y===2?"risk-results-dual":"risk-results-triple",C=td(e.probability);return`
    <div class="container">
      ${Ht(3)}
      <h2>${m("resultsTitle")}</h2>
      ${a}
      
      <!-- Risk Assessment Display -->
      <div class="${E}">
        ${hs("ich",e)}
        ${d?hs("lvo",t):w?mm():""}
        ${c?wm(e):""}
      </div>
      
      <!-- Treatment Decision Gauge (when high risk) -->
      ${p?bm(s,l):""}
      
      <!-- Differential Diagnoses for Stroke Modules -->
      ${C}
      
      <!-- Research Model Comparison (hidden unless research mode) -->
      ${g}
      
      <!-- Risk Factor Drivers -->
      <div class="enhanced-drivers-section">
        <h3>${m("riskFactorsTitle")||"Risikofaktoren / Risk Factors"}</h3>
        ${d?gd(e,t):Jc(e)}
      </div>
      
      <!-- Collapsible Additional Information -->
      <div class="additional-info-section">
        <button class="info-toggle" data-target="input-summary">
          <span class="toggle-icon">üìã</span>
          <span class="toggle-text">${m("inputSummaryTitle")}</span>
          <span class="toggle-arrow">‚ñº</span>
        </button>
        <div class="collapsible-content" id="input-summary" style="display: none;">
          ${f}
        </div>
        
        <button class="info-toggle" data-target="stroke-centers">
          <span class="toggle-icon">üè•</span>
          <span class="toggle-text">${m("nearestCentersTitle")}</span>
          <span class="toggle-arrow">‚ñº</span>
        </button>
        <div class="collapsible-content" id="stroke-centers" style="display: none;">
          ${u}
        </div>
      </div>
      
      <div class="results-actions">
        <div class="primary-actions">
          <button type="button" class="primary" id="printResults"> üìÑ ${m("printResults")} </button>
          <button type="button" class="secondary" data-action="reset"> ${m("newAssessment")} </button>
        </div>
        <div class="navigation-actions">
          <button type="button" class="tertiary" data-action="goBack"> ‚Üê ${m("goBack")} </button>
          <button type="button" class="tertiary" data-action="goHome"> üè† ${m("goHome")} </button>
        </div>
      </div>
      
      <div class="disclaimer">
        <strong>‚ö†Ô∏è ${m("importantNote")}:</strong> ${m("importantText")} Results generated at ${new Date().toLocaleTimeString()}.
      </div>
      
      ${ed(e)}
      ${h}
    </div>
  `}function Jc(e){if(!e||!e.drivers)return'<p class="no-drivers">No driver data available</p>';const t=e.drivers;if(!t.positive&&!t.negative)return'<p class="no-drivers">Driver format error</p>';const n=t.positive||[],r=t.negative||[];return`
    <div class="drivers-split-view">
      <div class="drivers-column positive-column">
        <div class="column-header">
          <span class="column-icon">‚¨Ü</span>
          <span class="column-title">${m("increasingRisk")||"Risikoerh√∂hend / Increasing Risk"}</span>
        </div>
        <div class="compact-drivers">
          ${n.length>0?n.slice(0,5).map(i=>xa(i,"positive")).join(""):`<p class="no-factors">${m("noFactors")||"Keine Faktoren / No factors"}</p>`}
        </div>
      </div>
      
      <div class="drivers-column negative-column">
        <div class="column-header">
          <span class="column-icon">‚¨á</span>
          <span class="column-title">${m("decreasingRisk")||"Risikomindernd / Decreasing Risk"}</span>
        </div>
        <div class="compact-drivers">
          ${r.length>0?r.slice(0,5).map(i=>xa(i,"negative")).join(""):`<p class="no-factors">${m("noFactors")||"Keine Faktoren / No factors"}</p>`}
        </div>
      </div>
    </div>
  `}function xa(e,t){const n=Math.abs(e.weight*100),r=Math.min(n*2,100);return`
    <div class="compact-driver-item">
      <div class="compact-driver-label">${ti(e.label)}</div>
      <div class="compact-driver-bar ${t}" style="width: ${r}%;">
        <span class="compact-driver-value">${n.toFixed(1)}%</span>
      </div>
    </div>
  `}function ed(e){if(!e||!e.probability||Math.round((e.probability||0)*100)<50)return"";const n=pr();return!n||n<=0?"":`
    <div class="bibliography-section">
      <h4>${m("references")}</h4>
      <div class="citations">
        <div class="citation">
          <span class="citation-number">¬π</span>
          <span class="citation-text">Broderick et al. (1993). Volume of intracerebral hemorrhage. A powerful and easy-to-use predictor of 30-day mortality. Stroke, 24(7), 987-993.</span>
        </div>
        <div class="citation">
          <span class="citation-number">¬≤</span>
          <span class="citation-text">Krishnan et al. (2013). Hematoma expansion in intracerebral hemorrhage: Predictors and outcomes. Neurology, 81(19), 1660-1666.</span>
        </div>
        <div class="citation">
          <span class="citation-number">¬≥</span>
          <span class="citation-text">Putra et al. (2020). Functional outcomes and mortality in patients with intracerebral hemorrhage. Critical Care Medicine, 48(3), 347-354.</span>
        </div>
        <div class="citation">
          <span class="citation-number">‚Å¥</span>
          <span class="citation-text">Tangella et al. (2020). Early prediction of mortality in intracerebral hemorrhage using clinical markers. Journal of Neurocritical Care, 13(2), 89-97.</span>
        </div>
      </div>
    </div>
  `}function ym(e){try{const t=mr();if(console.log("üîç Legacy calculation inputs:",t),!t.age||!t.gfap)return console.warn("üîç Missing required inputs for legacy model:",{age:t.age,gfap:t.gfap}),null;const n=sm(t);return console.log("üîç Legacy calculation result:",n),n}catch(t){return console.warn("Legacy model calculation failed (non-critical):",t),null}}function mr(){const t=I.getState().formData;console.log("üîç Debug formData structure:",t);let n=null,r=null;for(const o of["coma","limited","full"])t[o]&&(console.log(`üîç ${o} module data:`,t[o]),n=n||t[o].age_years,r=r||t[o].gfap_value);const i={age:parseInt(n)||null,gfap:parseFloat(r)||null};return console.log("üîç Extracted patient inputs:",i),i}function td(e){return Math.round(e*100)>25?`
      <div class="alternative-diagnosis-card">
        <div class="diagnosis-header">
          <span class="lightning-icon">‚ö°</span>
          <h3>${m("differentialDiagnoses")}</h3>
        </div>
        <div class="diagnosis-content">
          <!-- Time Window Confirmation - Clinical Action -->
          <h4 class="clinical-action-heading">${m("reconfirmTimeWindow")}</h4>
          
          <!-- Actual Differential Diagnoses -->
          <ul class="diagnosis-list">
            <li>${m("unclearTimeWindow")}</li>
            <li>${m("rareDiagnoses")}</li>
          </ul>
        </div>
      </div>
    `:""}function km(e){const t=Math.round(e*100),n=xt.getCurrentLanguage()==="de";return t>25?`
      <div class="alternative-diagnosis-card">
        <div class="diagnosis-header">
          <span class="lightning-icon">‚ö°</span>
          <h3>${n?"Differentialdiagnosen":"Differential Diagnoses"}</h3>
        </div>
        <div class="diagnosis-content">
          <ul class="diagnosis-list">
            <li>
              ${n?"Alternative Diagnosen sind SAB, SDH, EDH (Subarachnoidalblutung, Subduralh√§matom, Epiduralh√§matom)":"Alternative diagnoses include SAH, SDH, EDH (Subarachnoid Hemorrhage, Subdural Hematoma, Epidural Hematoma)"}
            </li>
            <li>
              ${n?"Bei unklarem Zeitfenster seit Symptombeginn oder im erweiterten Zeitfenster kommen auch ein demarkierter Infarkt oder hypoxischer Hirnschaden in Frage":"In cases of unclear time window since symptom onset or extended time window, demarcated infarction or hypoxic brain injury should also be considered"}
            </li>
          </ul>
        </div>
      </div>
    `:`
      <div class="alternative-diagnosis-card">
        <div class="diagnosis-header">
          <span class="lightning-icon">‚ö°</span>
          <h3>${n?"Differentialdiagnosen":"Differential Diagnoses"}</h3>
        </div>
        <div class="diagnosis-content">
          <ul class="diagnosis-list">
            <li>
              ${n?"Alternative Diagnose von Vigilanzminderung wahrscheinlich":"Alternative diagnosis for reduced consciousness likely"}
            </li>
            <li>
              ${n?"Ein Verschluss der Arteria Basilaris ist nicht ausgeschlossen":"Basilar artery occlusion cannot be excluded"}
            </li>
          </ul>
        </div>
      </div>
    `}function Sm(e){if(!(e!=null&&e.module))return"unknown";const t=e.module.toLowerCase();return t.includes("coma")?"coma":t.includes("limited")?"limited":t.includes("full")?"full":"unknown"}function wm(e){const t=pr();if(!t||t<=0)return"";const n=gs(t);return Math.round(((e==null?void 0:e.probability)||0)*100),`
    <div class="enhanced-risk-card volume-card normal">
      <div class="risk-header">
        <div class="risk-icon">üßÆ</div>
        <div class="risk-title">
          <h3>${m("ichVolumeLabel")}</h3>
          <span class="risk-subtitle">${n.displayVolume}</span>
          <span class="risk-module">Volume Calc</span>
        </div>
      </div>
      
      <div class="risk-probability">
        <div class="circles-container">
          <div class="rings-row">
            <div class="circle-item">
              ${pm(e)}
              <div class="circle-label">${m("ichVolumeLabel")}</div>
            </div>
          </div>
        </div>
        
        <div class="risk-assessment">
          <div class="mortality-assessment">
            ${m("predictedMortality")}: ${n.mortalityRate}
          </div>
        </div>
      </div>
    </div>
  `}function bm(e,t){const n=t/Math.max(e,1);let r;return t>40&&e>40?r={center:"COMPREHENSIVE CENTER",detail:"Both LVO and ICH risks elevated",className:"critical",icon:"üè•"}:n>1.3&&t>=50?r={center:"THROMBECTOMY CENTER",detail:"LVO dominant - endovascular required",className:"lvo-dominant",icon:"üß†"}:n<.77&&e>=50?r={center:"NEUROSURGERY CENTER",detail:"ICH dominant - surgical capability required",className:"ich-dominant",icon:"ü©∏"}:r={center:"SPECIALIZED CENTER",detail:"Elevated risk requires specialized care",className:"moderate",icon:"‚ö°"},`
    <div class="tachometer-section">
      <div class="tachometer-card">
        <div class="tachometer-header">
          <h3>üéØ ${xt.getCurrentLanguage()==="de"?"Entscheidungshilfe ‚Äì LVO/ICH":"Decision Support ‚Äì LVO/ICH"}</h3>
          <div class="ratio-display">LVO/ICH Ratio: ${n.toFixed(2)}</div>
        </div>
        
        <div class="tachometer-gauge" id="tachometer-canvas-container">
          <canvas id="premium-diagnostic-gauge" width="400" height="400"></canvas>
        </div>

        <!-- Legend chips for zones -->
        <div class="tachometer-legend" aria-hidden="true">
          <span class="legend-chip ich">ICH</span>
          <span class="legend-chip balanced">Balanced</span>
          <span class="legend-chip lvo">LVO</span>
        </div>

        <!-- Metrics row: ratio, confidence, absolute difference -->
        <div class="metrics-row" role="group" aria-label="Tachometer metrics">
          <div class="metric-card">
            <div class="metric-label">Ratio</div>
            <div class="metric-value">${n.toFixed(2)}</div>
            <div class="metric-unit">LVO/ICH</div>
          </div>
          <div class="metric-card">
            <div class="metric-label">Confidence</div>
            <div class="metric-value">${(()=>{const i=Math.abs(t-e),o=Math.max(t,e);let s=i<10?Math.round(30+o*.3):i<20?Math.round(50+o*.4):Math.round(70+o*.3);return s=Math.max(0,Math.min(100,s)),s})()}%</div>
            <div class="metric-unit">percent</div>
          </div>
          <div class="metric-card">
            <div class="metric-label">Difference</div>
            <div class="metric-value">${Math.abs(t-e).toFixed(0)}%</div>
            <div class="metric-unit">|LVO ‚àí ICH|</div>
          </div>
        </div>
        
        <div class="treatment-recommendation ${r.className}">
          <div class="recommendation-icon">${r.icon}</div>
          <div class="recommendation-text">
            <h4>${r.center}</h4>
            <p>${r.detail}</p>
          </div>
          <div class="probability-summary">
            ICH: ${e}% | LVO: ${t}%
          </div>
        </div>
      </div>
    </div>
  `}let An=null;function Em(){if(!document.getElementById("premium-diagnostic-gauge"))return;An&&(An.destroy(),An=null);const t=document.querySelector(".tachometer-section");if(!t)return;const n=t.querySelector(".probability-summary");if(!n)return;const r=n.textContent,i=r.match(/ICH: (\d+)%/),o=r.match(/LVO: (\d+)%/);if(!i||!o)return;const s=parseInt(i[1]),l=parseInt(o[1]);An=new om("premium-diagnostic-gauge",{lvoProb:l,ichProb:s}),An.updateValues(l,s),console.log("üéØ Premium tachometer initialized:",{ichPercent:s,lvoPercent:l})}function Cm(e,t,n){const r=[];return n.required&&!t&&t!==0&&r.push("This field is required"),n.min!==void 0&&t!==""&&!isNaN(t)&&parseFloat(t)<n.min&&r.push(`Value must be at least ${n.min}`),n.max!==void 0&&t!==""&&!isNaN(t)&&parseFloat(t)>n.max&&r.push(`Value must be at most ${n.max}`),n.pattern&&!n.pattern.test(t)&&r.push("Invalid format"),r}function Lm(e){let t=!0;const n={};return Object.entries(ad).forEach(([r,i])=>{const o=e.elements[r];if(o){const s=Cm(r,o.value,i);s.length>0&&(n[r]=s,t=!1)}}),{isValid:t,validationErrors:n}}function Mm(e,t){Object.entries(t).forEach(([n,r])=>{const i=e.querySelector(`[name="${n}"]`);if(i){const o=i.closest(".input-group");if(o){o.classList.add("error"),o.querySelectorAll(".error-message").forEach(l=>l.remove());const s=document.createElement("div");s.className="error-message",s.innerHTML=`<span class="error-icon">‚ö†Ô∏è</span> ${r[0]}`,o.appendChild(s)}}})}function Tm(e){e.querySelectorAll(".input-group.error").forEach(t=>{t.classList.remove("error"),t.querySelectorAll(".error-message").forEach(n=>n.remove())})}function Na(e,t){var s,l;console.log(`=== EXTRACTING ${t.toUpperCase()} DRIVERS ===`),console.log("Full response:",e);let n=null;if(t==="ICH"?(n=((s=e.ich_prediction)==null?void 0:s.drivers)||null,console.log("üß† ICH raw drivers extracted:",n)):t==="LVO"&&(n=((l=e.lvo_prediction)==null?void 0:l.drivers)||null,console.log("ü©∏ LVO raw drivers extracted:",n)),!n)return console.log(`‚ùå No ${t} drivers found`),null;const r=Pm(n,t);console.log(`‚úÖ ${t} drivers formatted:`,r);const o=[...r.positive,...r.negative].find(a=>a.label&&(a.label.toLowerCase().includes("fast")||a.label.includes("fast_ed")));return o?console.log(`üéØ FAST-ED found in ${t}:`,`${o.label}: ${o.weight>0?"+":""}${o.weight.toFixed(4)}`):console.log(`‚ö†Ô∏è  FAST-ED NOT found in ${t} drivers`),r}function Pm(e,t){console.log(`üîÑ Formatting ${t} drivers from dictionary:`,e);const n=[],r=[];return Object.entries(e).forEach(([i,o])=>{typeof o=="number"&&(o>0?n.push({label:i,weight:o}):o<0&&r.push({label:i,weight:Math.abs(o)}))}),n.sort((i,o)=>o.weight-i.weight),r.sort((i,o)=>o.weight-i.weight),console.log(`üìà ${t} positive drivers:`,n.slice(0,5)),console.log(`üìâ ${t} negative drivers:`,r.slice(0,5)),{kind:"flat_dictionary",units:"logit",positive:n,negative:r,meta:{}}}function Ra(e,t){var r,i;console.log(`=== EXTRACTING ${t.toUpperCase()} PROBABILITY ===`);let n=0;return t==="ICH"?(n=((r=e.ich_prediction)==null?void 0:r.probability)||0,console.log("üß† ICH probability extracted:",n)):t==="LVO"&&(n=((i=e.lvo_prediction)==null?void 0:i.probability)||0,console.log("ü©∏ LVO probability extracted:",n)),n}function $a(e,t){var r,i;let n=.85;return t==="ICH"?n=((r=e.ich_prediction)==null?void 0:r.confidence)||.85:t==="LVO"&&(n=((i=e.lvo_prediction)==null?void 0:i.confidence)||.85),n}async function _m(){console.log("Warming up Cloud Functions...");const e=Object.values(At).map(async t=>{try{const n=new AbortController,r=setTimeout(()=>n.abort(),3e3);await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({}),signal:n.signal,mode:"cors"}),clearTimeout(r),console.log(`Warmed up: ${t}`)}catch{console.log(`Warm-up attempt for ${t.split("/").pop()} completed`)}});Promise.all(e).then(()=>{console.log("Cloud Functions warm-up complete")})}class ct extends Error{constructor(t,n,r){super(t),this.name="APIError",this.status=n,this.url=r}}function dl(e){const t={...e};return Object.keys(t).forEach(n=>{const r=t[n];(typeof r=="boolean"||r==="on"||r==="true"||r==="false")&&(t[n]=r===!0||r==="on"||r==="true"?1:0)}),t}function Ti(e,t=0){const n=parseFloat(e);return isNaN(n)?t:n}async function fl(e,t){const n=new AbortController,r=setTimeout(()=>n.abort(),So.requestTimeout);try{const i=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t),signal:n.signal,mode:"cors"});if(clearTimeout(r),!i.ok){let s=`HTTP ${i.status}`;try{const l=await i.json();s=l.error||l.message||s}catch{s=`${s}: ${i.statusText}`}throw new ct(s,i.status,e)}return await i.json()}catch(i){throw clearTimeout(r),i.name==="AbortError"?new ct("Request timeout - please try again",408,e):i instanceof ct?i:new ct("Network error - please check your connection and try again",0,e)}}async function xm(e){const t=dl(e);console.log("Coma ICH API Payload:",t);try{const n=await fl(At.COMA_ICH,t);return console.log("Coma ICH API Response:",n),{probability:Ti(n.probability||n.ich_probability,0),drivers:n.drivers||null,confidence:Ti(n.confidence,.75),module:"Coma"}}catch(n){throw console.error("Coma ICH prediction failed:",n),new ct(`Failed to get ICH prediction: ${n.message}`,n.status,At.COMA_ICH)}}async function Nm(e){const t={age_years:e.age_years,systolic_bp:e.systolic_bp,diastolic_bp:e.diastolic_bp,gfap_value:e.gfap_value,vigilanzminderung:e.vigilanzminderung||0},n=dl(t);console.log("Limited Data ICH API Payload:",n);try{const r=await fl(At.LDM_ICH,n);return console.log("Limited Data ICH API Response:",r),{probability:Ti(r.probability||r.ich_probability,0),drivers:r.drivers||null,confidence:Ti(r.confidence,.65),module:"Limited Data"}}catch(r){throw console.error("Limited Data ICH prediction failed:",r),new ct(`Failed to get ICH prediction: ${r.message}`,r.status,At.LDM_ICH)}}async function Rm(e){var r,i,o,s,l,a;const t={age_years:e.age_years,systolic_bp:e.systolic_bp,diastolic_bp:e.diastolic_bp,gfap_value:e.gfap_value,fast_ed_score:e.fast_ed_score,headache:e.headache||0,vigilanzminderung:e.vigilanzminderung||0,armparese:e.armparese||0,beinparese:e.beinparese||0,eye_deviation:e.eye_deviation||0,atrial_fibrillation:e.atrial_fibrillation||0,anticoagulated_noak:e.anticoagulated_noak||0,antiplatelets:e.antiplatelets||0},n=dl(t);console.log("=== BACKEND DATA MAPPING TEST ==="),console.log("üì§ Full Stroke API Payload:",n),console.log("üß™ Clinical Variables Being Sent:"),console.log("  üìä FAST-ED Score:",n.fast_ed_score),console.log("  ü©∏ Systolic BP:",n.systolic_bp),console.log("  ü©∏ Diastolic BP:",n.diastolic_bp),console.log("  üß¨ GFAP Value:",n.gfap_value),console.log("  üë§ Age:",n.age_years),console.log("  ü§ï Headache:",n.headache),console.log("  üòµ Vigilanz:",n.vigilanzminderung),console.log("  üí™ Arm Parese:",n.armparese),console.log("  ü¶µ Leg Parese:",n.beinparese),console.log("  üëÅÔ∏è Eye Deviation:",n.eye_deviation),console.log("  üíì Atrial Fib:",n.atrial_fibrillation),console.log("  üíä Anticoag NOAK:",n.anticoagulated_noak),console.log("  üíä Antiplatelets:",n.antiplatelets);try{const u=await fl(At.FULL_STROKE,n);console.log("üì• Full Stroke API Response:",u),console.log("üîë Available keys in response:",Object.keys(u)),console.log("=== BACKEND MAPPING VERIFICATION ===");const f=JSON.stringify(u).toLowerCase();console.log("üîç Backend Feature Name Analysis:"),console.log('  Contains "fast":',f.includes("fast")),console.log('  Contains "ed":',f.includes("ed")),console.log('  Contains "fast_ed":',f.includes("fast_ed")),console.log('  Contains "systolic":',f.includes("systolic")),console.log('  Contains "diastolic":',f.includes("diastolic")),console.log('  Contains "gfap":',f.includes("gfap")),console.log('  Contains "age":',f.includes("age")),console.log('  Contains "headache":',f.includes("headache")),console.log("üß† ICH driver sources:"),console.log("  response.ich_prediction?.drivers:",(r=u.ich_prediction)==null?void 0:r.drivers),console.log("  response.ich_drivers:",u.ich_drivers),console.log("  response.ich?.drivers:",(i=u.ich)==null?void 0:i.drivers),console.log("  response.drivers?.ich:",(o=u.drivers)==null?void 0:o.ich),console.log("ü©∏ LVO driver sources:"),console.log("  response.lvo_prediction?.drivers:",(s=u.lvo_prediction)==null?void 0:s.drivers),console.log("  response.lvo_drivers:",u.lvo_drivers),console.log("  response.lvo?.drivers:",(l=u.lvo)==null?void 0:l.drivers),console.log("  response.drivers?.lvo:",(a=u.drivers)==null?void 0:a.lvo),Object.keys(u).forEach(p=>{const y=u[p];typeof y=="number"&&y>=0&&y<=1&&console.log(`Potential probability field: ${p} = ${y}`)});const h=Ra(u,"ICH"),g=Ra(u,"LVO"),S=Na(u,"ICH"),v=Na(u,"LVO"),k=$a(u,"ICH"),P=$a(u,"LVO");return console.log("‚úÖ Clean extraction results:"),console.log("  ICH:",{probability:h,hasDrivers:!!S}),console.log("  LVO:",{probability:g,hasDrivers:!!v}),{ich:{probability:h,drivers:S,confidence:k,module:"Full Stroke"},lvo:{probability:g,drivers:v,confidence:P,module:"Full Stroke"}}}catch(u){throw console.error("Full Stroke prediction failed:",u),new ct(`Failed to get stroke predictions: ${u.message}`,u.status,At.FULL_STROKE)}}const $m=()=>[{id:"acute_deficit",checked:!1},{id:"symptom_onset",checked:!1},{id:"no_preexisting",checked:!1},{id:"no_trauma",checked:!1}];function Am(){const e=$m();return`
    <div id="prerequisitesModal" class="modal prerequisites-modal" style="display: flex;">
      <div class="modal-content prerequisites-content">
        <div class="modal-header">
          <h2>${m("prerequisitesTitle")}</h2>
          <button class="modal-close" id="closePrerequisites">&times;</button>
        </div>
        
        <div class="modal-body">
          <p class="prerequisites-intro">
            ${m("prerequisitesIntro")}
          </p>
          
          <div class="prerequisites-list">
            ${e.map(t=>`
              <div class="prerequisite-item" data-id="${t.id}">
                <label class="toggle-switch">
                  <input type="checkbox" id="${t.id}" class="toggle-input">
                  <span class="toggle-slider"></span>
                </label>
                <span class="prerequisite-label">
                  ${m(t.id)}
                </span>
              </div>
            `).join("")}
          </div>
          
          <div class="prerequisites-warning" id="prerequisitesWarning" style="display: none;">
            <span class="warning-icon">‚ö†Ô∏è</span>
            <span class="warning-text">
              ${m("prerequisitesWarning")}
            </span>
          </div>
        </div>
        
        <div class="modal-footer">
          <div class="button-group">
            <button type="button" class="secondary" id="cancelPrerequisites">
              ${m("cancel")}
            </button>
            <button type="button" class="primary" id="confirmPrerequisites">
              ${m("continue")}
            </button>
          </div>
        </div>
      </div>
    </div>
  `}function Im(){const e=document.getElementById("prerequisitesModal");if(!e){console.error("Prerequisites modal not found");return}console.log("Initializing prerequisites modal");const t=document.getElementById("closePrerequisites"),n=document.getElementById("cancelPrerequisites"),r=document.getElementById("confirmPrerequisites");console.log("Modal buttons found:",{closeBtn:!!t,cancelBtn:!!n,confirmBtn:!!r});const i=()=>{e.remove(),hr("welcome")};t==null||t.addEventListener("click",i),n==null||n.addEventListener("click",i),r==null||r.addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),console.log("Prerequisites confirm button clicked");const l=e.querySelectorAll(".toggle-input"),a=Array.from(l).every(u=>u.checked);if(console.log("All prerequisites checked:",a),a)console.log("Navigating to triage2"),e.remove(),hr("triage2");else{console.log("Showing prerequisites warning");const u=document.getElementById("prerequisitesWarning");u&&(u.style.display="flex",u.classList.add("shake"),setTimeout(()=>u.classList.remove("shake"),500))}});const o=e.querySelectorAll(".toggle-input");o.forEach(s=>{s.addEventListener("change",()=>{const l=Array.from(o).every(u=>u.checked),a=document.getElementById("prerequisitesWarning");l&&a&&(a.style.display="none")})})}function Dm(){const e=document.getElementById("prerequisitesModal");e&&e.remove();const t=document.createElement("div");t.innerHTML=Am();const n=t.firstElementChild;document.body.appendChild(n),Im()}function Fm(e){I.logEvent("triage1_answer",{comatose:e}),e?hr("coma"):Dm()}function Bm(e){I.logEvent("triage2_answer",{examinable:e}),hr(e?"full":"limited")}function hr(e){I.logEvent("navigate",{from:I.getState().currentScreen,to:e}),I.navigate(e),window.scrollTo(0,0)}function zm(){I.hasUnsavedData()&&!confirm("Are you sure you want to start over? All entered data will be lost.")||(I.logEvent("reset"),I.reset())}function Om(){console.log("goBack() called");const e=I.goBack();console.log("goBack() success:",e),e?(I.logEvent("navigate_back"),window.scrollTo(0,0)):(console.log("No history available, going home instead"),nd())}function nd(){console.log("goHome() called"),I.logEvent("navigate_home"),I.goHome(),window.scrollTo(0,0)}async function Hm(e,t){e.preventDefault();const n=e.target,r=n.dataset.module,i=Lm(n);if(!i.isValid){Mm(t,i.validationErrors);try{const a=Object.keys(i.validationErrors)[0];if(a&&n.elements[a]){const h=n.elements[a];h.focus({preventScroll:!0}),h.scrollIntoView({behavior:"smooth",block:"center"})}const u=document.createElement("div");u.className="sr-only",u.setAttribute("role","status"),u.setAttribute("aria-live","polite");const f=Object.keys(i.validationErrors).length;u.textContent=`${f} field${f===1?"":"s"} need attention.`,document.body.appendChild(u),setTimeout(()=>u.remove(),1200)}catch{}return}const o={};Array.from(n.elements).forEach(a=>{if(a.name)if(a.type==="checkbox")o[a.name]=a.checked;else if(a.type==="number"){const u=parseFloat(a.value);o[a.name]=isNaN(u)?0:u}else a.type==="hidden"&&a.name==="armparese"?o[a.name]=a.value==="true":o[a.name]=a.value}),console.log("Collected form inputs:",o),I.setFormData(r,o);const s=n.querySelector("button[type=submit]"),l=s?s.innerHTML:"";s&&(s.disabled=!0,s.innerHTML=`<span class="loading-spinner"></span> ${m("analyzing")}`);try{let a;switch(r){case"coma":a={ich:await xm(o),lvo:null};break;case"limited":a={ich:await Nm(o),lvo:{notPossible:!0}};break;case"full":a=await Rm(o);break;default:throw new Error("Unknown module: "+r)}I.setResults(a),I.logEvent("models_complete",{module:r,results:a}),hr("results")}catch(a){console.error("Error running models:",a);let u="An error occurred during analysis. Please try again.";a instanceof ct&&(u=a.message),Vm(t,u),s&&(s.disabled=!1,s.innerHTML=l)}}function Vm(e,t){e.querySelectorAll(".critical-alert").forEach(i=>{var o,s;(s=(o=i.querySelector("h4"))==null?void 0:o.textContent)!=null&&s.includes("Error")&&i.remove()});const n=document.createElement("div");n.className="critical-alert",n.innerHTML=`<h4><span class="alert-icon">‚ö†Ô∏è</span> Error</h4><p>${t}</p>`;const r=e.querySelector(".container");r?r.prepend(n):e.prepend(n),setTimeout(()=>n.remove(),1e4)}function Um(e){const t=document.createElement("div");t.className="sr-only",t.setAttribute("role","status"),t.setAttribute("aria-live","polite");const n={triage1:"Coma assessment",triage2:"Examination capability assessment",coma:"Coma module",limited:"Limited data module",full:"Full stroke assessment",results:"Assessment results"};t.textContent=`Navigated to ${n[e]||e}`,document.body.appendChild(t),setTimeout(()=>t.remove(),1e3)}function Wm(e){const t="iGFAP",r={triage1:"Initial Assessment",triage2:"Examination Capability",coma:"Coma Module",limited:"Limited Data Module",full:"Full Stroke Module",results:"Assessment Results"}[e];document.title=r?`${t} ‚Äî ${r}`:t}function jm(){setTimeout(()=>{const e=document.querySelector("h2");e&&(e.setAttribute("tabindex","-1"),e.focus(),setTimeout(()=>e.removeAttribute("tabindex"),100))},100)}class Km{constructor(){this.scores={facial_palsy:0,arm_weakness:0,speech_changes:0,eye_deviation:0,denial_neglect:0},this.onApply=null,this.modal=null}getTotal(){return Object.values(this.scores).reduce((t,n)=>t+n,0)}getRiskLevel(){return this.getTotal()>=4?"high":"low"}render(){const t=this.getTotal(),n=this.getRiskLevel();return`
      <div id="fastEdModal" class="modal" role="dialog" aria-labelledby="fastEdModalTitle" aria-hidden="true" style="display: none !important;">
        <div class="modal-content fast-ed-modal">
          <div class="modal-header">
            <h2 id="fastEdModalTitle">${m("fastEdCalculatorTitle")}</h2>
            <button class="modal-close" aria-label="Close">&times;</button>
          </div>
          <div class="modal-body">
            
            <!-- Facial Palsy -->
            <div class="fast-ed-component">
              <h3>${m("facialPalsyTitle")}</h3>
              <div class="radio-group">
                <label class="radio-option">
                  <input type="radio" name="facial_palsy" value="0" ${this.scores.facial_palsy===0?"checked":""}>
                  <span class="radio-label">${m("facialPalsyNormal")}</span>
                </label>
                <label class="radio-option">
                  <input type="radio" name="facial_palsy" value="1" ${this.scores.facial_palsy===1?"checked":""}>
                  <span class="radio-label">${m("facialPalsyMild")}</span>
                </label>
              </div>
            </div>

            <!-- Arm Weakness -->
            <div class="fast-ed-component">
              <h3>${m("armWeaknessTitle")}</h3>
              <div class="radio-group">
                <label class="radio-option">
                  <input type="radio" name="arm_weakness" value="0" ${this.scores.arm_weakness===0?"checked":""}>
                  <span class="radio-label">${m("armWeaknessNormal")}</span>
                </label>
                <label class="radio-option">
                  <input type="radio" name="arm_weakness" value="1" ${this.scores.arm_weakness===1?"checked":""}>
                  <span class="radio-label">${m("armWeaknessMild")}</span>
                </label>
                <label class="radio-option">
                  <input type="radio" name="arm_weakness" value="2" ${this.scores.arm_weakness===2?"checked":""}>
                  <span class="radio-label">${m("armWeaknessSevere")}</span>
                </label>
              </div>
            </div>

            <!-- Speech Changes -->
            <div class="fast-ed-component">
              <h3>${m("speechChangesTitle")}</h3>
              <div class="radio-group">
                <label class="radio-option">
                  <input type="radio" name="speech_changes" value="0" ${this.scores.speech_changes===0?"checked":""}>
                  <span class="radio-label">${m("speechChangesNormal")}</span>
                </label>
                <label class="radio-option">
                  <input type="radio" name="speech_changes" value="1" ${this.scores.speech_changes===1?"checked":""}>
                  <span class="radio-label">${m("speechChangesMild")}</span>
                </label>
                <label class="radio-option">
                  <input type="radio" name="speech_changes" value="2" ${this.scores.speech_changes===2?"checked":""}>
                  <span class="radio-label">${m("speechChangesSevere")}</span>
                </label>
              </div>
            </div>

            <!-- Eye Deviation -->
            <div class="fast-ed-component">
              <h3>${m("eyeDeviationTitle")}</h3>
              <div class="radio-group">
                <label class="radio-option">
                  <input type="radio" name="eye_deviation" value="0" ${this.scores.eye_deviation===0?"checked":""}>
                  <span class="radio-label">${m("eyeDeviationNormal")}</span>
                </label>
                <label class="radio-option">
                  <input type="radio" name="eye_deviation" value="1" ${this.scores.eye_deviation===1?"checked":""}>
                  <span class="radio-label">${m("eyeDeviationPartial")}</span>
                </label>
                <label class="radio-option">
                  <input type="radio" name="eye_deviation" value="2" ${this.scores.eye_deviation===2?"checked":""}>
                  <span class="radio-label">${m("eyeDeviationForced")}</span>
                </label>
              </div>
            </div>

            <!-- Denial/Neglect -->
            <div class="fast-ed-component">
              <h3>${m("denialNeglectTitle")}</h3>
              <div class="radio-group">
                <label class="radio-option">
                  <input type="radio" name="denial_neglect" value="0" ${this.scores.denial_neglect===0?"checked":""}>
                  <span class="radio-label">${m("denialNeglectNormal")}</span>
                </label>
                <label class="radio-option">
                  <input type="radio" name="denial_neglect" value="1" ${this.scores.denial_neglect===1?"checked":""}>
                  <span class="radio-label">${m("denialNeglectPartial")}</span>
                </label>
                <label class="radio-option">
                  <input type="radio" name="denial_neglect" value="2" ${this.scores.denial_neglect===2?"checked":""}>
                  <span class="radio-label">${m("denialNeglectComplete")}</span>
                </label>
              </div>
            </div>

            <!-- Total Score Display -->
            <div class="fast-ed-total">
              <div class="score-display">
                <h3>${m("totalScoreTitle")}: <span class="total-score">${t}/9</span></h3>
                <div class="risk-indicator ${n}">
                  ${m("riskLevel")}: ${m(n==="high"?"riskLevelHigh":"riskLevelLow")}
                </div>
              </div>
            </div>

          </div>
          <div class="modal-footer">
            <div class="button-group">
              <button class="secondary" data-action="cancel-fast-ed">${m("cancel")}</button>
              <button class="primary" data-action="apply-fast-ed">${m("applyScore")}</button>
            </div>
          </div>
        </div>
      </div>
    `}setupEventListeners(){if(this.modal=document.getElementById("fastEdModal"),!this.modal)return;this.modal.addEventListener("change",i=>{if(i.target.type==="radio"){const o=i.target.name,s=parseInt(i.target.value);this.scores[o]=s,this.updateDisplay()}});const t=this.modal.querySelector(".modal-close");t==null||t.addEventListener("click",()=>this.close());const n=this.modal.querySelector('[data-action="cancel-fast-ed"]');n==null||n.addEventListener("click",()=>this.close());const r=this.modal.querySelector('[data-action="apply-fast-ed"]');r==null||r.addEventListener("click",()=>this.apply()),this.modal.addEventListener("click",i=>{i.target===this.modal&&(i.preventDefault(),i.stopPropagation())}),document.addEventListener("keydown",i=>{var o;i.key==="Escape"&&((o=this.modal)!=null&&o.classList.contains("show"))&&this.close()})}updateDisplay(){var r,i;const t=(r=this.modal)==null?void 0:r.querySelector(".total-score"),n=(i=this.modal)==null?void 0:i.querySelector(".risk-indicator");if(t&&(t.textContent=`${this.getTotal()}/9`),n){const o=this.getRiskLevel();n.className=`risk-indicator ${o}`,n.textContent=`${m("riskLevel")}: ${m(o==="high"?"riskLevelHigh":"riskLevelLow")}`}}show(t=0,n=null){this.onApply=n,t>0&&t<=9&&this.approximateFromTotal(t),document.getElementById("fastEdModal")?(this.modal.remove(),document.body.insertAdjacentHTML("beforeend",this.render()),this.modal=document.getElementById("fastEdModal")):document.body.insertAdjacentHTML("beforeend",this.render()),this.setupEventListeners(),this.modal.setAttribute("aria-hidden","false"),this.modal.style.display="flex",this.modal.classList.add("show");const r=this.modal.querySelector('input[type="radio"]');r==null||r.focus()}close(){this.modal&&(this.modal.classList.remove("show"),this.modal.style.display="none",this.modal.setAttribute("aria-hidden","true"))}apply(){const t=this.getTotal(),n=this.scores.arm_weakness>0,r=this.scores.eye_deviation>0;this.onApply&&this.onApply({total:t,components:{...this.scores},armWeaknessBoolean:n,eyeDeviationBoolean:r}),this.close()}approximateFromTotal(t){this.scores={facial_palsy:0,arm_weakness:0,speech_changes:0,eye_deviation:0,denial_neglect:0};let n=t;const r=Object.keys(this.scores);for(const i of r){if(n<=0)break;const s=Math.min(n,i==="facial_palsy"?1:2);this.scores[i]=s,n-=s}}}const Gm=new Km;function In(e){const t=I.getState(),{currentScreen:n,results:r,startTime:i,navigationHistory:o}=t,s=document.createElement("div"),l=document.getElementById("backButton");l&&(l.style.display=o&&o.length>0?"flex":"none");let a="";switch(n){case"triage1":a=hl();break;case"triage2":a=ld();break;case"coma":a=ud();break;case"limited":a=cd();break;case"full":a=dd();break;case"results":a=hm(r,i);break;default:a=hl()}for(s.innerHTML=a,e.innerHTML="";s.firstChild;)e.appendChild(s.firstChild);const u=e.querySelector("form[data-module]");if(u){const f=u.dataset.module;Ym(u,f)}qm(e),n==="results"&&r&&setTimeout(()=>{kd(r)},100),setTimeout(()=>{fm()},150),Um(n),Wm(n),jm()}function Ym(e,t){const n=I.getFormData(t);!n||Object.keys(n).length===0||Object.entries(n).forEach(([r,i])=>{const o=e.elements[r];o&&(o.type==="checkbox"?o.checked=i===!0||i==="on"||i==="true":o.value=i)})}function qm(e){e.querySelectorAll('input[type="number"]').forEach(i=>{i.addEventListener("blur",()=>{Tm(e)})}),e.querySelectorAll("[data-action]").forEach(i=>{i.addEventListener("click",o=>{const{action:s,value:l}=o.currentTarget.dataset,a=l==="true";switch(s){case"triage1":Fm(a);break;case"triage2":Bm(a);break;case"reset":zm();break;case"goBack":Om();break;case"goHome":nd();break}})}),e.querySelectorAll("form[data-module]").forEach(i=>{i.addEventListener("submit",o=>{Hm(o,e)})});const t=e.querySelector("#printResults");t&&t.addEventListener("click",()=>window.print());const n=e.querySelector("#fast_ed_score");n&&(n.addEventListener("click",i=>{i.preventDefault();const o=parseInt(n.value)||0;Gm.show(o,s=>{n.value=s.total;const l=e.querySelector("#armparese_hidden");l&&(l.value=s.armWeaknessBoolean?"true":"false");const a=e.querySelector("#eye_deviation_hidden");a&&(a.value=s.eyeDeviationBoolean?"true":"false"),n.dispatchEvent(new Event("change",{bubbles:!0}))})}),n.addEventListener("keydown",i=>{i.preventDefault()})),e.querySelectorAll(".info-toggle").forEach(i=>{i.addEventListener("click",o=>{const s=i.dataset.target,l=e.querySelector(`#${s}`),a=i.querySelector(".toggle-arrow");l&&(l.style.display!=="none"?(l.style.display="none",l.classList.remove("show"),i.classList.remove("active"),a.style.transform="rotate(0deg)"):(l.style.display="block",l.classList.add("show"),i.classList.add("active"),a.style.transform="rotate(180deg)"))})})}class Qm{constructor(){this.container=null,this.unsubscribe=null}async init(){if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",()=>this.init());return}if(this.container=document.getElementById("appContainer"),!this.container){console.error("App container not found");return}this.unsubscribe=I.subscribe(()=>{In(this.container),setTimeout(()=>this.initializeResearchMode(),200)}),window.addEventListener("languageChanged",()=>{this.updateUILanguage(),In(this.container)}),this.setupGlobalEventListeners(),this.initializeTheme(),this.initializeResearchMode(),this.updateUILanguage(),this.startAutoSave(),this.setupSessionTimeout(),this.setCurrentYear(),this.registerServiceWorker(),_m(),In(this.container),console.log("iGFAP Stroke Triage Assistant initialized")}setupGlobalEventListeners(){const t=document.getElementById("backButton");t&&t.addEventListener("click",()=>{I.goBack(),In(this.container)});const n=document.getElementById("homeButton");n&&n.addEventListener("click",()=>{I.goHome(),In(this.container)});const r=document.getElementById("languageToggle");r&&r.addEventListener("click",()=>this.toggleLanguage());const i=document.getElementById("darkModeToggle");i&&i.addEventListener("click",()=>this.toggleDarkMode());const o=document.getElementById("researchModeToggle");o&&o.addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),this.toggleResearchMode()}),this.setupHelpModal(),this.setupFooterLinks(),document.addEventListener("keydown",s=>{if(s.key==="Escape"){const l=document.getElementById("helpModal");l&&l.classList.contains("show")&&(l.classList.remove("show"),l.style.display="none",l.setAttribute("aria-hidden","true"))}}),window.addEventListener("beforeunload",s=>{I.hasUnsavedData()&&(s.preventDefault(),s.returnValue="You have unsaved data. Are you sure you want to leave?")})}setupHelpModal(){const t=document.getElementById("helpButton"),n=document.getElementById("helpModal"),r=n==null?void 0:n.querySelector(".modal-close");if(t&&n){n.classList.remove("show"),n.style.display="none",n.setAttribute("aria-hidden","true"),t.addEventListener("click",()=>{n.style.display="flex",n.classList.add("show"),n.setAttribute("aria-hidden","false")});const i=()=>{n.classList.remove("show"),n.style.display="none",n.setAttribute("aria-hidden","true")};r==null||r.addEventListener("click",i),n.addEventListener("click",o=>{o.target===n&&i()})}}setupFooterLinks(){var t,n;(t=document.getElementById("privacyLink"))==null||t.addEventListener("click",r=>{r.preventDefault(),this.showPrivacyPolicy()}),(n=document.getElementById("disclaimerLink"))==null||n.addEventListener("click",r=>{r.preventDefault(),this.showDisclaimer()})}initializeTheme(){const t=localStorage.getItem("theme"),n=document.getElementById("darkModeToggle");(t==="dark"||!t&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(document.body.classList.add("dark-mode"),n&&(n.textContent="‚òÄÔ∏è"))}toggleLanguage(){xt.toggleLanguage(),this.updateUILanguage();const t=document.getElementById("languageToggle");if(t){const n=xt.getCurrentLanguage();t.textContent=n==="en"?"üá¨üáß":"üá©üá™",t.dataset.lang=n}}updateUILanguage(){document.documentElement.lang=xt.getCurrentLanguage();const t=document.querySelector(".app-header h1");t&&(t.textContent=m("appTitle"));const n=document.querySelector(".emergency-badge");n&&(n.textContent=m("emergencyBadge"));const r=document.getElementById("languageToggle");r&&(r.title=m("languageToggle"),r.setAttribute("aria-label",m("languageToggle")));const i=document.getElementById("helpButton");i&&(i.title=m("helpButton"),i.setAttribute("aria-label",m("helpButton")));const o=document.getElementById("darkModeToggle");o&&(o.title=m("darkModeButton"),o.setAttribute("aria-label",m("darkModeButton")));const s=document.getElementById("modalTitle");s&&(s.textContent=m("helpTitle"))}toggleDarkMode(){const t=document.getElementById("darkModeToggle");document.body.classList.toggle("dark-mode");const n=document.body.classList.contains("dark-mode");t&&(t.textContent=n?"‚òÄÔ∏è":"üåô"),localStorage.setItem("theme",n?"dark":"light")}initializeResearchMode(){const t=document.getElementById("researchModeToggle");if(t){const n=this.getCurrentModuleFromResults(),r=n==="limited"||n==="full";t.style.display=r?"flex":"none",t.style.opacity=r?"1":"0.5",console.log(`üî¨ Research button visibility: ${r?"VISIBLE":"HIDDEN"} (module: ${n})`)}}getCurrentModuleFromResults(){var r,i;const t=I.getState();if(t.currentScreen!=="results"||!((i=(r=t.results)==null?void 0:r.ich)!=null&&i.module))return null;const n=t.results.ich.module.toLowerCase();return n.includes("coma")?"coma":n.includes("limited")?"limited":n.includes("full")?"full":null}toggleResearchMode(){const t=document.getElementById("researchPanel");if(!t){console.warn("üî¨ Research panel not found - likely not on results screen");return}const n=t.style.display!=="none";t.style.display=n?"none":"block";const r=document.getElementById("researchModeToggle");return r&&(r.style.background=n?"rgba(255, 255, 255, 0.1)":"rgba(0, 102, 204, 0.2)"),console.log(`üî¨ Research panel ${n?"HIDDEN":"SHOWN"}`),!1}showResearchActivationMessage(){const t=document.createElement("div");t.className="research-activation-toast",t.innerHTML=`
      <div class="toast-content">
        üî¨ <strong>Research Mode Activated</strong><br>
        <small>Model comparison features enabled</small>
      </div>
    `,document.body.appendChild(t),setTimeout(()=>{document.body.contains(t)&&document.body.removeChild(t)},3e3)}startAutoSave(){setInterval(()=>{this.saveCurrentFormData()},So.autoSaveInterval)}saveCurrentFormData(){this.container.querySelectorAll("form[data-module]").forEach(n=>{const r=new FormData(n),i=n.dataset.module;if(i){const o={};r.forEach((a,u)=>{const f=n.elements[u];f&&f.type==="checkbox"?o[u]=f.checked:o[u]=a});const s=I.getFormData(i);JSON.stringify(s)!==JSON.stringify(o)&&I.setFormData(i,o)}})}setupSessionTimeout(){setTimeout(()=>{confirm("Your session has been idle for 30 minutes. Would you like to continue?")?this.setupSessionTimeout():I.reset()},So.sessionTimeout)}setCurrentYear(){const t=document.getElementById("currentYear");t&&(t.textContent=new Date().getFullYear())}showPrivacyPolicy(){alert("Privacy Policy: This tool processes data locally. No patient data is stored or transmitted.")}showDisclaimer(){alert("Medical Disclaimer: This tool is for clinical decision support only. Always use clinical judgment and follow local protocols.")}async registerServiceWorker(){if(!("serviceWorker"in navigator)){console.log("Service Workers not supported");return}try{const t=await navigator.serviceWorker.register("/0825/sw.js",{scope:"/0825/"});console.log("Service Worker registered successfully:",t),t.addEventListener("updatefound",()=>{const n=t.installing;console.log("New service worker found"),n.addEventListener("statechange",()=>{n.state==="installed"&&navigator.serviceWorker.controller&&(console.log("New service worker installed, update available"),this.showUpdateNotification())})}),navigator.serviceWorker.addEventListener("message",n=>{console.log("Message from service worker:",n.data)})}catch(t){console.error("Service Worker registration failed:",t)}}showUpdateNotification(){const t=document.createElement("div");t.className="modal show update-modal",t.style.cssText=`
      display: flex;
      position: fixed;
      z-index: 2000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.6);
      backdrop-filter: blur(5px);
      align-items: center;
      justify-content: center;
    `;const n=document.createElement("div");n.className="modal-content",n.style.cssText=`
      background-color: var(--container-bg);
      padding: 30px;
      border-radius: 16px;
      max-width: 400px;
      box-shadow: var(--shadow-lg);
      text-align: center;
      animation: slideUp 0.3s ease;
    `,n.innerHTML=`
      <div style="margin-bottom: 20px;">
        <div style="font-size: 3rem; margin-bottom: 16px;">üîÑ</div>
        <h3 style="margin: 0 0 12px 0; color: var(--text-color);">Update Available</h3>
        <p style="color: var(--text-secondary); margin: 0 0 24px 0; line-height: 1.5;">
          A new version with improvements is ready to install.
        </p>
      </div>
      <div style="display: flex; gap: 12px; justify-content: center;">
        <button id="updateNow" class="primary" style="flex: 1; max-width: 140px;">
          Refresh Now
        </button>
        <button id="updateLater" class="secondary" style="flex: 1; max-width: 140px;">
          Later
        </button>
      </div>
    `,t.appendChild(n),document.body.appendChild(t);const r=t.querySelector("#updateNow"),i=t.querySelector("#updateLater");r.addEventListener("click",()=>{window.location.reload()}),i.addEventListener("click",()=>{t.remove(),setTimeout(()=>this.showUpdateNotification(),5*60*1e3)}),t.addEventListener("click",o=>{o.target===t&&i.click()})}destroy(){this.unsubscribe&&this.unsubscribe()}}const Xm=new Qm;Xm.init();
//# sourceMappingURL=index-RtlqRmKE.js.map
